@import "tailwindcss";

/* Import generated design tokens from token pipeline */
@import "@nasnet/ui/tokens/variables.css";

/* CSS Variables for shadcn/ui theming */
/* Based on NasNetConnect UX Design Specification */
/* Complete dual-theme support (light + dark modes) */

@layer base {
  :root {
    /* ========================================
     * LIGHT THEME - Primary colors
     * ======================================== */
    
    /* Main surface colors */
    --background: 210 40% 96.1%; /* slate-100 #F1F5F9 */
    --foreground: 222.2 47.4% 11.2%; /* slate-900 #0F172A */
    
    /* Surface hierarchy */
    --surface: 0 0% 100%; /* white #FFFFFF */
    --surface-secondary: 210 40% 98%; /* slate-50 #F8FAFC */

    /* Card surfaces */
    --card: 0 0% 100%; /* white */
    --card-foreground: 222.2 47.4% 11.2%; /* slate-900 */

    /* Popover surfaces */
    --popover: 0 0% 100%; /* white */
    --popover-foreground: 222.2 47.4% 11.2%; /* slate-900 */

    /* Primary: Golden Amber #EFC729 - empowerment, confidence, energy */
    --primary: 47 84% 55%;
    --primary-foreground: 222.2 47.4% 11.2%; /* dark text for WCAG AAA contrast */

    /* Secondary: Trust Blue #4972ba - reliability, safety, trust */
    --secondary: 217 44% 51%;
    --secondary-foreground: 210 40% 98%; /* light text for contrast */

    /* Muted backgrounds */
    --muted: 210 40% 96.1%; /* slate-100 */
    --muted-foreground: 215.4 16.3% 46.9%; /* slate-500 */

    /* Accent backgrounds */
    --accent: 210 40% 96.1%; /* slate-100 */
    --accent-foreground: 222.2 47.4% 11.2%; /* slate-900 */

    /* Destructive/error states */
    --destructive: 0 84.2% 60.2%; /* red #EF4444 */
    --destructive-foreground: 210 40% 98%; /* light text */

    /* Borders and inputs */
    --border: 214.3 31.8% 91.4%; /* slate-200 #E2E8F0 */
    --input: 214.3 31.8% 91.4%; /* slate-200 */
    --ring: 47 84% 55%; /* primary color for focus ring */

    /* Component-specific tokens */
    --radius: 0.75rem; /* Base border radius */
    --card-padding: 1rem;
    --button-height: 2.5rem;
    --nav-height: 4rem;
  }

  .dark {
    /* ========================================
     * DARK THEME - All colors optimized
     * ======================================== */
    
    /* Main surface colors */
    --background: 222.2 47.4% 11.2%; /* slate-900 #0F172A */
    --foreground: 210 40% 98%; /* slate-50 #F8FAFC */
    
    /* Surface hierarchy */
    --surface: 217.2 32.6% 17.5%; /* slate-800 #1E293B */
    --surface-secondary: 215 25% 27%; /* slate-700 #334155 */

    /* Card surfaces */
    --card: 217.2 32.6% 17.5%; /* slate-800 #1E293B */
    --card-foreground: 210 40% 98%; /* slate-50 */

    /* Popover surfaces */
    --popover: 217.2 32.6% 17.5%; /* slate-800 */
    --popover-foreground: 210 40% 98%; /* slate-50 */

    /* Primary: Golden Amber - maintains visibility in dark mode */
    --primary: 47 84% 55%; /* #EFC729 - works well on dark backgrounds */
    --primary-foreground: 222.2 47.4% 11.2%; /* dark text for contrast */

    /* Secondary: Trust Blue - adjusted for dark mode */
    --secondary: 215 25% 27%; /* slate-700 as bg */
    --secondary-foreground: 210 40% 98%; /* light text */

    /* Muted backgrounds */
    --muted: 215 25% 27%; /* slate-700 */
    --muted-foreground: 215 20.2% 65.1%; /* slate-400 */

    /* Accent backgrounds */
    --accent: 215 25% 27%; /* slate-700 */
    --accent-foreground: 210 40% 98%; /* slate-50 */

    /* Destructive/error states - darker for dark mode */
    --destructive: 0 62.8% 30.6%; /* darker red #DC2626 */
    --destructive-foreground: 210 40% 98%; /* light text */

    /* Borders and inputs - more visible in dark mode */
    --border: 215 25% 27%; /* slate-700 #334155 */
    --input: 215 25% 27%; /* slate-700 */
    --ring: 47 84% 55%; /* primary color for focus ring */

    /* Component-specific tokens (same as light) */
    --radius: 0.75rem;
    --card-padding: 1rem;
    --button-height: 2.5rem;
    --nav-height: 4rem;
  }
}

@layer base {
  * {
    border-color: hsl(var(--border));
  }
  
  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    font-feature-settings: "rlig" 1, "calt" 1;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
  }
  
  /* Smooth theme transitions - 200ms as per design spec */
  * {
    transition-property: background-color, border-color, color, fill, stroke;
    transition-timing-function: ease-in-out;
    transition-duration: 200ms;
  }
  
  /* Disable transitions for animations and transforms */
  *,
  *::before,
  *::after {
    transition-property: background-color, border-color, color, fill, stroke;
  }
}

/* ========================================
 * CUSTOM UTILITY CLASSES
 * Theme-aware components and utilities
 * ======================================== */

@layer components {
  /* Status badges - work in both light and dark themes */
  .status-connected {
    background-color: #22C55E;
    color: white;
  }
  
  .dark .status-connected {
    background-color: #16A34A;
  }
  
  .status-warning {
    background-color: #F59E0B;
    color: #0F172A;
  }
  
  .dark .status-warning {
    background-color: #D97706;
    color: white;
  }
  
  .status-error {
    background-color: #EF4444;
    color: white;
  }
  
  .dark .status-error {
    background-color: #DC2626;
  }
  
  .status-info {
    background-color: #0EA5E9;
    color: white;
  }
  
  .dark .status-info {
    background-color: #0284C7;
  }
  
  .status-offline {
    @apply bg-slate-400 text-white dark:bg-slate-600;
  }

  /* Card variants */
  .card-elevated {
    @apply bg-white shadow-lg border border-slate-200;
    @apply dark:bg-slate-800 dark:border-slate-700 dark:shadow-xl;
    border-radius: 1rem;
  }
  
  @media (min-width: 768px) {
    .card-elevated {
      border-radius: 1.5rem;
    }
  }
  
  .card-interactive {
    @apply bg-white shadow-sm border border-slate-200;
    @apply hover:shadow-md hover:border-slate-300 transition-all duration-200;
    @apply dark:bg-slate-800 dark:border-slate-700 dark:hover:border-slate-600;
    border-radius: 1rem;
  }
  
  @media (min-width: 768px) {
    .card-interactive {
      border-radius: 1.5rem;
    }
  }
  
  .card-flat {
    @apply bg-slate-50 border border-slate-200;
    @apply dark:bg-slate-800 dark:border-slate-700;
    border-radius: 1rem;
  }
  
  @media (min-width: 768px) {
    .card-flat {
      border-radius: 1.5rem;
    }
  }

  /* Button variants - theme-aware */
  .btn-action {
    @apply text-slate-900 font-semibold py-3 px-6;
    @apply transition-colors;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
    background-color: #EFC729;
    border-radius: 0.75rem;
  }
  
  .btn-action:hover {
    background-color: #D4A50E;
  }
  
  .btn-action:active {
    background-color: #9C790A;
  }
  
  .btn-action:focus {
    --tw-ring-color: #EFC729;
  }
  
  .dark .btn-action:focus {
    --tw-ring-offset-color: #0F172A;
  }
  
  .btn-secondary {
    @apply text-white font-semibold py-3 px-6;
    @apply transition-colors;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
    background-color: #4972ba;
    border-radius: 0.75rem;
  }
  
  .btn-secondary:hover {
    background-color: #3A5B95;
  }
  
  .btn-secondary:active {
    background-color: #2C4470;
  }
  
  .btn-secondary:focus {
    --tw-ring-color: #4972ba;
  }
  
  .dark .btn-secondary:focus {
    --tw-ring-offset-color: #0F172A;
  }
  
  .btn-ghost {
    @apply bg-transparent text-slate-700 font-medium py-2 px-4;
    @apply hover:bg-slate-100 active:bg-slate-200 transition-colors;
    @apply dark:text-slate-300 dark:hover:bg-slate-800 dark:active:bg-slate-700;
    border-radius: 0.75rem;
  }
  
  .btn-destructive {
    @apply font-semibold py-3 px-6 text-white transition-colors;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
    background-color: #EF4444;
    border-radius: 0.75rem;
  }
  
  .btn-destructive:hover {
    background-color: #DC2626;
  }
  
  .btn-destructive:active {
    background-color: #B91C1C;
  }
  
  .btn-destructive:focus {
    --tw-ring-color: #EF4444;
  }
  
  .dark .btn-destructive:focus {
    --tw-ring-offset-color: #0F172A;
  }

  /* VPN/Connection status indicators */
  .status-indicator-connected {
    @apply w-2 h-2 rounded-full;
    background-color: #22C55E;
    animation: pulse-glow 2s infinite;
  }
  
  @keyframes pulse-glow {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4);
    }
    50% {
      box-shadow: 0 0 0 8px rgba(34, 197, 94, 0);
    }
  }
  
  .status-indicator-connecting {
    @apply w-2 h-2 rounded-full animate-pulse;
    background-color: #F59E0B;
  }
  
  .status-indicator-disconnected {
    @apply w-2 h-2 rounded-full bg-slate-400 dark:bg-slate-600;
  }
  
  .status-indicator-error {
    @apply w-2 h-2 rounded-full;
    background-color: #EF4444;
  }

  /* Surface utilities */
  .surface {
    @apply bg-white dark:bg-slate-800;
  }
  
  .surface-secondary {
    @apply bg-slate-50 dark:bg-slate-700;
  }

  /* Text utilities for better readability */
  .text-muted {
    @apply text-slate-500 dark:text-slate-400;
  }
  
  .text-emphasis {
    @apply text-slate-900 dark:text-slate-50 font-medium;
  }

  /* Border utilities */
  .border-default {
    @apply border-slate-200 dark:border-slate-700;
  }

  /* Focus states - WCAG compliant */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
  }
  
  .focus-ring:focus {
    --tw-ring-color: #EFC729;
  }
  
  .dark .focus-ring:focus {
    --tw-ring-offset-color: #0F172A;
  }
  
  .focus-ring-error {
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
  }
  
  .focus-ring-error:focus {
    --tw-ring-color: #EF4444;
  }
  
  .dark .focus-ring-error:focus {
    --tw-ring-offset-color: #0F172A;
  }
}

/* ========================================
 * UTILITY OVERRIDES
 * Additional helper classes
 * ======================================== */

@layer utilities {
  /* Shadow utilities for dark mode - enhanced visibility */
  .dark .shadow-sm {
    box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.25);
  }
  
  .dark .shadow {
    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.3), 0 1px 2px -1px rgb(0 0 0 / 0.3);
  }
  
  .dark .shadow-md {
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.3);
  }
  
  .dark .shadow-lg {
    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.3);
  }
  
  .dark .shadow-xl {
    box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.3), 0 8px 10px -6px rgb(0 0 0 / 0.3);
  }
  
  /* Responsive card padding */
  .card-padding {
    padding: var(--card-padding);
  }
  
  @media (min-width: 768px) {
    .card-padding {
      padding: 1.5rem;
    }
  }
  
  /* Safe area support for mobile */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }
  
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}
