"use strict";(globalThis.webpackChunk_nas_net_docs=globalThis.webpackChunk_nas_net_docs||[]).push([[19657],{22113:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"testing/mocking","title":"Mocking Strategy","description":"NasNetConnect uses MSW (Mock Service Worker) as the single mocking layer for all network requests \u2014 GraphQL and REST alike. MSW intercepts requests at the network level (using a service worker in the browser, and a Node.js interceptor in Vitest). This means tests exercise real Apollo Client logic, real fetch calls, and real response parsing \u2014 only the network boundary is replaced with controlled fixtures.","source":"@site/../connect/docs/testing/mocking.md","sourceDirName":"testing","slug":"/testing/mocking","permalink":"/docs/frontend/testing/mocking","draft":false,"unlisted":false,"editUrl":"https://github.com/nasnet-community/nasnet-panel/tree/main/../connect/docs/testing/mocking.md","tags":[],"version":"current","frontMatter":{},"sidebar":"sidebar","previous":{"title":"E2E Testing","permalink":"/docs/frontend/testing/e2e-testing"},"next":{"title":"Testing Overview","permalink":"/docs/frontend/testing/overview"}}');var t=r(31085),a=r(71184);const o={},i="Mocking Strategy",d={},l=[{value:"Architecture",id:"architecture",level:2},{value:"Two Environments",id:"two-environments",level:3},{value:"MSW Server (Vitest)",id:"msw-server-vitest",level:2},{value:"MSW Browser Worker (Storybook)",id:"msw-browser-worker-storybook",level:2},{value:"Handlers",id:"handlers",level:2},{value:"Handler Index",id:"handler-index",level:3},{value:"GraphQL Handlers",id:"graphql-handlers",level:2},{value:"Query Handler",id:"query-handler",level:3},{value:"Mutation Handler",id:"mutation-handler",level:3},{value:"Variables in Handlers",id:"variables-in-handlers",level:3},{value:"Error Handler",id:"error-handler",level:3},{value:"Default Handlers List",id:"default-handlers-list",level:3},{value:"REST Handlers",id:"rest-handlers",level:2},{value:"GET Handler",id:"get-handler",level:3},{value:"POST Handler with Request Body",id:"post-handler-with-request-body",level:3},{value:"Overriding Handlers in Tests",id:"overriding-handlers-in-tests",level:2},{value:"Single-test override",id:"single-test-override",level:3},{value:"Inline handler override",id:"inline-handler-override",level:3},{value:"Loading state",id:"loading-state",level:3},{value:"Adding New Handlers",id:"adding-new-handlers",level:2},{value:"1. Add to the domain file",id:"1-add-to-the-domain-file",level:3},{value:"2. Add to the handlers array",id:"2-add-to-the-handlers-array",level:3},{value:"3. Consider pairing with an error handler",id:"3-consider-pairing-with-an-error-handler",level:3},{value:"Storybook MSW Integration",id:"storybook-msw-integration",level:2},{value:"Mock Data Patterns",id:"mock-data-patterns",level:2},{value:"Typed fixture factories",id:"typed-fixture-factories",level:3},{value:"Dynamic responses based on variables",id:"dynamic-responses-based-on-variables",level:3},{value:"See Also",id:"see-also",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"mocking-strategy",children:"Mocking Strategy"})}),"\n",(0,t.jsxs)(n.p,{children:["NasNetConnect uses ",(0,t.jsx)(n.strong,{children:"MSW (Mock Service Worker)"})," as the single mocking layer for all network requests \u2014 GraphQL and REST alike. MSW intercepts requests at the network level (using a service worker in the browser, and a Node.js interceptor in Vitest). This means tests exercise real Apollo Client logic, real fetch calls, and real response parsing \u2014 only the network boundary is replaced with controlled fixtures."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Source:"})," ",(0,t.jsx)(n.code,{children:"apps/connect/src/mocks/"})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"apps/connect/src/mocks/\n\u251c\u2500\u2500 handlers/\n\u2502   \u251c\u2500\u2500 graphql.ts     \u2190 GraphQL query/mutation/subscription handlers\n\u2502   \u251c\u2500\u2500 rest.ts        \u2190 REST endpoint handlers\n\u2502   \u2514\u2500\u2500 index.ts       \u2190 Combined export\n\u251c\u2500\u2500 server.ts          \u2190 MSW Node server (Vitest)\n\u251c\u2500\u2500 browser.ts         \u2190 MSW service worker (Storybook / dev)\n\u2514\u2500\u2500 index.ts\n"})}),"\n",(0,t.jsx)(n.h3,{id:"two-environments",children:"Two Environments"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"File"}),(0,t.jsx)(n.th,{children:"Used in"}),(0,t.jsx)(n.th,{children:"MSW mode"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"server.ts"})}),(0,t.jsx)(n.td,{children:"Vitest unit/component tests"}),(0,t.jsx)(n.td,{children:"Node.js request interceptor"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"browser.ts"})}),(0,t.jsx)(n.td,{children:"Storybook, local development"}),(0,t.jsx)(n.td,{children:"Service worker in browser"})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"msw-server-vitest",children:"MSW Server (Vitest)"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"apps/connect/src/mocks/server.ts"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { setupServer } from 'msw/node';\nimport { handlers } from './handlers';\n\n// Server with all default handlers active\nexport const server = setupServer(...handlers);\n\nexport { handlers };\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The server is started in ",(0,t.jsx)(n.code,{children:"apps/connect/src/test/setup.ts"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { server } from '../mocks/server';\n\nbeforeAll(() => server.listen({ onUnhandledRequest: 'warn' }));\n\nafterEach(() => {\n  cleanup();\n  server.resetHandlers();  // Remove test-specific overrides\n});\n\nafterAll(() => server.close());\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"onUnhandledRequest: 'warn'"})," prints a console warning when a test makes a network request that no handler covers, helping catch missing mock setup."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"msw-browser-worker-storybook",children:"MSW Browser Worker (Storybook)"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"apps/connect/src/mocks/browser.ts"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { setupWorker } from 'msw/browser';\nimport { handlers } from './handlers';\n\nexport const worker = setupWorker(...handlers);\nexport { handlers };\n"})}),"\n",(0,t.jsxs)(n.p,{children:["To enable MSW in Storybook, start the worker in ",(0,t.jsx)(n.code,{children:".storybook/preview.ts"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"if (typeof window !== 'undefined') {\n  const { worker } = await import('@/mocks/browser');\n  await worker.start({ onUnhandledRequest: 'warn' });\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"To enable in development mode:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// In main.tsx (dev only)\nif (import.meta.env.DEV) {\n  const { worker } = await import('./mocks/browser');\n  await worker.start();\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"handlers",children:"Handlers"}),"\n",(0,t.jsx)(n.h3,{id:"handler-index",children:"Handler Index"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"apps/connect/src/mocks/handlers/index.ts"})," combines all handlers:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { graphqlHandlers } from './graphql';\nimport { restHandlers } from './rest';\n\nexport const handlers = [...graphqlHandlers, ...restHandlers];\n\n// Re-export individual groups for selective use\nexport { graphqlHandlers, restHandlers };\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"graphql-handlers",children:"GraphQL Handlers"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"apps/connect/src/mocks/handlers/graphql.ts"})}),"\n",(0,t.jsx)(n.p,{children:"All handlers target a single GraphQL endpoint:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { graphql, HttpResponse } from 'msw';\n\nconst graphqlEndpoint = graphql.link('http://localhost:8080/graphql');\n"})}),"\n",(0,t.jsx)(n.h3,{id:"query-handler",children:"Query Handler"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"export const getSystemInfoHandler = graphqlEndpoint.query(\n  'GetSystemInfo',\n  () => {\n    return HttpResponse.json({\n      data: {\n        systemInfo: {\n          identity: 'MikroTik-Router',\n          routerBoard: 'hAP ac3',\n          version: '7.12',\n          uptime: '5d 12h 30m',\n          cpuLoad: 15,\n          memoryUsed: 45,\n          memoryFree: 55,\n          lastUpdate: new Date().toISOString(),\n        },\n      },\n    });\n  }\n);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"mutation-handler",children:"Mutation Handler"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"export const connectRouterHandler = graphqlEndpoint.mutation(\n  'ConnectRouter',\n  ({ variables }) => {\n    const { id } = variables as { id: string };\n    return HttpResponse.json({\n      data: {\n        connectRouter: {\n          success: true,\n          router: {\n            id,\n            name: 'Main Router',\n            host: '192.168.88.1',\n            status: 'CONNECTED',\n            identity: 'MikroTik',\n            lastConnectedAt: new Date().toISOString(),\n          },\n          errors: null,\n        },\n      },\n    });\n  }\n);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"variables-in-handlers",children:"Variables in Handlers"}),"\n",(0,t.jsxs)(n.p,{children:["Access query/mutation variables via the ",(0,t.jsx)(n.code,{children:"{ variables }"})," parameter:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"export const getRouterHandler = graphqlEndpoint.query(\n  'GetRouter',\n  ({ variables }) => {\n    const { id } = variables as { id: string };\n    return HttpResponse.json({\n      data: {\n        router: { id, name: 'Main Router', host: '192.168.88.1', status: 'CONNECTED' },\n      },\n    });\n  }\n);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"error-handler",children:"Error Handler"}),"\n",(0,t.jsx)(n.p,{children:"Return a GraphQL error response to test error states:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"export const errorHandler = graphqlEndpoint.query('GetSystemInfo', () => {\n  return HttpResponse.json(\n    {\n      errors: [\n        {\n          message: 'Router connection failed',\n          extensions: { code: 'CONNECTION_ERROR' },\n        },\n      ],\n    },\n    { status: 500 }\n  );\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"default-handlers-list",children:"Default Handlers List"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"export const graphqlHandlers = [\n  getSystemInfoHandler,\n  getInterfacesHandler,\n  getDHCPLeasesHandler,\n  getRouterHandler,\n  getRoutersHandler,\n  connectRouterHandler,\n  disconnectRouterHandler,\n];\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"rest-handlers",children:"REST Handlers"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"apps/connect/src/mocks/handlers/rest.ts"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { http, HttpResponse } from 'msw';\n\nconst API_BASE_URL = 'http://localhost:8080';\n"})}),"\n",(0,t.jsx)(n.h3,{id:"get-handler",children:"GET Handler"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"export const healthCheckHandler = http.get(\n  `${API_BASE_URL}/api/health`,\n  () => {\n    return HttpResponse.json({\n      status: 'healthy',\n      version: '1.0.0',\n      timestamp: new Date().toISOString(),\n    });\n  }\n);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"post-handler-with-request-body",children:"POST Handler with Request Body"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"export const routerConnectHandler = http.post(\n  `${API_BASE_URL}/api/routers/connect`,\n  async ({ request }) => {\n    const body = await request.json() as { address?: string; username?: string };\n    const address = body?.address || 'unknown';\n\n    return HttpResponse.json({\n      success: true,\n      router: {\n        address,\n        connected: true,\n        protocol: 'api',\n        sessionId: `session_${Date.now()}`,\n      },\n    });\n  }\n);\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"overriding-handlers-in-tests",children:"Overriding Handlers in Tests"}),"\n",(0,t.jsx)(n.p,{children:'The default handlers provide a "happy path" response. Override in specific tests to simulate edge cases.'}),"\n",(0,t.jsx)(n.h3,{id:"single-test-override",children:"Single-test override"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { server } from '@/mocks/server';\nimport { errorHandler } from '@/mocks/handlers/graphql';\n\nit('should show error when router is unreachable', async () => {\n  // Override only for this test \u2014 resets automatically in afterEach\n  server.use(errorHandler);\n\n  render(<RouterDashboard routerId=\"r1\" />);\n  expect(await screen.findByText(/connection failed/i)).toBeInTheDocument();\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"inline-handler-override",children:"Inline handler override"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { graphql, HttpResponse } from 'msw';\n\nit('should show empty router list', async () => {\n  server.use(\n    graphql.query('GetRouters', () =>\n      HttpResponse.json({\n        data: {\n          routers: { edges: [], totalCount: 0, pageInfo: { hasNextPage: false } },\n        },\n      })\n    )\n  );\n\n  render(<RouterListPage />);\n  expect(await screen.findByText(/no routers configured/i)).toBeInTheDocument();\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"loading-state",children:"Loading state"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"it('should show skeleton while loading', async () => {\n  // Return a promise that never resolves = permanent loading state\n  server.use(\n    graphql.query('GetInterfaces', () => new Promise(() => {}))\n  );\n\n  render(<NetworkPage routerId=\"r1\" />);\n  expect(screen.getByTestId('loading-skeleton')).toBeInTheDocument();\n});\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"adding-new-handlers",children:"Adding New Handlers"}),"\n",(0,t.jsx)(n.h3,{id:"1-add-to-the-domain-file",children:"1. Add to the domain file"}),"\n",(0,t.jsxs)(n.p,{children:["Add handlers to ",(0,t.jsx)(n.code,{children:"graphql.ts"})," or ",(0,t.jsx)(n.code,{children:"rest.ts"})," organized by domain. Keep each handler focused on a single operation:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// In graphql.ts\nexport const getFirewallRulesHandler = graphqlEndpoint.query(\n  'GetFirewallRules',\n  ({ variables }) => {\n    const { routerId } = variables as { routerId: string };\n    return HttpResponse.json({\n      data: {\n        firewallRules: [\n          {\n            id: '1',\n            chain: 'input',\n            action: 'accept',\n            protocol: 'tcp',\n            dstPort: '80',\n            comment: 'Allow HTTP',\n            disabled: false,\n          },\n        ],\n      },\n    });\n  }\n);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"2-add-to-the-handlers-array",children:"2. Add to the handlers array"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"export const graphqlHandlers = [\n  getSystemInfoHandler,\n  // ... existing handlers\n  getFirewallRulesHandler, // \u2190 Add here\n];\n"})}),"\n",(0,t.jsx)(n.h3,{id:"3-consider-pairing-with-an-error-handler",children:"3. Consider pairing with an error handler"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"export const getFirewallRulesErrorHandler = graphqlEndpoint.query(\n  'GetFirewallRules',\n  () =>\n    HttpResponse.json(\n      { errors: [{ message: 'Unauthorized', extensions: { code: 'FORBIDDEN' } }] },\n      { status: 403 }\n    )\n);\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"storybook-msw-integration",children:"Storybook MSW Integration"}),"\n",(0,t.jsxs)(n.p,{children:["Stories can use MSW handlers to render components in specific data states without a running backend. The ",(0,t.jsx)(n.code,{children:"browser.ts"})," worker intercepts network requests made from Storybook."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// In a story file\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { http, HttpResponse } from 'msw';\n\nconst meta: Meta<typeof RouterDashboard> = {\n  title: 'Features/Router/Dashboard',\n  component: RouterDashboard,\n  parameters: {\n    msw: {\n      handlers: [\n        http.get('*/api/health', () =>\n          HttpResponse.json({ status: 'degraded' })\n        ),\n      ],\n    },\n  },\n};\n\nexport const DegradedState: StoryObj = {\n  parameters: {\n    msw: {\n      handlers: [\n        // Story-specific override \u2014 degraded health response\n        http.get('*/api/health', () =>\n          HttpResponse.json({ status: 'degraded' })\n        ),\n      ],\n    },\n  },\n};\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"mock-data-patterns",children:"Mock Data Patterns"}),"\n",(0,t.jsx)(n.h3,{id:"typed-fixture-factories",children:"Typed fixture factories"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { type RouterNode } from '@nasnet/api-client/generated';\n\nfunction makeRouter(overrides: Partial<RouterNode> = {}): RouterNode {\n  return {\n    id: 'router-1',\n    name: 'Main Router',\n    host: '192.168.88.1',\n    status: 'CONNECTED',\n    identity: 'MikroTik',\n    model: 'hAP ac3',\n    version: '7.12',\n    lastConnectedAt: new Date().toISOString(),\n    ...overrides,\n  };\n}\n\n// Re-use in handlers\nexport const getRouterHandler = graphqlEndpoint.query('GetRouter', ({ variables }) => {\n  const { id } = variables as { id: string };\n  return HttpResponse.json({ data: { router: makeRouter({ id }) } });\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"dynamic-responses-based-on-variables",children:"Dynamic responses based on variables"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"export const getDHCPLeasesHandler = graphqlEndpoint.query(\n  'GetDHCPLeases',\n  ({ variables }) => {\n    const { serverId } = variables as { serverId?: string };\n\n    // Return different data based on which server was queried\n    const leases = serverId === 'dhcp-lan'\n      ? lanLeases\n      : serverId === 'dhcp-guest'\n      ? guestLeases\n      : [];\n\n    return HttpResponse.json({ data: { dhcpLeases: leases } });\n  }\n);\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"apps/connect/src/mocks/handlers/graphql.ts"})," \u2014 All GraphQL handlers"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"apps/connect/src/mocks/handlers/rest.ts"})," \u2014 All REST handlers"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"apps/connect/src/mocks/server.ts"})," \u2014 Vitest server setup"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"apps/connect/src/mocks/browser.ts"})," \u2014 Storybook worker setup"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"apps/connect/src/test/setup.ts"})," \u2014 MSW server lifecycle in tests"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"10-testing/component-testing.md"})," \u2014 How to use ",(0,t.jsx)(n.code,{children:"server.use()"})," in tests"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},71184:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>i});var s=r(14041);const t={},a=s.createContext(t);function o(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);