"use strict";(globalThis.webpackChunk_nas_net_docs=globalThis.webpackChunk_nas_net_docs||[]).push([[67521],{24866:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"guides/network-configuration","title":"Network Configuration Guide","description":"Cross-cutting guide for network types, IP validation, subnet calculation, port lookup, and VPN protocols.","source":"@site/../../libs/core/docs/guides/network-configuration.md","sourceDirName":"guides","slug":"/guides/network-configuration","permalink":"/docs/core/guides/network-configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/nasnet-community/nasnet-panel/tree/main/../../libs/core/docs/guides/network-configuration.md","tags":[],"version":"current","frontMatter":{},"sidebar":"sidebar","previous":{"title":"Internationalization Flow Guide","permalink":"/docs/core/guides/internationalization-flow"},"next":{"title":"Universal State v2: The 8-Layer Resource Model","permalink":"/docs/core/guides/universal-state-v2"}}');var s=r(31085),i=r(71184);const o={},l="Network Configuration Guide",a={},d=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Network Type Hierarchy",id:"network-type-hierarchy",level:2},{value:"WAN (Wide Area Network) - <code>types/router/wan.ts</code>",id:"wan-wide-area-network---typesrouterwants",level:3},{value:"LAN (Local Area Network) - <code>types/router/lan.ts</code>",id:"lan-local-area-network---typesrouterlants",level:3},{value:"Network Interfaces - <code>types/router/network.ts</code>",id:"network-interfaces---typesrouternetworkts",level:3},{value:"VPN Configuration - <code>types/router/vpn.ts</code>",id:"vpn-configuration---typesroutervpnts",level:3},{value:"IP Address Validation Chain",id:"ip-address-validation-chain",level:2},{value:"Layer 1: Basic Utilities - <code>utils/network/ip.ts</code>",id:"layer-1-basic-utilities---utilsnetworkipts",level:3},{value:"Layer 2: Subnet Utilities - <code>utils/network/subnet.ts</code>",id:"layer-2-subnet-utilities---utilsnetworksubnetts",level:3},{value:"Layer 3: Zod Validators - Form Integration",id:"layer-3-zod-validators---form-integration",level:3},{value:"Subnet Calculation Examples",id:"subnet-calculation-examples",level:2},{value:"Example 1: Planning a /24 Network",id:"example-1-planning-a-24-network",level:3},{value:"Example 2: Comparing Subnet Sizes",id:"example-2-comparing-subnet-sizes",level:3},{value:"Example 3: Checking IP Membership",id:"example-3-checking-ip-membership",level:3},{value:"Example 4: CIDR to Netmask Conversion",id:"example-4-cidr-to-netmask-conversion",level:3},{value:"Port Lookup and Categorization",id:"port-lookup-and-categorization",level:2},{value:"Well-Known Ports Database - <code>constants/well-known-ports.ts</code>",id:"well-known-ports-database---constantswell-known-portsts",level:3},{value:"Port Lookup Functions",id:"port-lookup-functions",level:3},{value:"Port Presets for Common Use Cases",id:"port-presets-for-common-use-cases",level:3},{value:"Category Display Names",id:"category-display-names",level:3},{value:"VPN Protocol Type Differences",id:"vpn-protocol-type-differences",level:2},{value:"Protocol Selection Matrix",id:"protocol-selection-matrix",level:3},{value:"WireGuard (Recommended Modern Choice)",id:"wireguard-recommended-modern-choice",level:3},{value:"OpenVPN (Wide Compatibility)",id:"openvpn-wide-compatibility",level:3},{value:"L2TP/IPsec (Enterprise Standard)",id:"l2tpipsec-enterprise-standard",level:3},{value:"PPTP (Legacy Only)",id:"pptp-legacy-only",level:3},{value:"SSTP (Windows Native)",id:"sstp-windows-native",level:3},{value:"IKEv2 (Mobile Optimized)",id:"ikev2-mobile-optimized",level:3},{value:"Type Flow: Forms \u2192 GraphQL \u2192 Backend",id:"type-flow-forms--graphql--backend",level:2},{value:"1. Form Layer (React Hook Form + Zod)",id:"1-form-layer-react-hook-form--zod",level:3},{value:"2. GraphQL Layer",id:"2-graphql-layer",level:3},{value:"3. Backend Resolver",id:"3-backend-resolver",level:3},{value:"4. Backend Service Layer",id:"4-backend-service-layer",level:3},{value:"Related Documentation",id:"related-documentation",level:2},{value:"Migration Guide",id:"migration-guide",level:2},{value:"From Manual IP Parsing to Utilities",id:"from-manual-ip-parsing-to-utilities",level:3},{value:"Port Configuration",id:"port-configuration",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"network-configuration-guide",children:"Network Configuration Guide"})}),"\n",(0,s.jsx)(n.p,{children:"Cross-cutting guide for network types, IP validation, subnet calculation, port lookup, and VPN protocols."}),"\n",(0,s.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#network-type-hierarchy",children:"Network Type Hierarchy"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#ip-address-validation-chain",children:"IP Address Validation Chain"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#subnet-calculation-examples",children:"Subnet Calculation Examples"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#port-lookup-and-categorization",children:"Port Lookup and Categorization"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#vpn-protocol-type-differences",children:"VPN Protocol Type Differences"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#type-flow-forms--graphql--backend",children:"Type Flow: Forms \u2192 GraphQL \u2192 Backend"})}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"network-type-hierarchy",children:"Network Type Hierarchy"}),"\n",(0,s.jsxs)(n.p,{children:["NasNetConnect organizes network configuration into a clear hierarchy: ",(0,s.jsx)(n.strong,{children:"WAN \u2192 LAN \u2192 VPN \u2192 Interfaces"}),"."]}),"\n",(0,s.jsxs)(n.h3,{id:"wan-wide-area-network---typesrouterwants",children:["WAN (Wide Area Network) - ",(0,s.jsx)(n.code,{children:"types/router/wan.ts"})]}),"\n",(0,s.jsx)(n.p,{children:"WAN connections provide external internet connectivity. Supports 4 connection types:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// WAN link summary\nexport interface WANLinkConfig {\n  id: string;\n  name: string;\n  type: 'pppoe' | 'dhcp' | 'static' | 'lte';\n  isEnabled: boolean;\n}\n\n// Active WAN link with full configuration\nexport interface WANLink {\n  id: string;\n  name: string;\n  isEnabled: boolean;\n  config: WANPPPoEConfig | WANDHCPConfig | WANStaticConfig | WANLTEConfig;\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"WAN Types:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Purpose"}),(0,s.jsx)(n.th,{children:"Key Fields"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"PPPoE"})}),(0,s.jsx)(n.td,{children:"DSL/dial-up connections"}),(0,s.jsx)(n.td,{children:"interface, username, password, profile"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"DHCP"})}),(0,s.jsx)(n.td,{children:"ISP-assigned dynamic IP"}),(0,s.jsx)(n.td,{children:"interface, usePeerDNS, hasDefaultRoute"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Static"})}),(0,s.jsx)(n.td,{children:"Manual static IP config"}),(0,s.jsx)(n.td,{children:"interface, address (CIDR), gateway, dnsServers"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"LTE"})}),(0,s.jsx)(n.td,{children:"Mobile/cellular backup"}),(0,s.jsx)(n.td,{children:"interface, apn, networkNameLabel"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example - Static WAN:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const staticWAN: WANStaticConfig = {\n  interface: 'ether1',\n  address: '203.0.113.50/24',  // CIDR format required\n  gateway: '203.0.113.1',\n  dnsServers: ['8.8.8.8', '8.8.4.4'],\n};\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"lan-local-area-network---typesrouterlants",children:["LAN (Local Area Network) - ",(0,s.jsx)(n.code,{children:"types/router/lan.ts"})]}),"\n",(0,s.jsx)(n.p,{children:"LAN handles internal network infrastructure with 3 key abstractions:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Physical/logical interface\nexport interface LANInterface {\n  id: string;\n  name: string;\n  type: 'ethernet' | 'bridge' | 'vlan';\n  isEnabled: boolean;\n  mtu?: number;  // Defaults to 1500\n}\n\n// Bridge connecting multiple interfaces\nexport interface LANBridge {\n  id: string;\n  name: string;\n  isEnabled: boolean;\n  ports: readonly string[];           // ether1, ether2, etc.\n  hasAdministrativePathCost: boolean;\n  vlanMode?: 'on' | 'off';\n}\n\n// IP network assignment\nexport interface LANNetwork {\n  id: string;\n  name: string;\n  address: string;                    // CIDR: \"192.168.88.0/24\"\n  interface: string;                  // Which interface\n  isDisabled: boolean;\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example - Bridge Setup:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const bridge: LANBridge = {\n  id: 'br0',\n  name: 'Bridge 1',\n  isEnabled: true,\n  ports: ['ether2', 'ether3', 'ether4'],\n  hasAdministrativePathCost: false,\n  vlanMode: 'off',\n};\n\n// Assign IP to bridge\nconst network: LANNetwork = {\n  id: 'net-br0',\n  name: 'LAN Network',\n  address: '192.168.88.0/24',\n  interface: 'bridge1',\n  isDisabled: false,\n};\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"network-interfaces---typesrouternetworkts",children:["Network Interfaces - ",(0,s.jsx)(n.code,{children:"types/router/network.ts"})]}),"\n",(0,s.jsx)(n.p,{children:"Low-level interface abstractions with status tracking:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"export type InterfaceType =\n  | 'ether'       // Ethernet port\n  | 'bridge'      // Bridge interface\n  | 'vlan'        // VLAN subinterface\n  | 'wireless'    // Wireless interface\n  | 'wlan'        // WiFi SSID\n  | 'pppoe'       // PPP over Ethernet\n  | 'vpn'         // VPN tunnel\n  | 'wireguard'   // WireGuard tunnel\n  | 'vrrp'        // Virtual Router Redundancy\n  | 'bond'        // Bond/link aggregation\n  | 'loopback'    // Loopback interface\n  | 'lte'         // Cellular modem\n  | 'other';\n\nexport interface NetworkInterface {\n  id: string;\n  name: string;\n  type: InterfaceType;\n  status: 'running' | 'disabled';\n  linkStatus: 'up' | 'down' | 'unknown';\n  macAddress: string;\n  mtu?: number;\n  comment?: string;\n}\n\n// Traffic statistics\nexport interface TrafficStatistics {\n  interfaceId: string;\n  txBytes: number;    // Transmitted\n  rxBytes: number;    // Received\n  txPackets: number;\n  rxPackets: number;\n  txErrors: number;\n  rxErrors: number;\n  txDrops: number;\n  rxDrops: number;\n}\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"vpn-configuration---typesroutervpnts",children:["VPN Configuration - ",(0,s.jsx)(n.code,{children:"types/router/vpn.ts"})]}),"\n",(0,s.jsx)(n.p,{children:"Comprehensive VPN support with protocol-specific configurations:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"export type VPNProtocol = 'wireguard' | 'openvpn' | 'l2tp' | 'pptp' | 'sstp' | 'ikev2';\nexport type VPNConnectionStatus = 'connected' | 'disconnected' | 'connecting' | 'error';\nexport type VPNMode = 'server' | 'client';\n\n// Generic VPN connection\nexport interface VPNConnection {\n  id: string;\n  name: string;\n  protocol: VPNProtocol;\n  status: VPNConnectionStatus;\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"VPN Protocol Differences:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Protocol"}),(0,s.jsx)(n.th,{children:"Mode"}),(0,s.jsx)(n.th,{children:"Key Strength"}),(0,s.jsx)(n.th,{children:"Config Complexity"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"WireGuard"})}),(0,s.jsx)(n.td,{children:"Client/Server"}),(0,s.jsx)(n.td,{children:"Modern, fast, simple"}),(0,s.jsx)(n.td,{children:"\u2b50 Very simple"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"OpenVPN"})}),(0,s.jsx)(n.td,{children:"Client/Server"}),(0,s.jsx)(n.td,{children:"Wide compatibility"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50 Moderate"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"L2TP"})}),(0,s.jsx)(n.td,{children:"Client/Server"}),(0,s.jsx)(n.td,{children:"Layer 2 tunneling"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50 Complex"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"PPTP"})}),(0,s.jsx)(n.td,{children:"Client/Server"}),(0,s.jsx)(n.td,{children:"Legacy, fast"}),(0,s.jsx)(n.td,{children:"\u2b50 Very simple"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"SSTP"})}),(0,s.jsx)(n.td,{children:"Client/Server"}),(0,s.jsx)(n.td,{children:"Windows support"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50 Moderate"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"IKEv2"})}),(0,s.jsx)(n.td,{children:"Client/Server"}),(0,s.jsx)(n.td,{children:"Mobile-friendly"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50 Complex"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"ip-address-validation-chain",children:"IP Address Validation Chain"}),"\n",(0,s.jsxs)(n.p,{children:["IP validation flows through 3 layers: ",(0,s.jsx)(n.strong,{children:"utilities \u2192 Zod validators \u2192 form integration"}),"."]}),"\n",(0,s.jsxs)(n.h3,{id:"layer-1-basic-utilities---utilsnetworkipts",children:["Layer 1: Basic Utilities - ",(0,s.jsx)(n.code,{children:"utils/network/ip.ts"})]}),"\n",(0,s.jsx)(n.p,{children:"Provides low-level IPv4 operations:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'// Validate single IPv4 address\nexport const isValidIPv4 = (ip: string): boolean;\n// Example: "192.168.1.1" \u2192 true\n\n// Validate CIDR notation\nexport const isValidSubnet = (cidr: string): boolean;\n// Example: "192.168.1.0/24" \u2192 true\n\n// Convert IP to number (for comparisons)\nexport const ipToNumber = (ip: string): number;\n// "192.168.1.1" \u2192 3232235777\n\n// Reverse: number to IP\nexport const numberToIP = (num: number): string;\n// 3232235777 \u2192 "192.168.1.1"\n\n// Parse CIDR and extract components\nexport const parseCIDR = (cidr: string) => {\n  network: string;      // "192.168.1.0"\n  netmask: string;      // "255.255.255.0"\n  broadcast: string;    // "192.168.1.255"\n  prefix: number;       // 24\n}\n\n// Check if IP is in subnet\nexport const isIPInSubnet = (ip: string, cidr: string): boolean;\n// "192.168.1.100" in "192.168.1.0/24" \u2192 true\n\n// MAC address validation & formatting\nexport const isValidMACAddress = (mac: string): boolean;\nexport const formatMACAddress = (mac: string): string;\n// "aabbccddeeff" \u2192 "AA:BB:CC:DD:EE:FF"\n'})}),"\n",(0,s.jsxs)(n.h3,{id:"layer-2-subnet-utilities---utilsnetworksubnetts",children:["Layer 2: Subnet Utilities - ",(0,s.jsx)(n.code,{children:"utils/network/subnet.ts"})]}),"\n",(0,s.jsx)(n.p,{children:"High-level subnet calculations:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'// Get host count in subnet\nexport const getHostCount = (prefix: number): number;\n// 24 \u2192 254 (256 - network - broadcast)\n// 31 \u2192 2 (RFC 3021 point-to-point)\n// 32 \u2192 1 (single host)\n\n// Get first/last usable host\nexport const getFirstHost = (cidr: string): string | null;\nexport const getLastHost = (cidr: string): string | null;\n// "192.168.1.0/24" \u2192 "192.168.1.1" / "192.168.1.254"\n\n// Convert prefix to netmask\nexport const getPrefixMask = (prefix: number): string;\n// 24 \u2192 "255.255.255.0"\n// 16 \u2192 "255.255.0.0"\n\n// Convert netmask to prefix\nexport const getMaskPrefix = (mask: string): number;\n// "255.255.255.0" \u2192 24\n// "255.255.128.0" \u2192 17 (even non-standard masks)\n\n// Validate netmask\nexport const isValidMask = (mask: string): boolean;\n// Must have contiguous 1s followed by 0s\n\n// Comprehensive subnet info\nexport const getSubnetInfo = (cidr: string) => {\n  network: string;\n  firstHost: string | null;\n  lastHost: string | null;\n  broadcast: string;\n  hostCount: number;\n  prefix: number;\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"layer-3-zod-validators---form-integration",children:"Layer 3: Zod Validators - Form Integration"}),"\n",(0,s.jsxs)(n.p,{children:["Integration with form validation in ",(0,s.jsx)(n.code,{children:"forms/network-validators.ts"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// IP address validation (supports CIDR)\nconst IPAddressSchema = z\n  .string()\n  .refine(isValidIPv4, {\n    message: 'Invalid IP address or CIDR notation (e.g., 192.168.1.1 or 10.0.0.0/8)',\n  })\n  .optional();\n\n// Port validation (single port or range)\nconst PortSchema = z\n  .string()\n  .refine(isValidPort, {\n    message: 'Invalid port or port range (1-65535, e.g., 80 or 8000-9000)',\n  })\n  .optional();\n\n// Example: WAN Static Config Form\nconst WANStaticConfigSchema = z.object({\n  interface: z.string().min(1),\n  address: IPAddressSchema,        // Must be CIDR format\n  gateway: IPAddressSchema,        // Just the IP (no CIDR)\n  dnsServers: z.array(z.string()),\n});\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Validation Error Messages:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'Invalid IP: "256.0.0.1"\n\u2192 "Invalid IP address or CIDR notation (e.g., 192.168.1.1 or 10.0.0.0/8)"\n\nInvalid CIDR: "192.168.1.0/33"\n\u2192 "Invalid IP address or CIDR notation (e.g., 192.168.1.1 or 10.0.0.0/8)"\n\nInvalid port: "99999"\n\u2192 "Invalid port or port range (1-65535, e.g., 80 or 8000-9000)"\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"subnet-calculation-examples",children:"Subnet Calculation Examples"}),"\n",(0,s.jsx)(n.h3,{id:"example-1-planning-a-24-network",children:"Example 1: Planning a /24 Network"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Requirement:"})," Design a DHCP network for office devices"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { getSubnetInfo } from '@nasnet/core/utils/network';\n\nconst info = getSubnetInfo('192.168.1.0/24');\n// {\n//   network: '192.168.1.0',\n//   firstHost: '192.168.1.1',\n//   lastHost: '192.168.1.254',\n//   broadcast: '192.168.1.255',\n//   hostCount: 254,\n//   prefix: 24\n// }\n\n// In your DHCP configuration:\n// - Gateway: 192.168.1.1\n// - Pool start: 192.168.1.2\n// - Pool end: 192.168.1.254\n// - Netmask: 255.255.255.0\n"})}),"\n",(0,s.jsx)(n.h3,{id:"example-2-comparing-subnet-sizes",children:"Example 2: Comparing Subnet Sizes"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { getHostCount, getPrefixMask } from '@nasnet/core/utils/network';\n\n// Small office\ngetHostCount(25);  // 126 hosts, netmask: 255.255.255.128\n// - 1 gateway + 1 broadcast = 126 usable\n\n// Medium office\ngetHostCount(24);  // 254 hosts, netmask: 255.255.255.0\n\n// Large network\ngetHostCount(22);  // 1022 hosts, netmask: 255.255.252.0\n\n// Point-to-point VPN (RFC 3021)\ngetHostCount(31);  // 2 hosts, netmask: 255.255.255.254\n// - No network/broadcast addresses needed\n// - Used for router-to-router links\n"})}),"\n",(0,s.jsx)(n.h3,{id:"example-3-checking-ip-membership",children:"Example 3: Checking IP Membership"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { isIPInSubnet } from '@nasnet/core/utils/network';\n\n// Verify client is in pool\nisIPInSubnet('192.168.1.100', '192.168.1.0/24');  // true\nisIPInSubnet('192.168.2.100', '192.168.1.0/24');  // false\n\n// Guest network verification\nisIPInSubnet('10.0.0.50', '10.0.0.0/25');  // true (first half)\nisIPInSubnet('10.0.0.150', '10.0.0.0/25');  // false (second half, different subnet)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"example-4-cidr-to-netmask-conversion",children:"Example 4: CIDR to Netmask Conversion"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { getPrefixMask, getMaskPrefix } from '@nasnet/core/utils/network';\n\n// CIDR notation \u2192 netmask\ngetPrefixMask(8);   // \"255.0.0.0\"\ngetPrefixMask(16);  // \"255.255.0.0\"\ngetPrefixMask(24);  // \"255.255.255.0\"\ngetPrefixMask(25);  // \"255.255.255.128\"\n\n// Legacy netmask \u2192 CIDR prefix\ngetMaskPrefix('255.255.255.0');    // 24\ngetMaskPrefix('255.255.0.0');      // 16\ngetMaskPrefix('255.255.255.128');  // 25\n\n// Validation: non-contiguous mask is invalid\ngetMaskPrefix('255.255.255.1');    // -1 (invalid)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"port-lookup-and-categorization",children:"Port Lookup and Categorization"}),"\n",(0,s.jsxs)(n.h3,{id:"well-known-ports-database---constantswell-known-portsts",children:["Well-Known Ports Database - ",(0,s.jsx)(n.code,{children:"constants/well-known-ports.ts"})]}),"\n",(0,s.jsx)(n.p,{children:"Comprehensive port database (~100 common ports) organized by category:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"export interface WellKnownPort {\n  port: number;\n  service: string;\n  protocol: 'tcp' | 'udp' | 'both';\n  category: PortCategory;  // 'web', 'secure', 'database', etc.\n  description?: string;\n  builtIn: boolean;        // true = read-only\n}\n\nexport type PortCategory =\n  | 'web'         // HTTP, HTTPS, dev servers\n  | 'secure'      // SSH, RDP, VNC, FTP\n  | 'database'    // MySQL, PostgreSQL, MongoDB, Redis\n  | 'messaging'   // AMQP, MQTT, Kafka, XMPP, IRC\n  | 'mail'        // SMTP, POP3, IMAP\n  | 'network'     // DNS, DHCP, NTP, SNMP, VPN, Syslog\n  | 'system'      // System services\n  | 'containers'  // Docker, Kubernetes, etcd, Consul\n  | 'mikrotik';   // Winbox, RouterOS API, bandwidth test\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Port Database Sample:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Port"}),(0,s.jsx)(n.th,{children:"Service"}),(0,s.jsx)(n.th,{children:"Protocol"}),(0,s.jsx)(n.th,{children:"Category"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"22"}),(0,s.jsx)(n.td,{children:"SSH"}),(0,s.jsx)(n.td,{children:"TCP"}),(0,s.jsx)(n.td,{children:"secure"}),(0,s.jsx)(n.td,{children:"Secure Shell"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"53"}),(0,s.jsx)(n.td,{children:"DNS"}),(0,s.jsx)(n.td,{children:"both"}),(0,s.jsx)(n.td,{children:"network"}),(0,s.jsx)(n.td,{children:"Domain Name System"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"80"}),(0,s.jsx)(n.td,{children:"HTTP"}),(0,s.jsx)(n.td,{children:"TCP"}),(0,s.jsx)(n.td,{children:"web"}),(0,s.jsx)(n.td,{children:"Hypertext Transfer Protocol"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"443"}),(0,s.jsx)(n.td,{children:"HTTPS"}),(0,s.jsx)(n.td,{children:"TCP"}),(0,s.jsx)(n.td,{children:"web"}),(0,s.jsx)(n.td,{children:"HTTP over TLS/SSL"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"3306"}),(0,s.jsx)(n.td,{children:"MySQL"}),(0,s.jsx)(n.td,{children:"TCP"}),(0,s.jsx)(n.td,{children:"database"}),(0,s.jsx)(n.td,{children:"MySQL/MariaDB"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"5432"}),(0,s.jsx)(n.td,{children:"PostgreSQL"}),(0,s.jsx)(n.td,{children:"TCP"}),(0,s.jsx)(n.td,{children:"database"}),(0,s.jsx)(n.td,{children:"PostgreSQL"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"8291"}),(0,s.jsx)(n.td,{children:"Winbox"}),(0,s.jsx)(n.td,{children:"TCP"}),(0,s.jsx)(n.td,{children:"mikrotik"}),(0,s.jsx)(n.td,{children:"MikroTik Winbox"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"8728"}),(0,s.jsx)(n.td,{children:"RouterOS-API"}),(0,s.jsx)(n.td,{children:"TCP"}),(0,s.jsx)(n.td,{children:"mikrotik"}),(0,s.jsx)(n.td,{children:"RouterOS API"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"51820"}),(0,s.jsx)(n.td,{children:"WireGuard"}),(0,s.jsx)(n.td,{children:"UDP"}),(0,s.jsx)(n.td,{children:"network"}),(0,s.jsx)(n.td,{children:"WireGuard VPN"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"port-lookup-functions",children:"Port Lookup Functions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Look up service by port\nexport function getServiceByPort(port: number, protocol?: PortProtocol): string | null;\ngetServiceByPort(80);           // \"HTTP\"\ngetServiceByPort(443, 'tcp');   // \"HTTPS\"\ngetServiceByPort(12345);        // null\n\n// Get full port entry\nexport function getPortEntry(port: number, protocol?: PortProtocol): WellKnownPort | null;\ngetPortEntry(443)\n// => { port: 443, service: 'HTTPS', protocol: 'tcp', category: 'web', ... }\n\n// Get all ports in category\nexport function getPortsByCategory(category: PortCategory): WellKnownPort[];\ngetPortsByCategory('web')\n// => [HTTP, HTTPS, HTTP-Alt, 8080, 8443, 3000, ...]\n\n// Search ports (for autocomplete)\nexport function searchPorts(query: string, limit?: number): WellKnownPort[];\nsearchPorts('http');     // [HTTP, HTTPS, HTTP-Alt, ...]\nsearchPorts('22');       // [SSH]\nsearchPorts('sql');      // [MySQL, MSSQL, PostgreSQL, ...]\n\n// Get suggestions grouped by category\nexport function getSuggestionsByCategory(categories?: PortCategory[]): Record<PortCategory, WellKnownPort[]>;\ngetSuggestionsByCategory(['web', 'secure', 'database'])\n// => { web: [...], secure: [...], database: [...] }\n"})}),"\n",(0,s.jsx)(n.h3,{id:"port-presets-for-common-use-cases",children:"Port Presets for Common Use Cases"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"export const PORT_PRESETS = {\n  webServer: [80, 443],\n  mailServer: [25, 465, 587, 993, 995],\n  sshAccess: [22],\n  mikrotikManagement: [8291, 8728, 8729],\n  databaseCommon: [3306, 5432, 27017, 6379],\n  vpnPorts: [1194, 51820, 500, 4500, 1701, 1723],\n};\n\n// Usage in firewall rules\nconst natRule = {\n  chain: 'dstnat',\n  action: 'dst-nat',\n  dstPort: PORT_PRESETS.webServer[0],  // 80\n  toAddresses: '192.168.1.100',\n  toPorts: '8080',\n};\n"})}),"\n",(0,s.jsx)(n.h3,{id:"category-display-names",children:"Category Display Names"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"export const PORT_CATEGORY_LABELS = {\n  web: 'Web Services',\n  secure: 'Secure Access',\n  database: 'Database',\n  messaging: 'Messaging',\n  mail: 'Email',\n  network: 'Network/VPN',\n  system: 'System',\n  containers: 'Containers',\n  mikrotik: 'MikroTik',\n};\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"vpn-protocol-type-differences",children:"VPN Protocol Type Differences"}),"\n",(0,s.jsx)(n.h3,{id:"protocol-selection-matrix",children:"Protocol Selection Matrix"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Feature"}),(0,s.jsx)(n.th,{children:"WireGuard"}),(0,s.jsx)(n.th,{children:"OpenVPN"}),(0,s.jsx)(n.th,{children:"L2TP"}),(0,s.jsx)(n.th,{children:"PPTP"}),(0,s.jsx)(n.th,{children:"SSTP"}),(0,s.jsx)(n.th,{children:"IKEv2"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Port"})}),(0,s.jsx)(n.td,{children:"51820 UDP"}),(0,s.jsx)(n.td,{children:"1194 UDP/TCP"}),(0,s.jsx)(n.td,{children:"1701 UDP"}),(0,s.jsx)(n.td,{children:"1723 TCP"}),(0,s.jsx)(n.td,{children:"443 TCP"}),(0,s.jsx)(n.td,{children:"500 UDP"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Speed"})}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50\u2b50\u2b50"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50\u2b50"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50\u2b50"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Security"})}),(0,s.jsx)(n.td,{children:"Modern"}),(0,s.jsx)(n.td,{children:"Excellent"}),(0,s.jsx)(n.td,{children:"Good"}),(0,s.jsx)(n.td,{children:"Weak"}),(0,s.jsx)(n.td,{children:"Good"}),(0,s.jsx)(n.td,{children:"Excellent"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Setup Ease"})}),(0,s.jsx)(n.td,{children:"Very Easy"}),(0,s.jsx)(n.td,{children:"Complex"}),(0,s.jsx)(n.td,{children:"Complex"}),(0,s.jsx)(n.td,{children:"Easy"}),(0,s.jsx)(n.td,{children:"Moderate"}),(0,s.jsx)(n.td,{children:"Moderate"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Compatibility"})}),(0,s.jsx)(n.td,{children:"Newer"}),(0,s.jsx)(n.td,{children:"Universal"}),(0,s.jsx)(n.td,{children:"Old"}),(0,s.jsx)(n.td,{children:"Old"}),(0,s.jsx)(n.td,{children:"Windows"}),(0,s.jsx)(n.td,{children:"Mobile"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Encryption"})}),(0,s.jsx)(n.td,{children:"ChaCha20-Poly1305"}),(0,s.jsx)(n.td,{children:"AES-256"}),(0,s.jsx)(n.td,{children:"IPsec"}),(0,s.jsx)(n.td,{children:"MPPE"}),(0,s.jsx)(n.td,{children:"TLS 1.2"}),(0,s.jsx)(n.td,{children:"IKEv2 Suite"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Mobile Roaming"})}),(0,s.jsx)(n.td,{children:"Excellent"}),(0,s.jsx)(n.td,{children:"Fair"}),(0,s.jsx)(n.td,{children:"Good"}),(0,s.jsx)(n.td,{children:"Good"}),(0,s.jsx)(n.td,{children:"Good"}),(0,s.jsx)(n.td,{children:"\u2b50\u2b50\u2b50\u2b50\u2b50"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"wireguard-recommended-modern-choice",children:"WireGuard (Recommended Modern Choice)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Minimal, clean configuration\n// Key management is straightforward\n// ~15 lines of code vs 150 for OpenVPN\n// Performance: 10x faster than OpenVPN in benchmarks\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Use Case:"})," New deployments, mobile apps, site-to-site links"]}),"\n",(0,s.jsx)(n.h3,{id:"openvpn-wide-compatibility",children:"OpenVPN (Wide Compatibility)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Mature, battle-tested since 2002\n// Works on all platforms\n// Configuration is detailed and flexible\n// Can tunnel over TCP (good for restrictive networks)\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Use Case:"})," Legacy systems, maximum compatibility, corporate deployments"]}),"\n",(0,s.jsx)(n.h3,{id:"l2tpipsec-enterprise-standard",children:"L2TP/IPsec (Enterprise Standard)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// L2TP = Layer 2 Tunneling Protocol\n// IPsec = Encryption layer\n// Combo is widely supported in corporate environments\n// Requires IPsec configuration (complex)\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Use Case:"})," Enterprise VPN integration, legacy infrastructure"]}),"\n",(0,s.jsx)(n.h3,{id:"pptp-legacy-only",children:"PPTP (Legacy Only)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Point-to-Point Tunneling Protocol\n// Very weak encryption (discouraged)\n// Fast setup but security issues\n// Should NOT be used for sensitive data\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Use Case:"})," Backward compatibility only, non-sensitive networks"]}),"\n",(0,s.jsx)(n.h3,{id:"sstp-windows-native",children:"SSTP (Windows Native)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Secure Socket Tunneling Protocol\n// Runs over HTTPS (port 443)\n// Native Windows support\n// Good fallback when other protocols blocked\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Use Case:"})," Windows environments, networks blocking other VPNs"]}),"\n",(0,s.jsx)(n.h3,{id:"ikev2-mobile-optimized",children:"IKEv2 (Mobile Optimized)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Internet Key Exchange version 2\n// Built-in mobile platform support\n// Excellent for roaming (handoff between WiFi/LTE)\n// More complex than WireGuard but proven\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Use Case:"})," Mobile apps, devices that frequently change networks"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"type-flow-forms--graphql--backend",children:"Type Flow: Forms \u2192 GraphQL \u2192 Backend"}),"\n",(0,s.jsx)(n.p,{children:"Complete data flow through the system:"}),"\n",(0,s.jsx)(n.h3,{id:"1-form-layer-react-hook-form--zod",children:"1. Form Layer (React Hook Form + Zod)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// File: libs/features/network/components/wan-config-form.tsx\n\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { WANStaticConfigSchema } from '@nasnet/core/types';\n\nexport function WANConfigForm() {\n  const form = useForm({\n    resolver: zodResolver(WANStaticConfigSchema),\n    defaultValues: {\n      interface: 'ether1',\n      address: '192.168.1.1/24',\n      gateway: '192.168.1.254',\n      dnsServers: ['8.8.8.8', '8.8.4.4'],\n    },\n  });\n\n  return (\n    <form onSubmit={form.handleSubmit(onSubmit)}>\n      {/* Form fields with validation errors */}\n    </form>\n  );\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Validation at this layer:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"IP format validation"}),"\n",(0,s.jsx)(n.li,{children:"CIDR notation enforcement"}),"\n",(0,s.jsx)(n.li,{children:"Port range validation"}),"\n",(0,s.jsx)(n.li,{children:"Mutual field requirements (e.g., logPrefix when logging enabled)"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"2-graphql-layer",children:"2. GraphQL Layer"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-graphql",children:'# Schema: schema/core/wan.graphql\n\ninput WANStaticConfigInput {\n  interface: String!\n  address: String!       # CIDR format: "192.168.1.0/24"\n  gateway: String!       # Plain IP\n  dnsServers: [String!]!\n}\n\nextend type Mutation {\n  updateWANConfig(config: WANStaticConfigInput!): WANLink!\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Codegen produces:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// libs/api-client/generated/hooks.ts\n\nexport function useUpdateWANConfigMutation() {\n  return useMutation(UPDATE_WAN_CONFIG_MUTATION);\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-backend-resolver",children:"3. Backend Resolver"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:"// apps/backend/graph/resolver/wan-operations.resolvers.go\n\nfunc (r *mutationResolver) UpdateWANConfig(\n  ctx context.Context,\n  config *model.WANStaticConfigInput,\n) (*model.WANLink, error) {\n  // 1. Validation (redundant but safe)\n  if err := validateIPAddress(config.Address); err != nil {\n    return nil, err\n  }\n\n  // 2. Business logic\n  link, err := r.wanService.UpdateStaticConfig(ctx, config)\n  if err != nil {\n    return nil, err\n  }\n\n  // 3. Return result\n  return link, nil\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"4-backend-service-layer",children:"4. Backend Service Layer"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'// apps/backend/internal/services/wan_service.go\n\nfunc (s *WANService) UpdateStaticConfig(\n  ctx context.Context,\n  config *model.WANStaticConfigInput,\n) (*model.WANLink, error) {\n  // 1. Connect to router\n  conn, err := s.routerPool.Get(ctx)\n  if err != nil {\n    return nil, err\n  }\n\n  // 2. Parse CIDR for netmask extraction\n  parsed := s.ipUtils.ParseCIDR(config.Address)\n\n  // 3. Build RouterOS API call\n  cmd := &routeros.Command{\n    Path: "/ip/address",\n    Arguments: map[string]string{\n      "address": config.Address,\n      "interface": config.Interface,\n    },\n  }\n\n  // 4. Execute and return\n  return conn.Execute(cmd)\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type Reference:"})," ",(0,s.jsx)(n.code,{children:"libs/core/docs/types.md"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Utils Reference:"})," ",(0,s.jsx)(n.code,{children:"libs/core/docs/utils.md"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Form Validators:"})," ",(0,s.jsx)(n.code,{children:"libs/core/docs/forms.md"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Design System:"})," ",(0,s.jsx)(n.code,{children:"Docs/design/DESIGN_TOKENS.md"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Architecture:"})," ",(0,s.jsx)(n.code,{children:"Docs/architecture/api-contracts.md"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"migration-guide",children:"Migration Guide"}),"\n",(0,s.jsx)(n.h3,{id:"from-manual-ip-parsing-to-utilities",children:"From Manual IP Parsing to Utilities"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// \u274c Before: Manual string manipulation\nfunction isValidNetwork(address: string): boolean {\n  const parts = address.split('/');\n  return parts.length === 2 && parts[0].includes('.');\n}\n\n// \u2705 After: Use utilities\nimport { isValidSubnet, getSubnetInfo } from '@nasnet/core/utils/network';\n\nif (!isValidSubnet(address)) {\n  throw new Error('Invalid CIDR notation');\n}\n\nconst info = getSubnetInfo(address);\nconsole.log(`Network: ${info.network}, First host: ${info.firstHost}`);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"port-configuration",children:"Port Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// \u274c Before: Hardcoded port numbers scattered everywhere\nif (port === 443) { /* handle HTTPS */ }\nif (port === 22) { /* handle SSH */ }\n\n// \u2705 After: Use well-known ports database\nimport { getServiceByPort, searchPorts } from '@nasnet/core/constants/well-known-ports';\n\nconst service = getServiceByPort(port);\nif (service === 'HTTPS') { /* handle HTTPS */ }\n\n// For autocomplete\nconst suggestions = searchPorts(userInput);\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},71184:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>l});var t=r(14041);const s={},i=t.createContext(s);function o(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);