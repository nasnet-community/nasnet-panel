"use strict";(globalThis.webpackChunk_nas_net_docs=globalThis.webpackChunk_nas_net_docs||[]).push([[92408],{66510:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"flows/config-provisioning-flow","title":"Flow: Config Provisioning","description":"Traces how a desired router configuration is applied through an 8-phase pipeline, with verification and automatic rollback on failure.","source":"@site/../backend/docs/flows/config-provisioning-flow.md","sourceDirName":"flows","slug":"/flows/config-provisioning-flow","permalink":"/docs/backend/flows/config-provisioning-flow","draft":false,"unlisted":false,"editUrl":"https://github.com/nasnet-community/nasnet-panel/tree/main/../backend/docs/flows/config-provisioning-flow.md","tags":[],"version":"current","frontMatter":{},"sidebar":"sidebar","previous":{"title":"Flow: Alert Lifecycle","permalink":"/docs/backend/flows/alert-lifecycle-flow"},"next":{"title":"Flow: Device Routing Chain","permalink":"/docs/backend/flows/device-routing-chain-flow"}}');var i=n(31085),t=n(71184);const o={},c="Flow: Config Provisioning",l={},a=[{value:"Overview",id:"overview",level:2},{value:"Sequence Diagram",id:"sequence-diagram",level:2},{value:"Step-by-Step Walkthrough",id:"step-by-step-walkthrough",level:2},{value:"Step 1: Changeset Mutation Entry",id:"step-1-changeset-mutation-entry",level:3},{value:"Step 2: State Decomposition",id:"step-2-state-decomposition",level:3},{value:"Step 3: Phase Classification",id:"step-3-phase-classification",level:3},{value:"Step 4: Sequential Phase Execution",id:"step-4-sequential-phase-execution",level:3},{value:"Step 5: Batch Command Execution",id:"step-5-batch-command-execution",level:3},{value:"Step 6: Command Execution via RouterPort",id:"step-6-command-execution-via-routerport",level:3},{value:"Step 7: Verification Step",id:"step-7-verification-step",level:3},{value:"Step 8: Rollback on Failure",id:"step-8-rollback-on-failure",level:3},{value:"Rollback Mechanics",id:"rollback-mechanics",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"Observability",id:"observability",level:2},{value:"Cross-References",id:"cross-references",level:2}];function d(e){const r={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"flow-config-provisioning",children:"Flow: Config Provisioning"})}),"\n",(0,i.jsxs)(r.blockquote,{children:["\n",(0,i.jsx)(r.p,{children:"Traces how a desired router configuration is applied through an 8-phase pipeline, with verification and automatic rollback on failure."}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Touches:"})," ",(0,i.jsx)(r.code,{children:"graph/resolver/changeset-*.resolvers.go"}),", ",(0,i.jsx)(r.code,{children:"internal/provisioning/orchestrator/"}),", ",(0,i.jsx)(r.code,{children:"internal/router/batch/"}),", ",(0,i.jsx)(r.code,{children:"internal/services/provisioning/"}),"\n",(0,i.jsx)(r.strong,{children:"Entry Point:"})," ",(0,i.jsx)(r.code,{children:"ApplyChangeset"})," mutation in ",(0,i.jsx)(r.code,{children:"graph/resolver/changeset-operations.resolvers.go"}),"\n",(0,i.jsx)(r.strong,{children:"Prerequisites:"})]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"[See: 03-graphql-api.md \xa7Changesets] \u2014 changeset creation and the Apply-Confirm-Merge pattern"}),"\n",(0,i.jsx)(r.li,{children:"[See: 08-provisioning-engine.md] \u2014 8-phase pipeline and phase classification"}),"\n",(0,i.jsx)(r.li,{children:"[See: 04-router-communication.md \xa7Batch] \u2014 batch executor and rollback mechanics"}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(r.p,{children:["Configuration provisioning follows the Apply-Confirm-Merge pattern. A changeset is first assembled client-side (Draft state), then submitted for application. The Orchestrator decomposes the desired state into router commands, groups them by phase, and executes them sequentially. If any phase fails, the entire operation is rolled back in reverse order (Phase 8 \u2192 Phase 1). All created resource ",(0,i.jsx)(r.code,{children:".id"}),"s are tracked for precise rollback using O(1) remove commands."]}),"\n",(0,i.jsx)(r.h2,{id:"sequence-diagram",children:"Sequence Diagram"}),"\n",(0,i.jsx)(r.mermaid,{value:'sequenceDiagram\n    participant Client\n    participant GraphQL\n    participant ProvisioningService\n    participant Orchestrator\n    participant RouterPort\n\n    Client->>GraphQL: ApplyChangeset (changesetID)\n    GraphQL->>ProvisioningService: validate\n    ProvisioningService->>ProvisioningService: DecomposeState()<br/>(desired \u2192 commands)\n    ProvisioningService->>ProvisioningService: ClassifyByPhase()<br/>(path \u2192 phase map)\n    GraphQL--\x3e>Client: { jobID }\n    ProvisioningService->>Orchestrator: go Apply() (async)\n    Note over Orchestrator,RouterPort: Phase 1: INTERFACE_SETUP\n    Orchestrator->>RouterPort: cmd: /interface/vlan add\n    RouterPort--\x3e>Orchestrator: {.id: "*3"}\n    Orchestrator->>Orchestrator: track .id\n    Note over Orchestrator,RouterPort: Phase 2: TUNNEL_PEERS\n    Orchestrator->>RouterPort: cmd: /interface/wireguard/peers add\n    RouterPort--\x3e>Orchestrator: {.id: "*5"}\n    Note over Orchestrator,RouterPort: ...phases 3-8...\n    Note over Orchestrator,RouterPort: Verify phase\n    Orchestrator->>RouterPort: /system/identity\n    RouterPort--\x3e>Orchestrator: response\n    ProvisioningService->>ProvisioningService: emit applied event\n    ProvisioningService--\x3e>Client: applied event (via event bus)'}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Rollback scenario (Phase 6 routing fails):"})}),"\n",(0,i.jsx)(r.mermaid,{value:"sequenceDiagram\n    participant Orchestrator\n    participant RouterPort\n\n    Note over Orchestrator: Phase 6 ROUTING fails<br/>(e.g. routing table conflict)\n    Orchestrator->>Orchestrator: Rollback(results)\n    Note over Orchestrator: Phase 8\u21927: (not reached, skip)\n    Note over Orchestrator: Phase 6: reverse order\n    Orchestrator->>RouterPort: /ip/route remove .id=*12\n    Orchestrator->>RouterPort: /routing/table remove .id=*9\n    Note over Orchestrator: Phase 5\u21921: reverse all created resources\n    Orchestrator->>RouterPort: /interface/bridge/port remove .id=*8\n    Orchestrator->>RouterPort: /ip/dhcp-server remove .id=*7\n    Orchestrator->>RouterPort: /interface/wireguard remove .id=*5\n    Orchestrator->>RouterPort: /interface/vlan remove .id=*3"}),"\n",(0,i.jsx)(r.h2,{id:"step-by-step-walkthrough",children:"Step-by-Step Walkthrough"}),"\n",(0,i.jsx)(r.h3,{id:"step-1-changeset-mutation-entry",children:"Step 1: Changeset Mutation Entry"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Client calls ",(0,i.jsx)(r.code,{children:"ApplyChangeset(changesetID)"})," GraphQL mutation"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"File:"})," ",(0,i.jsx)(r.code,{children:"graph/resolver/changeset-operations.resolvers.go"})]}),"\n",(0,i.jsxs)(r.li,{children:["Resolver loads the changeset from database (status must be ",(0,i.jsx)(r.code,{children:'"draft"'})," or ",(0,i.jsx)(r.code,{children:'"pending"'}),")"]}),"\n",(0,i.jsxs)(r.li,{children:["Updates changeset status to ",(0,i.jsx)(r.code,{children:'"applying"'})]}),"\n",(0,i.jsx)(r.li,{children:"Validates router connection is alive (via connection pool)"}),"\n",(0,i.jsxs)(r.li,{children:["Returns a ",(0,i.jsx)(r.code,{children:"jobID"})," immediately; actual application is async"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"step-2-state-decomposition",children:"Step 2: State Decomposition"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"ProvisioningService.Apply(ctx, changeset)"})," is called in a goroutine"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"File:"})," ",(0,i.jsx)(r.code,{children:"internal/services/provisioning/apply.go"})]}),"\n",(0,i.jsx)(r.li,{children:"Reads the changeset's desired state (Universal State v2 8-layer model)"}),"\n",(0,i.jsxs)(r.li,{children:["Decomposes each resource layer into concrete RouterOS commands:","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Each resource \u2192 ",(0,i.jsx)(r.code,{children:"router.Command{Path, Action, Args}"})]}),"\n",(0,i.jsxs)(r.li,{children:["Actions: ",(0,i.jsx)(r.code,{children:'"add"'})," for new resources, ",(0,i.jsx)(r.code,{children:'"set"'})," for updates, ",(0,i.jsx)(r.code,{children:'"remove"'})," for deletions"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.li,{children:"Groups commands by their target RouterOS path prefix"}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"step-3-phase-classification",children:"Step 3: Phase Classification"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"orchestrator.ClassifyResourcePath(path)"})," maps each command to one of 8 phases"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"File:"})," ",(0,i.jsx)(r.code,{children:"internal/provisioning/orchestrator/phases.go:227"})]}),"\n",(0,i.jsxs)(r.li,{children:["Uses longest-prefix matching against ",(0,i.jsx)(r.code,{children:"AllPhases"})," path tables"]}),"\n",(0,i.jsxs)(r.li,{children:["Phase execution order (1\u21928):","\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"INTERFACE_SETUP"})," \u2014 bridges, WireGuard, PPPoE, VLAN, LTE, WiFi"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"TUNNEL_PEERS"})," \u2014 WireGuard peers, IPsec profiles/peers/proposals"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"IP_ADDRESS_POOLS"})," \u2014 IP pools, IP address assignments"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"PPP_VPN_SERVERS"})," \u2014 PPP profiles/secrets, VPN server endpoints"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"DHCP_NETWORKING"})," \u2014 DHCP servers, bridge ports, interface list members"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"ROUTING"})," \u2014 routing tables, static routes, PBR rules"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"FIREWALL"})," \u2014 address lists, mangle, NAT, filter, raw rules"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"SYSTEM_DNS"})," \u2014 DNS, NTP, system identity, scheduler, certificates"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"step-4-sequential-phase-execution",children:"Step 4: Sequential Phase Execution"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"Orchestrator.RunPhases(ctx, commands)"})," iterates phases 1 through 8"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"File:"})," ",(0,i.jsx)(r.code,{children:"internal/provisioning/orchestrator/"})," (orchestrator main)"]}),"\n",(0,i.jsx)(r.li,{children:"Within each phase, commands are executed sequentially (order matters for dependencies)"}),"\n",(0,i.jsxs)(r.li,{children:["Each successful ",(0,i.jsx)(r.code,{children:'"add"'})," command returns a RouterOS ",(0,i.jsx)(r.code,{children:".id"})," (e.g., ",(0,i.jsx)(r.code,{children:'"*3"'}),")"]}),"\n",(0,i.jsxs)(r.li,{children:["Created resource IDs are tracked in ",(0,i.jsx)(r.code,{children:"PhaseResult.ResourceIDs[]"})," for rollback"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"step-5-batch-command-execution",children:"Step 5: Batch Command Execution"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"Job.Execute()"})," runs the actual commands through ",(0,i.jsx)(r.code,{children:"executeCommands(ctx)"})]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"File:"})," ",(0,i.jsx)(r.code,{children:"internal/router/batch/executor.go"})," and ",(0,i.jsx)(r.code,{children:"executor_run.go"})]}),"\n",(0,i.jsx)(r.li,{children:"Each command goes through the circuit-breaker-wrapped router adapter"}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"DryRun: true"})," mode logs commands without executing (for preview)"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"RollbackEnabled: true"})," pushes inverse commands onto the ",(0,i.jsx)(r.code,{children:"rollbackStack"})," as commands succeed"]}),"\n",(0,i.jsxs)(r.li,{children:["Progress is tracked: ",(0,i.jsx)(r.code,{children:"{Total, Current, Percent, Succeeded, Failed, Skipped}"})]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"step-6-command-execution-via-routerport",children:"Step 6: Command Execution via RouterPort"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Each command is translated to the protocol-specific wire format"}),"\n",(0,i.jsxs)(r.li,{children:["REST adapter: HTTP POST ",(0,i.jsx)(r.code,{children:"/{path}/add"})," with JSON body"]}),"\n",(0,i.jsx)(r.li,{children:"API adapter: binary RouterOS API protocol"}),"\n",(0,i.jsxs)(r.li,{children:["SSH adapter: ",(0,i.jsx)(r.code,{children:"/path action key=value"})," CLI syntax"]}),"\n",(0,i.jsxs)(r.li,{children:["Router returns: ",(0,i.jsx)(r.code,{children:'{".id": "*N"}'})," for created resources (RouterOS internal ID)"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"step-7-verification-step",children:"Step 7: Verification Step"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"After all 8 phases complete, a verification query is executed"}),"\n",(0,i.jsxs)(r.li,{children:["Queries ",(0,i.jsx)(r.code,{children:"/system/identity"})," and one or two key resources to confirm changes persisted"]}),"\n",(0,i.jsxs)(r.li,{children:["On success: changeset status updated to ",(0,i.jsx)(r.code,{children:'"applied"'}),"; ",(0,i.jsx)(r.code,{children:"ChangesetApplied"})," event published"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"step-8-rollback-on-failure",children:"Step 8: Rollback on Failure"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["If ANY phase fails, ",(0,i.jsx)(r.code,{children:"Orchestrator.Rollback(ctx, results)"})," is called"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"File:"})," ",(0,i.jsx)(r.code,{children:"internal/provisioning/orchestrator/rollback.go:30"})]}),"\n",(0,i.jsxs)(r.li,{children:["Iterates ",(0,i.jsx)(r.code,{children:"results[]"})," in ",(0,i.jsx)(r.strong,{children:"reverse"})," order (Phase 8 \u2192 Phase 1)"]}),"\n",(0,i.jsxs)(r.li,{children:["Within each phase, resource IDs are removed in ",(0,i.jsx)(r.strong,{children:"reverse creation order"})]}),"\n",(0,i.jsxs)(r.li,{children:["For each resource: ",(0,i.jsx)(r.code,{children:'ExecuteCommand(ctx, {Path, Action: "remove", Args: {".id": res.ID}})'})]}),"\n",(0,i.jsxs)(r.li,{children:["Failures are accumulated in ",(0,i.jsx)(r.code,{children:"RollbackResult.Errors[]"})," but rollback continues (best-effort)"]}),"\n",(0,i.jsxs)(r.li,{children:["Only ",(0,i.jsx)(r.code,{children:'"add"'})," resources are removed; ",(0,i.jsx)(r.code,{children:'"set"'})," changes cannot be automatically reversed (logged)"]}),"\n",(0,i.jsxs)(r.li,{children:["Final summary: ",(0,i.jsx)(r.code,{children:"{TotalResources, Removed, Failed}"})," logged"]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"rollback-mechanics",children:"Rollback Mechanics"}),"\n",(0,i.jsxs)(r.p,{children:["The rollback is precise because each successful ",(0,i.jsx)(r.code,{children:'"add"'})," command captures the RouterOS ",(0,i.jsx)(r.code,{children:".id"}),":"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:'PhaseResult{\n  Phase: PhaseRouting,\n  ResourceIDs: [\n    {Path: "/routing/table", ID: "*9"},\n    {Path: "/ip/route",      ID: "*12"},\n  ]\n}\n'})}),"\n",(0,i.jsxs)(r.p,{children:["Rollback removes in reverse: ",(0,i.jsx)(r.code,{children:"/ip/route remove .id=*12"})," then ",(0,i.jsx)(r.code,{children:"/routing/table remove .id=*9"}),"."]}),"\n",(0,i.jsx)(r.p,{children:"This means rollback never queries the router to find what to remove \u2014 it uses the exact IDs returned during apply, making rollback O(1) per resource."}),"\n",(0,i.jsx)(r.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Phase"}),(0,i.jsx)(r.th,{children:"Failure"}),(0,i.jsx)(r.th,{children:"Recovery"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Phase 1-7 failure"}),(0,i.jsx)(r.td,{children:"Command error"}),(0,i.jsxs)(r.td,{children:["Rollback phases N \u2192 1; changeset status \u2192 ",(0,i.jsx)(r.code,{children:'"failed"'})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Phase 8 failure"}),(0,i.jsx)(r.td,{children:"Last phase fails"}),(0,i.jsx)(r.td,{children:"Rollback phases 8 \u2192 1"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Rollback command fails"}),(0,i.jsx)(r.td,{children:"Remove fails"}),(0,i.jsx)(r.td,{children:"Log warning; continue with next resource (best-effort)"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Connection lost mid-phase"}),(0,i.jsx)(r.td,{children:"Circuit breaker opens"}),(0,i.jsx)(r.td,{children:"Phase command returns error \u2192 triggers rollback"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Verification fails"}),(0,i.jsx)(r.td,{children:"Resources not visible"}),(0,i.jsx)(r.td,{children:"Rollback triggered; changeset marked failed"})]})]})]}),"\n",(0,i.jsx)(r.h2,{id:"observability",children:"Observability"}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Events emitted (event bus):"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"changeset.applying"})," \u2014 when application starts"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"changeset.applied"})," \u2014 on successful completion"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"changeset.failed"})," \u2014 on error with reason"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"changeset.rolled_back"})," \u2014 after rollback completes"]}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Logs generated:"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"INFO: rolling back provisioned resource"})," with phase, path, and ID for each rollback"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"WARN: rollback remove failed"})," with error details"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"INFO: rollback complete"})," with total/removed/failed counts"]}),"\n",(0,i.jsxs)(r.li,{children:["Phase-level progress: ",(0,i.jsx)(r.code,{children:"INFO: executing phase N: PHASE_NAME"})]}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Metrics:"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Changeset duration: tracked from ",(0,i.jsx)(r.code,{children:"applying"})," \u2192 ",(0,i.jsx)(r.code,{children:"applied"})," or ",(0,i.jsx)(r.code,{children:"failed"})]}),"\n",(0,i.jsxs)(r.li,{children:["Rollback success rate: ",(0,i.jsx)(r.code,{children:"Removed / TotalResources"})," ratio"]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"cross-references",children:"Cross-References"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"[See: 08-provisioning-engine.md \xa7Phases] \u2014 phase definitions and path classifications"}),"\n",(0,i.jsx)(r.li,{children:"[See: 08-provisioning-engine.md \xa7Orchestrator] \u2014 orchestrator implementation details"}),"\n",(0,i.jsx)(r.li,{children:"[See: 04-router-communication.md \xa7Batch] \u2014 batch job executor and rollback stack"}),"\n",(0,i.jsx)(r.li,{children:"[See: 02-application-bootstrap.md \xa7DataArchitecture] \u2014 Universal State v2 8-layer model"}),"\n",(0,i.jsx)(r.li,{children:"[See: 03-graphql-api.md \xa7Changesets] \u2014 changeset GraphQL schema and mutations"}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},71184:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>c});var s=n(14041);const i={},t=s.createContext(i);function o(e){const r=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(t.Provider,{value:r},e.children)}}}]);