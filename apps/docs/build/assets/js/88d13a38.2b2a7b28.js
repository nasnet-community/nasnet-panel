"use strict";(globalThis.webpackChunk_nas_net_docs=globalThis.webpackChunk_nas_net_docs||[]).push([[79603],{50310:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>m,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"tokens-and-animation","title":"Design Tokens & Animation System","description":"Source package: libs/ui/tokens/","source":"@site/../../libs/ui/docs/tokens-and-animation.md","sourceDirName":".","slug":"/tokens-and-animation","permalink":"/docs/ui/tokens-and-animation","draft":false,"unlisted":false,"editUrl":"https://github.com/nasnet-community/nasnet-panel/tree/main/../../libs/ui/docs/tokens-and-animation.md","tags":[],"version":"current","frontMatter":{},"sidebar":"sidebar","previous":{"title":"Shared Hooks Reference","permalink":"/docs/ui/shared-hooks"}}');var s=i(31085),r=i(71184);const o={},a="Design Tokens & Animation System",d={},c=[{value:"Three-Tier Token Architecture",id:"three-tier-token-architecture",level:2},{value:"Tier 1: Primitive Tokens",id:"tier-1-primitive-tokens",level:3},{value:"Tier 2: Semantic Tokens",id:"tier-2-semantic-tokens",level:3},{value:"Tier 3: Component Tokens",id:"tier-3-component-tokens",level:3},{value:"The Golden Rule",id:"the-golden-rule",level:3},{value:"Token Build Pipeline",id:"token-build-pipeline",level:2},{value:"Build Outputs",id:"build-outputs",level:3},{value:"Running the Build",id:"running-the-build",level:3},{value:"CSS Variable Naming Convention",id:"css-variable-naming-convention",level:2},{value:"TypeScript Access",id:"typescript-access",level:2},{value:"Importing the Token Package",id:"importing-the-token-package",level:3},{value:"Reading Token Values Programmatically",id:"reading-token-values-programmatically",level:3},{value:"Tailwind Mapping",id:"tailwind-mapping",level:2},{value:"Color Utilities",id:"color-utilities",level:3},{value:"Shadow, Border Radius, and Spacing Utilities",id:"shadow-border-radius-and-spacing-utilities",level:3},{value:"Dark Mode",id:"dark-mode",level:2},{value:"How It Works",id:"how-it-works",level:3},{value:"Where Dark Tokens Are Defined",id:"where-dark-tokens-are-defined",level:3},{value:"ThemeProvider Integration",id:"themeprovider-integration",level:3},{value:"Animation Tokens",id:"animation-tokens",level:2},{value:"Tier 1: Duration Values (<code>durations</code>)",id:"tier-1-duration-values-durations",level:3},{value:"Tier 1: Easing Curves (<code>easings</code>)",id:"tier-1-easing-curves-easings",level:3},{value:"Tier 1: Spring Configurations (<code>springs</code>)",id:"tier-1-spring-configurations-springs",level:3},{value:"Tier 2: Platform-Aware Tokens (<code>getAnimationTokens</code>)",id:"tier-2-platform-aware-tokens-getanimationtokens",level:3},{value:"Framer Motion Transitions",id:"framer-motion-transitions",level:2},{value:"Animation Presets",id:"animation-presets",level:2},{value:"Fade Variants",id:"fade-variants",level:3},{value:"Slide Variants",id:"slide-variants",level:3},{value:"Scale Variants",id:"scale-variants",level:3},{value:"Page Transition Variants",id:"page-transition-variants",level:3},{value:"Drawer and Sheet Variants",id:"drawer-and-sheet-variants",level:3},{value:"Stagger Variants (for Lists)",id:"stagger-variants-for-lists",level:3},{value:"Reduced Motion Variants",id:"reduced-motion-variants",level:3},{value:"Micro-Interaction Variants",id:"micro-interaction-variants",level:3},{value:"Layout and State Variants",id:"layout-and-state-variants",level:3},{value:"Utility: <code>getVariant</code>",id:"utility-getvariant",level:3},{value:"Motion Components",id:"motion-components",level:2},{value:"AnimationProvider",id:"animationprovider",level:3},{value:"PageTransition",id:"pagetransition",level:3},{value:"BottomSheet",id:"bottomsheet",level:3},{value:"AnimatedList",id:"animatedlist",level:3},{value:"SharedElement",id:"sharedelement",level:3},{value:"useInViewAnimation",id:"useinviewanimation",level:3},{value:"Reduced Motion Support",id:"reduced-motion-support",level:2},{value:"Utility Functions from <code>@nasnet/ui/tokens</code>",id:"utility-functions-from-nasnetuitokens",level:3},{value:"Integration with <code>useAnimation</code>",id:"integration-with-useanimation",level:3},{value:"CSS Reduced Motion",id:"css-reduced-motion",level:3},{value:"The <code>reducedMotionFade</code> Preset",id:"the-reducedmotionfade-preset",level:3}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"design-tokens--animation-system",children:"Design Tokens & Animation System"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Source package:"})," ",(0,s.jsx)(n.code,{children:"libs/ui/tokens/"}),"\n",(0,s.jsx)(n.strong,{children:"Motion components:"})," ",(0,s.jsx)(n.code,{children:"libs/ui/patterns/src/motion/"}),"\n",(0,s.jsx)(n.strong,{children:"Cross-reference:"})," ",(0,s.jsx)(n.a,{href:"/docs/ui/layouts-and-platform",children:"layouts-and-platform.md"})," for platform-specific timing, ",(0,s.jsx)(n.a,{href:"/docs/ui/primitives-reference",children:"primitives-reference.md"})," for ",(0,s.jsx)(n.code,{children:"useReducedMotion"})," hook."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"three-tier-token-architecture",children:"Three-Tier Token Architecture"}),"\n",(0,s.jsxs)(n.p,{children:["NasNetConnect uses a strict three-tier token architecture defined in ",(0,s.jsx)(n.code,{children:"libs/ui/tokens/src/tokens.json"}),". Approximately 200 tokens are organized across the three tiers. The build pipeline processes the JSON source and emits CSS variables, TypeScript constants, and a Tailwind config extension."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Tier 1: Primitives (~80 tokens)   \u2014 raw values, never used directly in components\nTier 2: Semantic (~70 tokens)     \u2014 contextual meaning, the tier you use in components\nTier 3: Component (~50 tokens)    \u2014 component-specific, used only inside that component\n"})}),"\n",(0,s.jsx)(n.h3,{id:"tier-1-primitive-tokens",children:"Tier 1: Primitive Tokens"}),"\n",(0,s.jsx)(n.p,{children:"Raw, named values with no meaning attached. Their only role is to be referenced by Tier 2 tokens."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'// libs/ui/tokens/src/tokens.json \u2014 primitive.color.brand\n"amber": {\n  "500": { "$value": "#EFC729" }   // PRIMARY - Golden Amber\n},\n"blue": {\n  "500": { "$value": "#4972BA" }   // SECONDARY - Trust Blue\n}\n\n// primitive.color.status\n"green.500":  "#22C55E"   // base for success\n"red.500":    "#EF4444"   // base for error\n"yellow.500": "#F59E0B"   // base for warning\n"sky.500":    "#0EA5E9"   // base for info\n\n// primitive.color.category (14 categories)\n"security":  "#EF4444"   // red\n"monitoring":"#A855F7"   // purple\n"networking":"#3B82F6"   // blue\n"vpn":       "#22C55E"   // green\n"wifi":      "#06B6D4"   // cyan\n"firewall":  "#F97316"   // orange\n"system":    "#6B7280"   // gray\n"dhcp":      "#EC4899"   // pink\n"routing":   "#6366F1"   // indigo\n"tunnels":   "#14B8A6"   // teal\n"qos":       "#F472B6"   // pink\n"hotspot":   "#FB923C"   // orange\n"logging":   "#9CA3AF"   // gray\n"backup":    "#60A5FA"   // light blue\n\n// primitive.spacing \u2014 4px base scale\n"4":  "1rem"    // 16px\n"6":  "1.5rem"  // 24px\n"8":  "2rem"    // 32px\n"11": "2.75rem" // 44px \u2014 minimum touch target\n\n// primitive.typography.fontFamily\n"sans":    "\'Inter\', system-ui, -apple-system, sans-serif"\n"mono":    "\'JetBrains Mono\', \'Fira Code\', ui-monospace, monospace"\n"display": "\'Satoshi\', \'Inter\', system-ui, sans-serif"\n\n// primitive.duration \u2014 CSS transition durations\n"100": "100ms"   "200": "200ms"   "300": "300ms"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"tier-2-semantic-tokens",children:"Tier 2: Semantic Tokens"}),"\n",(0,s.jsxs)(n.p,{children:["Tokens with intent. These are the tokens you reference in component code. They point to Tier 1 values through the ",(0,s.jsx)(n.code,{children:"{primitive.x.y}"})," reference syntax."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'// semantic.color.primary\n"DEFAULT": "{primitive.color.brand.amber.500}"   // #EFC729\n"hover":   "{primitive.color.brand.amber.600}"\n"active":  "{primitive.color.brand.amber.700}"\n"light":   "{primitive.color.brand.amber.100}"\n"foreground": "{primitive.color.neutral.slate.900}"\n\n// semantic.color.success / warning / error / info\n"success.DEFAULT": "{primitive.color.status.green.500}"\n"warning.DEFAULT": "{primitive.color.status.yellow.500}"\n"error.DEFAULT":   "{primitive.color.status.red.500}"\n"info.DEFAULT":    "{primitive.color.status.sky.500}"\n\n// semantic.color.surface (background/card/muted)\n"background": "{primitive.color.neutral.slate.100}"\n"card":       "{primitive.color.neutral.white}"\n"muted":      "{primitive.color.neutral.slate.100}"\n\n// semantic.color.network \u2014 interface type colors\n"wan":      firewall orange\n"lan":      networking blue\n"vpn":      vpn green\n"wireless": wifi cyan\n\n// semantic.color.networkStatus\n"connected":    green.500\n"disconnected": slate.400\n"pending":      yellow.500\n"error":        red.500\n\n// semantic.duration\n"fast":   "100ms"\n"normal": "200ms"\n"slow":   "300ms"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"tier-3-component-tokens",children:"Tier 3: Component Tokens"}),"\n",(0,s.jsxs)(n.p,{children:["Tokens scoped to a single component. Defined under ",(0,s.jsx)(n.code,{children:"component.*"})," in ",(0,s.jsx)(n.code,{children:"tokens.json"}),". Do not reference them outside their component."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'// component.button.primary\n"bg":           "{semantic.color.primary.DEFAULT}"\n"bgHover":      "{semantic.color.primary.hover}"\n"text":         "{semantic.color.primary.foreground}"\n"borderRadius": "{semantic.radius.button}"\n"focusRing":    "0 0 0 4px rgba(239, 199, 41, 0.2)"\n\n// component.card\n"bg":             "{semantic.color.surface.card}"\n"border":         "{semantic.color.border.DEFAULT}"\n"shadow":         "{semantic.shadow.card}"\n"borderRadius":   "{semantic.radius.card}"\n"padding":        "{primitive.spacing.4}"\n"paddingDesktop": "{primitive.spacing.6}"\n\n// component.stepper\n"activeColor":    "{semantic.color.primary.DEFAULT}"\n"completedColor": "{semantic.color.success.DEFAULT}"\n"itemSize":       "2rem"\n"itemSizeMobile": "2.5rem"   // touch-friendly\n'})}),"\n",(0,s.jsx)(n.h3,{id:"the-golden-rule",children:"The Golden Rule"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'// CORRECT \u2014 use semantic tokens\n<Button className="bg-primary text-primary-foreground">Connect</Button>\n<div className="bg-card border-border shadow-card">...</div>\n<span className="text-success">Online</span>\n\n// WRONG \u2014 never reference primitive colors directly\n<Button className="bg-amber-500">Connect</Button>\n<div className="bg-white border-slate-200">...</div>\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"token-build-pipeline",children:"Token Build Pipeline"}),"\n",(0,s.jsx)(n.p,{children:"Source and build files:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Source:"})," ",(0,s.jsx)(n.code,{children:"libs/ui/tokens/src/tokens.json"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Build script:"})," ",(0,s.jsx)(n.code,{children:"libs/ui/tokens/build.js"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"TypeScript animation tokens:"})," ",(0,s.jsx)(n.code,{children:"libs/ui/tokens/src/animation.ts"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"build-outputs",children:"Build Outputs"}),"\n",(0,s.jsxs)(n.p,{children:["Running the build script produces four files under ",(0,s.jsx)(n.code,{children:"libs/ui/tokens/dist/"}),":"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Output file"}),(0,s.jsx)(n.th,{children:"Contents"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"dist/variables.css"})}),(0,s.jsxs)(n.td,{children:["CSS custom properties for ",(0,s.jsx)(n.code,{children:":root"})," and ",(0,s.jsx)(n.code,{children:".dark"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"dist/tokens.ts"})}),(0,s.jsxs)(n.td,{children:["TypeScript constants with ",(0,s.jsx)(n.code,{children:"designTokens"}),", ",(0,s.jsx)(n.code,{children:"cssVar()"}),", ",(0,s.jsx)(n.code,{children:"getToken()"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"dist/tokens.d.ts"})}),(0,s.jsx)(n.td,{children:"Type definitions for the above"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"dist/tailwind.config.js"})}),(0,s.jsx)(n.td,{children:"Tailwind theme extension mapping CSS variables to utilities"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"running-the-build",children:"Running the Build"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# One-time build\nnpx nx build ui-tokens\n\n# Watch mode (rebuilds on tokens.json changes)\nnode libs/ui/tokens/build.js --watch\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The build script resolves all ",(0,s.jsx)(n.code,{children:"{reference.path}"})," tokens, merges dark overrides, and emits only the diff between light and dark into the ",(0,s.jsx)(n.code,{children:".dark {}"})," block."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"css-variable-naming-convention",children:"CSS Variable Naming Convention"}),"\n",(0,s.jsx)(n.p,{children:"The build script derives variable names from the JSON path using dashes:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"--{tier}-{group}-{name}-{variant}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Real examples from ",(0,s.jsx)(n.code,{children:"dist/variables.css"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-css",children:':root {\n  /* Tier 1 primitives */\n  --primitive-color-brand-amber-500: #EFC729;\n  --primitive-spacing-4: 1rem;\n  --primitive-shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), ...;\n\n  /* Tier 2 semantic */\n  --semantic-color-primary-DEFAULT: #EFC729;\n  --semantic-color-primary-hover: #D4A50E;\n  --semantic-color-success-DEFAULT: #22C55E;\n  --semantic-color-surface-background: #F1F5F9;\n  --semantic-color-surface-card: #FFFFFF;\n  --semantic-color-category-security: #EF4444;\n  --semantic-color-network-wan: #F97316;\n  --semantic-color-networkStatus-connected: #22C55E;\n  --semantic-confidence-high: #16A34A;\n  --semantic-radius-button: 0.75rem;\n  --semantic-shadow-card: 0 4px 6px -1px rgb(0 0 0 / 0.1), ...;\n  --semantic-animation-wizard-stepTransition: 300ms;\n  --semantic-animation-wizard-easing: cubic-bezier(0.4, 0, 0.2, 1);\n\n  /* Tier 3 component */\n  --component-button-primary-bg: #EFC729;\n  --component-card-borderRadius: 1rem;\n  --component-stepper-activeColor: #EFC729;\n  --component-stepper-itemSize: 2rem;\n  --component-stepper-itemSizeMobile: 2.5rem;\n}\n\n/* Dark theme overrides \u2014 only tokens that differ */\n[data-theme="dark"],\n.dark {\n  --semantic-color-surface-background: #0F172A;\n  --semantic-color-surface-card: #1E293B;\n  --semantic-color-text-primary: #F8FAFC;\n  --semantic-color-border-DEFAULT: #334155;\n  --semantic-color-networkStatus-connected: #4ADE80;\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"typescript-access",children:"TypeScript Access"}),"\n",(0,s.jsx)(n.h3,{id:"importing-the-token-package",children:"Importing the Token Package"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"// Import CSS variables (must be in app entrypoint or a root layout)\nimport '@nasnet/ui/tokens/variables.css';\n\n// Import TypeScript animation tokens\nimport {\n  transitions,\n  getAnimationTokens,\n  durations,\n  easings,\n  springs,\n  getReducedMotionTransition,\n  getReducedMotionDuration,\n  msToSeconds,\n  type Platform,\n  type AnimationTokens,\n} from '@nasnet/ui/tokens';\n"})}),"\n",(0,s.jsx)(n.h3,{id:"reading-token-values-programmatically",children:"Reading Token Values Programmatically"}),"\n",(0,s.jsxs)(n.p,{children:["The build script generates ",(0,s.jsx)(n.code,{children:"designTokens"}),", ",(0,s.jsx)(n.code,{children:"cssVar()"}),", and ",(0,s.jsx)(n.code,{children:"getToken()"})," in ",(0,s.jsx)(n.code,{children:"dist/tokens.ts"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { designTokens, cssVar, getToken } from '@nasnet/ui/tokens/tokens';\n\n// Read a resolved value\nconst primary = designTokens.semantic.color.primary.DEFAULT;\n// => '#EFC729'\n\n// Get a CSS variable reference string\nconst varRef = cssVar('semantic-color-primary-DEFAULT');\n// => 'var(--semantic-color-primary-DEFAULT)'\n\n// Get a value by dot-path (returns string or undefined)\nconst successColor = getToken('semantic.color.success.DEFAULT');\n// => '#22C55E'\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"tailwind-mapping",children:"Tailwind Mapping"}),"\n",(0,s.jsxs)(n.p,{children:["The build script emits ",(0,s.jsx)(n.code,{children:"dist/tailwind.config.js"})," which maps every CSS variable to a Tailwind utility class. The app's ",(0,s.jsx)(n.code,{children:"tailwind.config.js"})," extends this."]}),"\n",(0,s.jsx)(n.h3,{id:"color-utilities",children:"Color Utilities"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"// Brand\nbg-primary           // var(--semantic-color-primary-DEFAULT)   #EFC729\nbg-primary/50        // 50% opacity of primary\ntext-primary-foreground\nbg-secondary         // var(--semantic-color-secondary-DEFAULT)  #4972BA\n\n// Status\nbg-success           // var(--semantic-color-success-DEFAULT)\nbg-warning\nbg-error\nbg-info\ntext-success\ntext-error\n\n// Surfaces\nbg-background        // app background\nbg-card              // card surface\nbg-muted             // muted surface\ntext-foreground      // primary text\ntext-muted-foreground\n\n// Borders\nborder-border        // default border\nring-ring            // focus ring (maps to primary)\n\n// Category accents (14 categories)\nbg-category-security\nbg-category-monitoring\nbg-category-networking\nbg-category-vpn\nbg-category-wifi\nbg-category-firewall\nbg-category-system\nbg-category-dhcp\nbg-category-routing\nbg-category-tunnels\nbg-category-qos\nbg-category-hotspot\nbg-category-logging\nbg-category-backup\n\n// Network interface types\nbg-network-wan\nbg-network-lan\nbg-network-vpn\nbg-network-wireless\ntext-network-wan\ntext-network-lan\n\n// Network status\nbg-networkStatus-connected\nbg-networkStatus-disconnected\nbg-networkStatus-pending\nbg-networkStatus-error\n\n// Confidence indicators\nbg-confidence-highBg   text-confidence-highText\nbg-confidence-mediumBg text-confidence-mediumText\nbg-confidence-lowBg    text-confidence-lowText\n"})}),"\n",(0,s.jsx)(n.h3,{id:"shadow-border-radius-and-spacing-utilities",children:"Shadow, Border Radius, and Spacing Utilities"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"// Shadows\nshadow-card      // semantic shadow for cards\nshadow-dropdown  // semantic shadow for dropdowns\nshadow-modal     // semantic shadow for modals\n\n// Border radius\nrounded-button   // semantic.radius.button (xl = 12px)\nrounded-card     // semantic.radius.card (2xl = 16px)\nrounded-input    // semantic.radius.input (lg = 8px)\n\n// Wizard layout spacing\nw-wizard-sidebar       // 280px\nw-wizard-preview       // 320px\nmax-w-wizard-content   // 720px\nspacing-wizard-step-gap\n\n// Stepper component\nw-stepper-item         // 2rem\nw-stepper-item-mobile  // 2.5rem\n\n// Animation timing\nduration-step          // semantic.animation.wizard.stepTransition (300ms)\nduration-validation    // semantic.animation.wizard.validationFeedback (150ms)\nease-step              // cubic-bezier(0.4, 0, 0.2, 1)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"dark-mode",children:"Dark Mode"}),"\n",(0,s.jsx)(n.h3,{id:"how-it-works",children:"How It Works"}),"\n",(0,s.jsxs)(n.p,{children:["The build script compares light and dark token values and emits only changed variables into the ",(0,s.jsx)(n.code,{children:".dark {}"})," block. The selector targets both ",(0,s.jsx)(n.code,{children:'[data-theme="dark"]'})," (data attribute) and ",(0,s.jsx)(n.code,{children:".dark"})," (class), which matches Tailwind's ",(0,s.jsx)(n.code,{children:"darkMode: 'class'"})," strategy."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-css",children:'[data-theme="dark"],\n.dark {\n  /* Only overridden tokens are emitted */\n  --semantic-color-surface-background: #0F172A;\n  --semantic-color-surface-card: #1E293B;\n  --semantic-color-surface-muted: #334155;\n  --semantic-color-text-primary: #F8FAFC;\n  --semantic-color-text-secondary: #CBD5E1;\n  --semantic-color-border-DEFAULT: #334155;\n  /* networkStatus \u2014 brighter for dark backgrounds */\n  --semantic-color-networkStatus-connected: #4ADE80;\n  --semantic-color-networkStatus-pending: #FBBF24;\n  --semantic-color-networkStatus-error: #F87171;\n  /* Confidence \u2014 darker backgrounds, brighter text */\n  --semantic-confidence-highBg: #14532D;\n  --semantic-confidence-highText: #86EFAC;\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"where-dark-tokens-are-defined",children:"Where Dark Tokens Are Defined"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"dark"})," key in ",(0,s.jsx)(n.code,{children:"tokens.json"})," contains only the overrides:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'// libs/ui/tokens/src/tokens.json\n"dark": {\n  "semantic": {\n    "color": {\n      "surface": {\n        "background": { "$value": "{primitive.color.neutral.slate.900}" },\n        "card":       { "$value": "{primitive.color.neutral.slate.800}" }\n      },\n      "networkStatus": {\n        "connected": { "$value": "{primitive.color.status.green.400}" }\n      }\n    }\n  },\n  "component": {\n    "button": {\n      "ghost": { "bgHover": { "$value": "{primitive.color.neutral.slate.800}" } }\n    },\n    "card": {\n      "bgHover": { "$value": "{primitive.color.neutral.slate.700}" }\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"themeprovider-integration",children:"ThemeProvider Integration"}),"\n",(0,s.jsxs)(n.p,{children:["Theme is toggled by adding or removing the ",(0,s.jsx)(n.code,{children:"dark"})," class on ",(0,s.jsx)(n.code,{children:"<html>"}),". The UI store in ",(0,s.jsx)(n.code,{children:"@nasnet/state/stores"})," manages the ",(0,s.jsx)(n.code,{children:"theme"})," value, and the ThemeProvider (in ",(0,s.jsx)(n.code,{children:"apps/connect/src/app/providers/index.tsx"}),") syncs it to the DOM."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"animation-tokens",children:"Animation Tokens"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Source:"})," ",(0,s.jsx)(n.code,{children:"libs/ui/tokens/src/animation.ts"})]}),"\n",(0,s.jsxs)(n.p,{children:["All animation tokens are TypeScript-only (not in ",(0,s.jsx)(n.code,{children:"tokens.json"}),") and are exported directly from ",(0,s.jsx)(n.code,{children:"@nasnet/ui/tokens"}),"."]}),"\n",(0,s.jsxs)(n.h3,{id:"tier-1-duration-values-durations",children:["Tier 1: Duration Values (",(0,s.jsx)(n.code,{children:"durations"}),")"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { durations } from '@nasnet/ui/tokens';\n\ndurations.instant  // 0    \u2014 no animation\ndurations.fast     // 100  \u2014 micro-interactions: button hover, toggle, status change\ndurations.normal   // 200  \u2014 standard animations: modal enter, content fade\ndurations.slow     // 300  \u2014 page transitions, complex sequences\ndurations.slower   // 500  \u2014 rarely used, very slow transitions\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"tier-1-easing-curves-easings",children:["Tier 1: Easing Curves (",(0,s.jsx)(n.code,{children:"easings"}),")"]}),"\n",(0,s.jsxs)(n.p,{children:["Cubic bezier arrays for Framer Motion's ",(0,s.jsx)(n.code,{children:"ease"})," property:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { easings } from '@nasnet/ui/tokens';\n\n// ease-out: fast start, slow end \u2014 for entering elements\neasings.enter   // [0, 0, 0.2, 1]\n\n// ease-in: slow start, fast end \u2014 for exiting elements\neasings.exit    // [0.4, 0, 1, 1]\n\n// ease-in-out: smooth repositioning \u2014 for layout changes\neasings.move    // [0.4, 0, 0.2, 1]\n\n// linear: constant speed \u2014 for progress indicators\neasings.linear  // [0, 0, 1, 1]\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"tier-1-spring-configurations-springs",children:["Tier 1: Spring Configurations (",(0,s.jsx)(n.code,{children:"springs"}),")"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { springs } from '@nasnet/ui/tokens';\n\nsprings.default  // { type: 'spring', stiffness: 300, damping: 30 }\nsprings.gentle   // { type: 'spring', stiffness: 200, damping: 25 }\nsprings.bouncy   // { type: 'spring', stiffness: 400, damping: 20 }\nsprings.stiff    // { type: 'spring', stiffness: 500, damping: 35 }\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"tier-2-platform-aware-tokens-getanimationtokens",children:["Tier 2: Platform-Aware Tokens (",(0,s.jsx)(n.code,{children:"getAnimationTokens"}),")"]}),"\n",(0,s.jsx)(n.p,{children:"Mobile animations run 25% faster to feel snappier on touch devices. Exit transitions are an additional 25% faster than enter transitions regardless of platform."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { getAnimationTokens } from '@nasnet/ui/tokens';\nimport type { Platform, AnimationTokens } from '@nasnet/ui/tokens';\n\nconst tokens = getAnimationTokens('mobile');\n// tokens.pageTransition.enter   = 225ms  (300 * 0.75)\n// tokens.pageTransition.exit    = 169ms  (300 * 0.75 * 0.75)\n// tokens.modal.enter            = 150ms  (200 * 0.75)\n// tokens.modal.exit             = 113ms\n// tokens.microInteraction       = 75ms   (100 * 0.75)\n\nconst desktopTokens = getAnimationTokens('desktop');\n// desktopTokens.pageTransition.enter  = 300ms\n// desktopTokens.modal.enter           = 200ms\n// desktopTokens.microInteraction      = 100ms\n// desktopTokens.skeleton.duration     = 1.5  (seconds, infinite)\n// desktopTokens.connectionPulse.duration = 2 (seconds, infinite)\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"AnimationTokens"})," interface:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface AnimationTokens {\n  pageTransition: { enter: number; exit: number };   // ms\n  modal:          { enter: number; exit: number };   // ms\n  drawer:         { enter: number; exit: number };   // ms\n  listReorder:    number;                            // ms\n  microInteraction: number;                          // ms\n  skeleton:       { duration: number; repeat: number }; // seconds\n  connectionPulse:{ duration: number; repeat: number }; // seconds\n}\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"framer-motion-transitions",children:"Framer Motion Transitions"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Source:"})," ",(0,s.jsx)(n.code,{children:"libs/ui/tokens/src/animation.ts"})," \u2014 the ",(0,s.jsx)(n.code,{children:"transitions"})," object."]}),"\n",(0,s.jsxs)(n.p,{children:["Pre-configured ",(0,s.jsx)(n.code,{children:"Transition"})," objects ready to pass to ",(0,s.jsx)(n.code,{children:"motion"})," components:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { transitions } from '@nasnet/ui/tokens';\n\n// Standard content transitions\ntransitions.enter      // ease-out, 200ms  \u2014 modal/panel enter\ntransitions.exit       // ease-in,  150ms  \u2014 modal/panel exit (25% faster)\ntransitions.move       // ease-in-out, 200ms \u2014 layout repositioning\ntransitions.fast       // ease-out, 100ms  \u2014 micro-interactions\n\n// Page-level transitions\ntransitions.pageEnter  // ease-out, 300ms\ntransitions.pageExit   // ease-in,  225ms\n\n// Spring transitions\ntransitions.spring       // stiffness:300, damping:30\ntransitions.springGentle // stiffness:200, damping:25\ntransitions.springBouncy // stiffness:400, damping:20\n\n// Special\ntransitions.instant      // duration:0 \u2014 no animation\n"})}),"\n",(0,s.jsx)(n.p,{children:"Usage with Framer Motion:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { motion } from 'framer-motion';\nimport { transitions } from '@nasnet/ui/tokens';\n\n<motion.div\n  initial={{ opacity: 0, y: 20 }}\n  animate={{ opacity: 1, y: 0 }}\n  exit={{ opacity: 0, y: -10 }}\n  transition={transitions.enter}\n/>\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"animation-presets",children:"Animation Presets"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Source:"})," ",(0,s.jsx)(n.code,{children:"libs/ui/patterns/src/motion/presets.ts"}),"\n",(0,s.jsx)(n.strong,{children:"Import:"})," ",(0,s.jsx)(n.code,{children:"import { fadeIn, slideUp, ... } from '@nasnet/ui/patterns/motion'"})]}),"\n",(0,s.jsxs)(n.p,{children:["Presets are Framer Motion ",(0,s.jsx)(n.code,{children:"Variants"})," objects with ",(0,s.jsx)(n.code,{children:"initial"}),", ",(0,s.jsx)(n.code,{children:"animate"}),", and ",(0,s.jsx)(n.code,{children:"exit"})," states baked in."]}),"\n",(0,s.jsx)(n.h3,{id:"fade-variants",children:"Fade Variants"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"fadeIn     // opacity: 0 \u2192 1, uses enterTransition / exitTransition\nfadeOut    // stays at 1, exit fades to 0\n"})}),"\n",(0,s.jsx)(n.h3,{id:"slide-variants",children:"Slide Variants"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"slideUp     // y: 20 \u2192 0 enter, y: 0 \u2192 -10 exit\nslideDown   // y: -20 \u2192 0 enter, y: 0 \u2192 10 exit\nslideLeft   // x: 20 \u2192 0 enter (slides in from right), x: 0 \u2192 -10 exit\nslideRight  // x: -20 \u2192 0 enter (slides in from left), x: 0 \u2192 10 exit\n"})}),"\n",(0,s.jsx)(n.h3,{id:"scale-variants",children:"Scale Variants"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"scaleIn   // scale: 0.95 \u2192 1 \u2014 modals, popovers, toasts\nscaleOut  // stays at 1, scale: 1 \u2192 0.95 on exit\npopIn     // scale: 0.8 \u2192 1 with spring physics \u2014 badges, attention elements\n"})}),"\n",(0,s.jsx)(n.h3,{id:"page-transition-variants",children:"Page Transition Variants"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"pageFade      // opacity: 0 \u2192 1, uses pageEnterTransition / pageExitTransition\npageSlideUp   // opacity + y: 20 \u2192 0, uses pageEnterTransition\n"})}),"\n",(0,s.jsx)(n.h3,{id:"drawer-and-sheet-variants",children:"Drawer and Sheet Variants"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"drawerRight   // x: '100%' \u2192 0 \u2014 desktop right drawer\ndrawerLeft    // x: '-100%' \u2192 0 \u2014 desktop left drawer\nbottomSheet   // y: '100%' \u2192 0 \u2014 mobile bottom sheet\nbackdrop      // opacity: 0 \u2192 1, fast (100ms)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"stagger-variants-for-lists",children:"Stagger Variants (for Lists)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Wrap list with staggerContainer, items with staggerItem\nstaggerContainer      // staggerChildren: 0.05s, delayChildren: 0.1s\nstaggerItem           // opacity + y: 10 \u2192 0 per item\nstaggerContainerFast  // staggerChildren: 0.02s \u2014 for long lists\n"})}),"\n",(0,s.jsx)(n.h3,{id:"reduced-motion-variants",children:"Reduced Motion Variants"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"reducedMotionFade     // minimal fade (0.1s enter, 0.05s exit)\nreducedMotionInstant  // opacity: 1, instant exit\n"})}),"\n",(0,s.jsx)(n.h3,{id:"micro-interaction-variants",children:"Micro-Interaction Variants"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"buttonPress      // scale: 1 \u2192 0.97 on tap, 1.02 on hover\nhoverLift        // y: 0 \u2192 -2 on hover\npulse            // scale + opacity pulse, 2s, infinite\nconnectionPulse  // scale: 1 \u2192 1.15 \u2192 1, 2s, infinite\nshimmer          // x: '-100%' \u2192 '100%', 1.5s, infinite \u2014 skeleton loaders\n"})}),"\n",(0,s.jsx)(n.h3,{id:"layout-and-state-variants",children:"Layout and State Variants"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"listItem      // opacity + y: 10 \u2192 0, uses moveTransition\ncollapse      // height: 0 \u2192 'auto', opacity: 0 \u2192 1\n\nsuccessCheck  // SVG pathLength: 0 \u2192 1 with opacity\nerrorShake    // x: [0, -10, 10, -10, 10, 0], 0.4s\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"utility-getvariant",children:["Utility: ",(0,s.jsx)(n.code,{children:"getVariant"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { getVariant, fadeIn, reducedMotionFade } from '@nasnet/ui/patterns/motion';\n\n// Returns reducedMotionFade if reducedMotion is true, otherwise fadeIn\nconst variants = getVariant(fadeIn, reducedMotion);\n\n// Supply a custom reduced variant\nconst variants = getVariant(slideUp, reducedMotion, reducedMotionFade);\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"motion-components",children:"Motion Components"}),"\n",(0,s.jsxs)(n.p,{children:["All components are exported from ",(0,s.jsx)(n.code,{children:"@nasnet/ui/patterns/motion"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import {\n  AnimationProvider, useAnimation, useAnimationOptional, MotionConfig,\n  PageTransition, PageTransitionWrapper, usePageTransition,\n  BottomSheet, BottomSheetHeader, BottomSheetContent, BottomSheetFooter, useBottomSheet,\n  AnimatedList, DragHandle, StaggeredList, StaggeredItem,\n  SharedElement, SharedElementRoot, SharedElementGroup, SharedImage,\n  useInViewAnimation, useRevealAnimation, useStaggeredReveal,\n  AnimationErrorBoundary,\n} from '@nasnet/ui/patterns/motion';\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"animationprovider",children:"AnimationProvider"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"File:"})," ",(0,s.jsx)(n.code,{children:"libs/ui/patterns/src/motion/AnimationProvider.tsx"})]}),"\n",(0,s.jsxs)(n.p,{children:["The context provider that wires together reduced motion preference (from ",(0,s.jsx)(n.code,{children:"@nasnet/state/stores"})," ",(0,s.jsx)(n.code,{children:"animationsEnabled"}),") and platform detection (from ",(0,s.jsx)(n.code,{children:"@nasnet/ui/layouts"})," ",(0,s.jsx)(n.code,{children:"usePlatform"}),"). Must be placed high in the component tree."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { AnimationProvider } from '@nasnet/ui/patterns/motion';\n\n// In apps/connect/src/app/providers/index.tsx\nexport function Providers({ children }: { children: ReactNode }) {\n  return (\n    <AnimationProvider>\n      {children}\n    </AnimationProvider>\n  );\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsxs)(n.strong,{children:[(0,s.jsx)(n.code,{children:"useAnimation()"})," hook"]})," \u2014 access the context. Throws if used outside ",(0,s.jsx)(n.code,{children:"AnimationProvider"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { useAnimation } from '@nasnet/ui/patterns/motion';\nimport { slideUp } from '@nasnet/ui/patterns/motion';\n\nfunction MyComponent() {\n  const { reducedMotion, platform, tokens, getVariant, getTransition, getDuration } = useAnimation();\n\n  return (\n    <motion.div\n      variants={getVariant(slideUp)}    // swaps to reducedMotionFade if needed\n      initial=\"initial\"\n      animate=\"animate\"\n      exit=\"exit\"\n      transition={getTransition('enter')} // returns instant if reducedMotion\n    >\n      Content\n    </motion.div>\n  );\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"useAnimationOptional()"})})," \u2014 same as ",(0,s.jsx)(n.code,{children:"useAnimation()"})," but returns ",(0,s.jsx)(n.code,{children:"null"})," instead of throwing when used outside the provider."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"MotionConfig"})})," \u2014 override animation settings for a subtree:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { MotionConfig } from '@nasnet/ui/patterns/motion';\n\n// Disable animations for form fields\n<MotionConfig reducedMotion>\n  <FormFields />\n</MotionConfig>\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"pagetransition",children:"PageTransition"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"File:"})," ",(0,s.jsx)(n.code,{children:"libs/ui/patterns/src/motion/PageTransition.tsx"})]}),"\n",(0,s.jsx)(n.p,{children:"Wraps route content to animate transitions. Uses the current pathname as the animation key."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { PageTransition, PageTransitionWrapper } from '@nasnet/ui/patterns/motion';\n\n// In apps/connect/src/routes/__root.tsx \u2014 animates every route change\n<PageTransition variant=\"fade\">\n  <Outlet />\n</PageTransition>\n\n// variant options: 'fade' | 'slideUp' | 'none'\n// mode options:    'wait' (sequential) | 'sync' | 'popLayout'\n<PageTransition variant=\"slideUp\" mode=\"wait\">\n  <Outlet />\n</PageTransition>\n"})}),"\n",(0,s.jsxs)(n.p,{children:["For per-page animation without ",(0,s.jsx)(n.code,{children:"AnimatePresence"})," at the root:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'// In a page component\n<PageTransitionWrapper variant="fade">\n  <h1>Dashboard</h1>\n  <DashboardContent />\n</PageTransitionWrapper>\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:[(0,s.jsx)(n.code,{children:"usePageTransition()"})," hook:"]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'const { variants, enterTransition, exitTransition, reducedMotion } = usePageTransition(\'slideUp\');\n\n<motion.div\n  variants={variants}\n  initial="initial"\n  animate="animate"\n  transition={enterTransition}\n>\n  Content\n</motion.div>\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"bottomsheet",children:"BottomSheet"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"File:"})," ",(0,s.jsx)(n.code,{children:"libs/ui/patterns/src/motion/BottomSheet.tsx"})]}),"\n",(0,s.jsx)(n.p,{children:"Mobile-optimized bottom sheet with swipe-to-dismiss gesture, focus trap, and escape key support."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import {\n  BottomSheet, BottomSheetHeader, BottomSheetContent, BottomSheetFooter,\n  useBottomSheet,\n} from '@nasnet/ui/patterns/motion';\n\nfunction RouterActionsSheet() {\n  const { isOpen, open, close } = useBottomSheet();\n\n  return (\n    <>\n      <Button onClick={open}>Actions</Button>\n\n      <BottomSheet\n        isOpen={isOpen}\n        onClose={close}\n        aria-label=\"Router actions\"\n        swipeThreshold={100}      // pixels to drag before dismissing\n        velocityThreshold={500}   // pixels/sec flick velocity to dismiss\n        swipeToDismiss            // default: true\n        showBackdrop              // default: true\n        closeOnBackdropClick      // default: true\n      >\n        <BottomSheetHeader>Router Actions</BottomSheetHeader>\n        <BottomSheetContent>\n          <p>Choose an action for your router.</p>\n        </BottomSheetContent>\n        <BottomSheetFooter>\n          <Button onClick={close}>Cancel</Button>\n        </BottomSheetFooter>\n      </BottomSheet>\n    </>\n  );\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Reduced motion: when ",(0,s.jsx)(n.code,{children:"reducedMotion"})," is true the ",(0,s.jsx)(n.code,{children:"bottomSheet"})," variant is replaced with ",(0,s.jsx)(n.code,{children:"reducedMotionFade"})," and drag-to-dismiss is disabled."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"animatedlist",children:"AnimatedList"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"File:"})," ",(0,s.jsx)(n.code,{children:"libs/ui/patterns/src/motion/AnimatedList.tsx"})]}),"\n",(0,s.jsxs)(n.p,{children:["Drag-and-drop reorderable list with layout animations. Wraps Framer Motion's ",(0,s.jsx)(n.code,{children:"Reorder.Group"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'import { AnimatedList, DragHandle } from \'@nasnet/ui/patterns/motion\';\n\nfunction FirewallRuleList({ rules, onReorder }) {\n  return (\n    <AnimatedList\n      items={rules}\n      onReorder={onReorder}\n      getKey={(rule) => rule.id}\n      axis="y"\n      animateEntrance  // animate items on initial render\n    >\n      {(rule, index, dragControls) => (\n        <div className="flex items-center gap-2 rounded-card border p-3">\n          <DragHandle onPointerDown={(e) => dragControls.start(e)} />\n          <span>{rule.name}</span>\n        </div>\n      )}\n    </AnimatedList>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"For staggered entrance without reordering:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { StaggeredList, StaggeredItem } from '@nasnet/ui/patterns/motion';\n\n<StaggeredList>\n  {services.map((service) => (\n    <StaggeredItem key={service.id}>\n      <ServiceCard service={service} />\n    </StaggeredItem>\n  ))}\n</StaggeredList>\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Reduced motion: ",(0,s.jsx)(n.code,{children:"AnimatedList"})," and ",(0,s.jsx)(n.code,{children:"StaggeredList"})," both fall back to a static ",(0,s.jsx)(n.code,{children:"<div>"})," list when ",(0,s.jsx)(n.code,{children:"reducedMotion"})," is true."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"sharedelement",children:"SharedElement"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"File:"})," ",(0,s.jsx)(n.code,{children:"libs/ui/patterns/src/motion/SharedElement.tsx"})]}),"\n",(0,s.jsxs)(n.p,{children:["Shared element transitions between routes using Framer Motion's ",(0,s.jsx)(n.code,{children:"layoutId"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { SharedElementRoot, SharedElement, SharedImage } from '@nasnet/ui/patterns/motion';\n\n// In __root.tsx \u2014 wraps the whole app\n<SharedElementRoot>\n  <Outlet />\n</SharedElementRoot>\n\n// On list page\n<SharedElement layoutId={`service-card-${service.id}`}>\n  <ServiceCard service={service} />\n</SharedElement>\n\n// On detail page \u2014 matching layoutId triggers the shared transition\n<SharedElement layoutId={`service-card-${service.id}`}>\n  <ServiceHero service={service} />\n</SharedElement>\n\n// For images\n<SharedImage\n  layoutId={`service-icon-${service.id}`}\n  src={service.iconUrl}\n  alt={service.name}\n  className=\"h-16 w-16 rounded-xl\"\n/>\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"SharedElementGroup"})," to prevent cross-list animations when multiple lists have similar IDs:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { SharedElementGroup } from '@nasnet/ui/patterns/motion';\n\n<SharedElementGroup id=\"vpn-servers\">\n  {servers.map((server) => (\n    <SharedElement key={server.id} layoutId={server.id}>\n      <ServerCard server={server} />\n    </SharedElement>\n  ))}\n</SharedElementGroup>\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"useinviewanimation",children:"useInViewAnimation"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"File:"})," ",(0,s.jsx)(n.code,{children:"libs/ui/patterns/src/motion/useInViewAnimation.ts"})]}),"\n",(0,s.jsxs)(n.p,{children:["Scroll-triggered animations using Framer Motion's ",(0,s.jsx)(n.code,{children:"useInView"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { useInViewAnimation, useRevealAnimation, useStaggeredReveal } from '@nasnet/ui/patterns/motion';\n\n// Basic in-view detection\nfunction FadeSection() {\n  const { ref, isInView, shouldAnimate } = useInViewAnimation({\n    once: true,    // only animate the first time it enters view\n    amount: 0.3,   // 30% of element visible to trigger\n  });\n\n  return (\n    <motion.div\n      ref={ref}\n      initial={shouldAnimate ? { opacity: 0, y: 20 } : false}\n      animate={isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 20 }}\n      transition={{ duration: 0.5 }}\n    >\n      Content\n    </motion.div>\n  );\n}\n\n// Convenience hook with ready-to-use props\nfunction RevealCard() {\n  const { ref, isInView, initial, animate, transition } = useRevealAnimation({\n    direction: 'up',  // 'up' | 'down' | 'left' | 'right' | 'none'\n    distance: 20,     // pixels\n    delay: 100,       // ms\n    once: true,\n  });\n\n  return (\n    <motion.div\n      ref={ref}\n      initial={initial}\n      animate={isInView ? animate : initial}\n      transition={transition}\n    >\n      Content\n    </motion.div>\n  );\n}\n\n// Staggered list reveal\nfunction ServiceGrid({ services }) {\n  const { ref, isInView, getItemDelay } = useStaggeredReveal({\n    itemCount: services.length,\n    staggerDelay: 50,   // ms between each item\n    baseDelay: 0,\n    once: true,\n  });\n\n  return (\n    <div ref={ref}>\n      {services.map((service, i) => (\n        <motion.div\n          key={service.id}\n          initial={{ opacity: 0, y: 10 }}\n          animate={isInView ? { opacity: 1, y: 0 } : undefined}\n          transition={{ delay: getItemDelay(i) }}\n        >\n          <ServiceCard service={service} />\n        </motion.div>\n      ))}\n    </div>\n  );\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Reduced motion: ",(0,s.jsx)(n.code,{children:"isInView"})," is forced to ",(0,s.jsx)(n.code,{children:"true"})," and ",(0,s.jsx)(n.code,{children:"shouldAnimate"})," is ",(0,s.jsx)(n.code,{children:"false"})," when reduced motion is enabled, so content appears immediately without any transform."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"reduced-motion-support",children:"Reduced Motion Support"}),"\n",(0,s.jsxs)(n.h3,{id:"utility-functions-from-nasnetuitokens",children:["Utility Functions from ",(0,s.jsx)(n.code,{children:"@nasnet/ui/tokens"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import {\n  getReducedMotionTransition,\n  getReducedMotionDuration,\n  msToSeconds,\n} from '@nasnet/ui/tokens';\n\n// Return instant transition if reduced motion is preferred\nconst transition = getReducedMotionTransition(transitions.enter, prefersReducedMotion);\n// If reduced: { duration: 0 }\n// Otherwise: transitions.enter (ease-out, 200ms)\n\n// Return 0ms if reduced motion, otherwise return the full duration\nconst duration = getReducedMotionDuration(300, prefersReducedMotion);\n// If reduced: 0\n// Otherwise: 300\n\n// Convert milliseconds to seconds (Framer Motion uses seconds)\nconst seconds = msToSeconds(200); // => 0.2\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"integration-with-useanimation",children:["Integration with ",(0,s.jsx)(n.code,{children:"useAnimation"})]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"useAnimation()"})," hook from ",(0,s.jsx)(n.code,{children:"AnimationProvider"})," is the preferred way to access reduced motion state in components. It reads ",(0,s.jsx)(n.code,{children:"animationsEnabled"})," from the Zustand UI store (which users can toggle in settings) rather than directly from the ",(0,s.jsx)(n.code,{children:"prefers-reduced-motion"})," media query:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const { reducedMotion, getVariant, getTransition, getDuration } = useAnimation();\n\n// getVariant \u2014 swap full variant for reduced variant\nconst myVariants = getVariant(slideUp);            // reducedMotionFade if reduced\nconst myVariants = getVariant(slideUp, myFallback); // custom fallback\n\n// getTransition \u2014 returns { duration: 0 } if reduced\nconst t = getTransition('enter');   // transitions.enter or instant\n\n// getDuration \u2014 returns 0 if reduced\nconst ms = getDuration(300);        // 300 or 0\n"})}),"\n",(0,s.jsx)(n.h3,{id:"css-reduced-motion",children:"CSS Reduced Motion"}),"\n",(0,s.jsxs)(n.p,{children:["Token-driven CSS transitions also respect the ",(0,s.jsx)(n.code,{children:"prefers-reduced-motion"})," media query through the ",(0,s.jsx)(n.code,{children:"semantic.animation.reducedMotion"})," tokens:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-css",children:"/* In components using wizard animation tokens */\n@media (prefers-reduced-motion: reduce) {\n  /* var(--semantic-animation-reducedMotion-stepTransition) = 0ms */\n  /* var(--semantic-animation-reducedMotion-validationFeedback) = 0ms */\n}\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"the-reducedmotionfade-preset",children:["The ",(0,s.jsx)(n.code,{children:"reducedMotionFade"})," Preset"]}),"\n",(0,s.jsxs)(n.p,{children:["When ",(0,s.jsx)(n.code,{children:"reducedMotion"})," is true, most motion components swap their variant for ",(0,s.jsx)(n.code,{children:"reducedMotionFade"}),". This preset still provides a subtle opacity change (0.1s enter, 0.05s exit) to give visual feedback without spatial movement:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// libs/ui/patterns/src/motion/presets.ts\nexport const reducedMotionFade: Variants = {\n  initial: { opacity: 0 },\n  animate: { opacity: 1, transition: { duration: 0.1 } },\n  exit:    { opacity: 0, transition: { duration: 0.05 } },\n};\n\n// For cases that need truly instant transitions\nexport const reducedMotionInstant: Variants = {\n  initial: { opacity: 1 },\n  animate: { opacity: 1 },\n  exit:    { opacity: 0, transition: { duration: 0 } },\n};\n"})}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:"/docs/ui/primitives-reference",children:"primitives-reference.md"})," for the ",(0,s.jsx)(n.code,{children:"useReducedMotion"})," primitive hook, and ",(0,s.jsx)(n.a,{href:"/docs/ui/layouts-and-platform",children:"layouts-and-platform.md"})," for how ",(0,s.jsx)(n.code,{children:"getAnimationTokens(platform)"})," ties platform detection to animation timing."]})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},71184:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var t=i(14041);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);