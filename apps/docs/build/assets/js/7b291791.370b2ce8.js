"use strict";(globalThis.webpackChunk_nas_net_docs=globalThis.webpackChunk_nas_net_docs||[]).push([[69605],{9359:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"testing/e2e-testing","title":"E2E Testing","description":"End-to-end tests verify complete user journeys in a real browser. They sit at the top of the testing pyramid and are used sparingly \u2014 only for the most critical workflows where a failure would be catastrophic (router configuration changes, firewall rule management, VPN provisioning).","source":"@site/../connect/docs/testing/e2e-testing.md","sourceDirName":"testing","slug":"/testing/e2e-testing","permalink":"/docs/frontend/testing/e2e-testing","draft":false,"unlisted":false,"editUrl":"https://github.com/nasnet-community/nasnet-panel/tree/main/../connect/docs/testing/e2e-testing.md","tags":[],"version":"current","frontMatter":{},"sidebar":"sidebar","previous":{"title":"Component Testing","permalink":"/docs/frontend/testing/component-testing"},"next":{"title":"Mocking Strategy","permalink":"/docs/frontend/testing/mocking"}}');var s=n(31085),r=n(71184);const a={},c="E2E Testing",l={},o=[{value:"Architecture",id:"architecture",level:2},{value:"Three-Tier Router Testing",id:"three-tier-router-testing",level:3},{value:"Playwright Configuration",id:"playwright-configuration",level:2},{value:"Writing E2E Tests",id:"writing-e2e-tests",level:2},{value:"Basic Test Structure",id:"basic-test-structure",level:3},{value:"User Action Patterns",id:"user-action-patterns",level:3},{value:"Form Validation Tests",id:"form-validation-tests",level:3},{value:"Confirmation Dialogs",id:"confirmation-dialogs",level:3},{value:"Danger Operations (Countdown Confirm)",id:"danger-operations-countdown-confirm",level:3},{value:"Mobile Testing",id:"mobile-testing",level:2},{value:"Accessibility E2E Tests",id:"accessibility-e2e-tests",level:2},{value:"CHR Docker Integration Tests",id:"chr-docker-integration-tests",level:2},{value:"Setting Up CHR",id:"setting-up-chr",level:3},{value:"CHR Test Structure",id:"chr-test-structure",level:3},{value:"CHR Environment Variables",id:"chr-environment-variables",level:3},{value:"CHR Utilities",id:"chr-utilities",level:3},{value:"Available Test Specs",id:"available-test-specs",level:2},{value:"Running Tests",id:"running-tests",level:2},{value:"CI Integration",id:"ci-integration",level:2},{value:"See Also",id:"see-also",level:2}];function d(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"e2e-testing",children:"E2E Testing"})}),"\n",(0,s.jsx)(t.p,{children:"End-to-end tests verify complete user journeys in a real browser. They sit at the top of the testing pyramid and are used sparingly \u2014 only for the most critical workflows where a failure would be catastrophic (router configuration changes, firewall rule management, VPN provisioning)."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Tool:"})," Playwright\n",(0,s.jsx)(t.strong,{children:"Project:"})," ",(0,s.jsx)(t.code,{children:"apps/connect-e2e/"}),"\n",(0,s.jsx)(t.strong,{children:"Config:"})," ",(0,s.jsx)(t.code,{children:"apps/connect-e2e/playwright.config.ts"})]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"architecture",children:"Architecture"}),"\n",(0,s.jsx)(t.h3,{id:"three-tier-router-testing",children:"Three-Tier Router Testing"}),"\n",(0,s.jsx)(t.p,{children:"E2E tests operate against three router environments:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Tier"}),(0,s.jsx)(t.th,{children:"Project name"}),(0,s.jsx)(t.th,{children:"Test pattern"}),(0,s.jsx)(t.th,{children:"Router source"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"1 \u2014 Mock"}),(0,s.jsxs)(t.td,{children:[(0,s.jsx)(t.code,{children:"chromium"}),", ",(0,s.jsx)(t.code,{children:"firefox"}),", ",(0,s.jsx)(t.code,{children:"webkit"})]}),(0,s.jsxs)(t.td,{children:["All ",(0,s.jsx)(t.code,{children:"*.spec.ts"})]}),(0,s.jsx)(t.td,{children:"MSW in the running app"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"2 \u2014 CHR Docker"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"chr-integration"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"chr-*.spec.ts"})}),(0,s.jsx)(t.td,{children:"RouterOS CHR Docker container"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"3 \u2014 Physical"}),(0,s.jsx)(t.td,{children:"Manual only"}),(0,s.jsx)(t.td,{children:"n/a"}),(0,s.jsx)(t.td,{children:"Real MikroTik hardware"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:"For most E2E tests, the frontend runs against its MSW mocks \u2014 no real router is needed. CHR (Cloud Hosted Router) tests exercise real RouterOS behavior in CI."}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"playwright-configuration",children:"Playwright Configuration"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"apps/connect-e2e/playwright.config.ts"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"export default defineConfig({\n  ...nxE2EPreset(__filename, { testDir: './src' }),\n\n  timeout: 30000,        // 30s per test\n  expect: { timeout: 5000 },\n\n  retries: process.env.CI ? 3 : 1,  // 3 retries in CI for transient failures\n\n  reporter: process.env.CI\n    ? [['github'], ['html', { open: 'never' }], ['json', { outputFile: 'test-results/results.json' }]]\n    : [['list'], ['html', { open: 'on-failure' }]],\n\n  use: {\n    baseURL: process.env.BASE_URL || 'http://localhost:4200',\n    trace: 'on-first-retry',        // Trace when test fails (first retry)\n    screenshot: 'only-on-failure',  // Screenshot on failure\n    video: 'on-first-retry',        // Video on first retry\n    actionTimeout: 10000,           // 10s for each action\n    navigationTimeout: 15000,       // 15s for navigation\n  },\n\n  // Auto-start the preview server\n  webServer: {\n    command: 'npx nx run @nas-net/connect:preview',\n    url: 'http://localhost:4200',\n    reuseExistingServer: !process.env.CI,\n    timeout: 120000,\n  },\n\n  projects: [\n    // Desktop browsers \u2014 all tests\n    { name: 'chromium', use: { ...devices['Desktop Chrome'] } },\n    { name: 'firefox', use: { ...devices['Desktop Firefox'] } },\n    { name: 'webkit', use: { ...devices['Desktop Safari'] } },\n\n    // CHR integration \u2014 only chr-*.spec.ts files\n    {\n      name: 'chr-integration',\n      testMatch: '**/chr-*.spec.ts',\n      use: { ...devices['Desktop Chrome'] },\n    },\n  ],\n});\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"writing-e2e-tests",children:"Writing E2E Tests"}),"\n",(0,s.jsx)(t.h3,{id:"basic-test-structure",children:"Basic Test Structure"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"// apps/connect-e2e/src/interface-management.spec.ts\nimport { test, expect } from '@playwright/test';\n\ntest.describe('Interface Management', () => {\n  test.beforeEach(async ({ page }) => {\n    await page.goto('http://localhost:5173/dashboard/network');\n    await page.waitForLoadState('networkidle');\n  });\n\n  test('displays interface list', async ({ page }) => {\n    await expect(page.getByRole('heading', { name: /interfaces/i })).toBeVisible();\n    await expect(page.getByText('ether1')).toBeVisible();\n  });\n\n  test('opens interface detail panel', async ({ page }) => {\n    await page.getByText('ether1').click();\n    await expect(page.getByRole('dialog')).toBeVisible();\n    await expect(page.getByRole('heading', { name: 'ether1' })).toBeVisible();\n  });\n});\n"})}),"\n",(0,s.jsx)(t.h3,{id:"user-action-patterns",children:"User Action Patterns"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"// Click\nawait page.getByRole('button', { name: /save/i }).click();\n\n// Type text\nawait page.getByLabel(/mtu/i).fill('1400');\n\n// Select from dropdown\nawait page.getByLabel(/filter by type/i).click();\nawait page.getByRole('option', { name: /ethernet/i }).click();\n\n// Keyboard navigation\nawait page.keyboard.press('Tab');\nawait page.keyboard.press('Escape');\nawait page.keyboard.press('Enter');\n\n// Wait for navigation\nawait page.waitForLoadState('networkidle');\n\n// Wait for specific element to appear\nawait expect(page.getByText(/interface updated/i)).toBeVisible({ timeout: 5000 });\n"})}),"\n",(0,s.jsx)(t.h3,{id:"form-validation-tests",children:"Form Validation Tests"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"test('validates MTU range', async ({ page }) => {\n  await page.getByText('ether1').click();\n  await page.getByRole('tab', { name: /configuration/i }).click();\n  await page.getByRole('button', { name: /edit/i }).click();\n\n  // Invalid value \u2014 too low\n  const mtuInput = page.getByLabel(/mtu/i);\n  await mtuInput.fill('50');\n  await page.getByRole('button', { name: /save/i }).click();\n  await expect(page.getByText(/must be at least 68/i)).toBeVisible();\n\n  // Invalid value \u2014 too high\n  await mtuInput.fill('10000');\n  await page.getByRole('button', { name: /save/i }).click();\n  await expect(page.getByText(/must be at most 9000/i)).toBeVisible();\n});\n"})}),"\n",(0,s.jsx)(t.h3,{id:"confirmation-dialogs",children:"Confirmation Dialogs"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"test('disables interface with confirmation', async ({ page }) => {\n  const enabledInterface = page.locator('[data-status=\"UP\"]').first();\n  await enabledInterface.click();\n\n  await page.getByRole('button', { name: /disable/i }).click();\n\n  // Confirm dialog must appear\n  await expect(page.getByRole('alertdialog')).toBeVisible();\n  await expect(page.getByText(/disable.*interface/i)).toBeVisible();\n\n  await page.getByRole('button', { name: /confirm/i }).click();\n  await expect(page.getByText(/interface disabled/i)).toBeVisible({ timeout: 5000 });\n});\n"})}),"\n",(0,s.jsx)(t.h3,{id:"danger-operations-countdown-confirm",children:"Danger Operations (Countdown Confirm)"}),"\n",(0,s.jsx)(t.p,{children:"For critical operations (disabling a gateway interface), the confirm button is disabled until a countdown completes:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"test('batch disables with safety warning for gateway', async ({ page }) => {\n  await page.locator('[data-gateway=\"true\"]').locator('input[type=\"checkbox\"]').first().check();\n\n  await page.getByRole('button', { name: /batch actions/i }).click();\n  await page.getByRole('menuitem', { name: /disable selected/i }).click();\n\n  await expect(page.getByText(/warning.*critical operation/i)).toBeVisible();\n\n  // Countdown button is initially disabled\n  const confirmButton = page.getByRole('button', { name: /confirm \\(3\\)/i });\n  await expect(confirmButton).toBeDisabled();\n\n  // Wait for countdown to complete\n  await page.waitForTimeout(3000);\n  await expect(page.getByRole('button', { name: /confirm disable/i })).toBeEnabled();\n});\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"mobile-testing",children:"Mobile Testing"}),"\n",(0,s.jsxs)(t.p,{children:["Use the ",(0,s.jsx)(t.code,{children:"test.use"})," override within a ",(0,s.jsx)(t.code,{children:"test.describe"})," block to run tests at mobile viewport:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"test.describe('Interface Management - Mobile', () => {\n  test.use({\n    viewport: { width: 375, height: 667 },\n  });\n\n  test('displays mobile card view', async ({ page }) => {\n    await page.goto('/dashboard/network');\n    await page.waitForLoadState('networkidle');\n\n    // Mobile shows cards, not table\n    await expect(page.locator('table')).not.toBeVisible();\n    const cards = page.locator('[data-testid=\"interface-card\"]');\n    await expect(cards).toHaveCount(await cards.count());\n  });\n\n  test('opens full-screen detail on mobile', async ({ page }) => {\n    await page.getByText('ether1').click();\n    const dialog = page.getByRole('dialog');\n    await expect(dialog).toBeVisible();\n\n    // Verify full-screen (\u2265 viewport width)\n    const box = await dialog.boundingBox();\n    expect(box?.width).toBeGreaterThanOrEqual(375 - 20);\n  });\n});\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"accessibility-e2e-tests",children:"Accessibility E2E Tests"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"test.describe('Accessibility', () => {\n  test('has no axe violations', async ({ page }) => {\n    await page.goto('/dashboard/network');\n    await page.waitForLoadState('networkidle');\n\n    const results = await page.evaluate(() => {\n      return window.axe ? window.axe.run() : null;\n    });\n\n    if (results) {\n      expect(results.violations).toEqual([]);\n    }\n  });\n\n  test('supports keyboard navigation', async ({ page }) => {\n    await page.keyboard.press('Tab');\n    await page.keyboard.press('ArrowDown');\n    await page.keyboard.press('Enter');\n    await expect(page.getByRole('dialog')).toBeVisible();\n  });\n\n  test('has proper ARIA labels', async ({ page }) => {\n    await expect(page.getByRole('table')).toHaveAttribute('aria-label');\n    await expect(page.getByRole('search')).toHaveAttribute('aria-label');\n  });\n});\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"chr-docker-integration-tests",children:"CHR Docker Integration Tests"}),"\n",(0,s.jsxs)(t.p,{children:["CHR (Cloud Hosted Router) tests run against a real RouterOS instance in Docker. They are tagged with the ",(0,s.jsx)(t.code,{children:"chr-"})," prefix and run only in the ",(0,s.jsx)(t.code,{children:"chr-integration"})," Playwright project."]}),"\n",(0,s.jsx)(t.h3,{id:"setting-up-chr",children:"Setting Up CHR"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"# Start CHR container\ndocker-compose -f docker-compose.test.yml up -d\n\n# Wait for container to be healthy (check logs)\ndocker-compose -f docker-compose.test.yml logs chr-test\n\n# Run only CHR tests\nnpx playwright test --project=chr-integration\n"})}),"\n",(0,s.jsx)(t.h3,{id:"chr-test-structure",children:"CHR Test Structure"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"// apps/connect-e2e/src/chr-integration.spec.ts\nimport { test, expect } from '@playwright/test';\n\ntest.beforeEach(() => {\n  if (process.env.SKIP_CHR_TESTS) {\n    test.skip();\n  }\n});\n\ntest.describe('CHR Docker Integration', () => {\n  test('should connect to CHR via web interface', async ({ page }) => {\n    await page.goto('/');\n    await page.waitForLoadState('networkidle');\n    // ... real RouterOS interaction\n  });\n});\n\ntest.describe('CHR Health Checks', () => {\n  test('should verify CHR container is accessible', async ({ request }) => {\n    const chrUrl = process.env.CHR_ROUTER_URL || 'http://localhost:8080';\n    const response = await request.get(chrUrl);\n    expect([200, 401, 302]).toContain(response.status());\n  });\n});\n"})}),"\n",(0,s.jsx)(t.h3,{id:"chr-environment-variables",children:"CHR Environment Variables"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Variable"}),(0,s.jsx)(t.th,{children:"Default"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"CHR_HOST"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"localhost"})}),(0,s.jsx)(t.td,{children:"CHR container hostname"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"CHR_API_PORT"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"8728"})}),(0,s.jsx)(t.td,{children:"RouterOS API port"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"CHR_SSH_PORT"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"2222"})}),(0,s.jsx)(t.td,{children:"SSH port"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"CHR_HTTP_PORT"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"8080"})}),(0,s.jsx)(t.td,{children:"HTTP/web interface port"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"CHR_ROUTER_URL"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"http://localhost:8080"})}),(0,s.jsx)(t.td,{children:"Full URL for web requests"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"SKIP_CHR_TESTS"})}),(0,s.jsx)(t.td,{children:"(unset)"}),(0,s.jsxs)(t.td,{children:["Set to ",(0,s.jsx)(t.code,{children:"true"})," to skip all CHR tests"]})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"chr-utilities",children:"CHR Utilities"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"apps/connect/src/test/chr/chr-utils.ts"})," provides helpers for managing the CHR container lifecycle:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"import { startCHR, stopCHR, waitForCHR, chrTestHooks } from '@/test/chr/chr-utils';\n\n// In a test file's setup\ntest.beforeAll(async () => {\n  await chrTestHooks.beforeAll(); // Starts CHR, waits for ready\n});\n\ntest.afterAll(async () => {\n  await chrTestHooks.afterAll();\n});\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"available-test-specs",children:"Available Test Specs"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"File"}),(0,s.jsx)(t.th,{children:"Coverage area"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"interface-management.spec.ts"})}),(0,s.jsx)(t.td,{children:"Network interface list, detail panel, edit, enable/disable, mobile, accessibility"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"wan-configuration.spec.ts"})}),(0,s.jsx)(t.td,{children:"WAN interface setup, DHCP/static/PPPoE"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"firewall-filter-rules.spec.ts"})}),(0,s.jsx)(t.td,{children:"Firewall filter rule CRUD"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"firewall-mangle-rules.spec.ts"})}),(0,s.jsx)(t.td,{children:"Mangle rule management"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"firewall-nat-configuration.spec.ts"})}),(0,s.jsx)(t.td,{children:"NAT/port forwarding"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"firewall-port-knocking.spec.ts"})}),(0,s.jsx)(t.td,{children:"Port knocking sequences"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"firewall-raw-rules.spec.ts"})}),(0,s.jsx)(t.td,{children:"Raw table rules"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"firewall-service-ports.spec.ts"})}),(0,s.jsx)(t.td,{children:"Service port management"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"firewall-templates.spec.ts"})}),(0,s.jsx)(t.td,{children:"Firewall template application"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"address-lists.spec.ts"})}),(0,s.jsx)(t.td,{children:"Firewall address list management"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"dns-diagnostics.spec.ts"})}),(0,s.jsx)(t.td,{children:"DNS lookup tool"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"troubleshoot-wizard.spec.ts"})}),(0,s.jsx)(t.td,{children:"Troubleshooting wizard flow"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"services.spec.ts"})}),(0,s.jsx)(t.td,{children:"Feature marketplace install/uninstall"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"storage-management.spec.ts"})}),(0,s.jsx)(t.td,{children:"Storage configuration"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"webhook-notifications.spec.ts"})}),(0,s.jsx)(t.td,{children:"Webhook channel setup"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"alert-rule-templates.spec.ts"})}),(0,s.jsx)(t.td,{children:"Alert rule from templates"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"in-app-notifications.spec.ts"})}),(0,s.jsx)(t.td,{children:"In-app notification center"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"quiet-hours.spec.ts"})}),(0,s.jsx)(t.td,{children:"Notification quiet hours config"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"rate-limiting.spec.ts"})}),(0,s.jsx)(t.td,{children:"Rate limiting rules"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"bridges/bridge-workflow.spec.ts"})}),(0,s.jsx)(t.td,{children:"Bridge interface creation workflow"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"chr-integration.spec.ts"})}),(0,s.jsx)(t.td,{children:"CHR Docker real RouterOS tests"})]})]})]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"running-tests",children:"Running Tests"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"# Run all E2E tests (headless, all browsers)\nnpx nx e2e connect-e2e\n\n# Run with Playwright UI (interactive debugging)\nnpx playwright test --ui\n\n# Run specific browser\nnpx playwright test --project=chromium\n\n# Run specific test file\nnpx playwright test interface-management\n\n# Run in headed mode (see browser)\nnpx playwright test --headed\n\n# CHR integration tests only\nnpx playwright test --project=chr-integration\n\n# Skip CHR tests\nSKIP_CHR_TESTS=true npx playwright test\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"ci-integration",children:"CI Integration"}),"\n",(0,s.jsx)(t.p,{children:"In CI (GitHub Actions), Playwright runs:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"All standard tests against Chromium, Firefox, and WebKit"}),"\n",(0,s.jsx)(t.li,{children:"CHR integration tests if a CHR Docker container is available"}),"\n",(0,s.jsx)(t.li,{children:"HTML report and JSON results saved as artifacts"}),"\n",(0,s.jsx)(t.li,{children:"3 retries for tests that may fail due to network timing"}),"\n",(0,s.jsx)(t.li,{children:"Screenshots and traces captured on failure"}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-yaml",children:"# .github/workflows \u2014 relevant E2E section\n- name: Run E2E tests\n  run: npx nx e2e connect-e2e\n  env:\n    CI: true\n    BASE_URL: http://localhost:4200\n\n- name: Upload test artifacts\n  uses: actions/upload-artifact@v3\n  if: failure()\n  with:\n    name: playwright-results\n    path: apps/connect-e2e/test-results/\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"see-also",children:"See Also"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"apps/connect-e2e/playwright.config.ts"})," \u2014 Full configuration"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"apps/connect/src/test/chr/chr-utils.ts"})," \u2014 CHR Docker lifecycle utilities"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"10-testing/mocking.md"})," \u2014 MSW handlers used by the app during E2E"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"09-i18n-accessibility/accessibility.md"})," \u2014 Accessibility test requirements"]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},71184:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>c});var i=n(14041);const s={},r=i.createContext(s);function a(e){const t=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);