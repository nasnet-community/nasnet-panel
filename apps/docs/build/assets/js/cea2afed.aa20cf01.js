"use strict";(globalThis.webpackChunk_nas_net_docs=globalThis.webpackChunk_nas_net_docs||[]).push([[92356],{14598:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"getting-started/key-commands","title":"Key Commands","description":"All commands are run from the monorepo root (NasNet/) unless noted otherwise.","source":"@site/../connect/docs/getting-started/key-commands.md","sourceDirName":"getting-started","slug":"/getting-started/key-commands","permalink":"/docs/frontend/getting-started/key-commands","draft":false,"unlisted":false,"editUrl":"https://github.com/nasnet-community/nasnet-panel/tree/main/../connect/docs/getting-started/key-commands.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Key Commands"},"sidebar":"sidebar","previous":{"title":"Project Structure","permalink":"/docs/frontend/getting-started/project-structure"},"next":{"title":"Accessibility","permalink":"/docs/frontend/i18n-accessibility/accessibility"}}');var s=t(31085),i=t(71184);const c={sidebar_position:4,title:"Key Commands"},l="Key Commands",d={},o=[{value:"Development",id:"development",level:2},{value:"Start Dev Servers",id:"start-dev-servers",level:3},{value:"Watch Tokens",id:"watch-tokens",level:3},{value:"Building",id:"building",level:2},{value:"Frontend",id:"frontend",level:3},{value:"Backend (Go)",id:"backend-go",level:3},{value:"Nx-Specific Builds",id:"nx-specific-builds",level:3},{value:"Code Quality",id:"code-quality",level:2},{value:"Linting",id:"linting",level:3},{value:"Type Checking",id:"type-checking",level:3},{value:"Combined Checks",id:"combined-checks",level:3},{value:"Formatting",id:"formatting",level:3},{value:"Testing",id:"testing",level:2},{value:"Frontend Tests (Vitest)",id:"frontend-tests-vitest",level:3},{value:"Backend Tests (Go)",id:"backend-tests-go",level:3},{value:"End-to-End Tests (Playwright)",id:"end-to-end-tests-playwright",level:3},{value:"GraphQL Code Generation",id:"graphql-code-generation",level:2},{value:"Storybook",id:"storybook",level:2},{value:"Running Storybook",id:"running-storybook",level:3},{value:"Building Storybook",id:"building-storybook",level:3},{value:"Docker",id:"docker",level:2},{value:"Internationalization (i18n)",id:"internationalization-i18n",level:2},{value:"Nx Workspace Commands",id:"nx-workspace-commands",level:2},{value:"Documentation",id:"documentation",level:2},{value:"Quick Reference Table",id:"quick-reference-table",level:2},{value:"See Also",id:"see-also",level:2}];function a(n){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"key-commands",children:"Key Commands"})}),"\n",(0,s.jsxs)(e.p,{children:["All commands are run from the ",(0,s.jsx)(e.strong,{children:"monorepo root"})," (",(0,s.jsx)(e.code,{children:"NasNet/"}),") unless noted otherwise."]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"development",children:"Development"}),"\n",(0,s.jsx)(e.h3,{id:"start-dev-servers",children:"Start Dev Servers"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Frontend only \u2014 Vite dev server at http://localhost:5173\nnpm run dev:frontend\n\n# Backend only \u2014 Go backend with air hot reload at http://localhost:8080\nnpm run dev:backend\n\n# Both frontend and backend in parallel (recommended for full-stack dev)\nnpm run dev:all\n\n# Frontend with verbose output (useful for debugging Vite plugin issues)\nnpm run dev:verbose\n"})}),"\n",(0,s.jsx)(e.h3,{id:"watch-tokens",children:"Watch Tokens"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Watch design tokens and rebuild CSS variables on change\nnpm run tokens:watch\n\n# Build tokens once (required on first run)\nnpm run tokens:build\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"building",children:"Building"}),"\n",(0,s.jsx)(e.h3,{id:"frontend",children:"Frontend"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Build the connect app to dist/apps/connect/\nnpm run build:frontend\n# equivalent to:\nnpx nx build connect\n\n# Build and check that bundle size stays under 3MB gzipped\nnpm run build:check\n\n# Build with bundle analysis (opens visual treemap)\nnpm run build:analyze\n\n# Build all projects in the monorepo\nnpm run build:all\n"})}),"\n",(0,s.jsx)(e.h3,{id:"backend-go",children:"Backend (Go)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Build the Go backend (embeds the built frontend)\nnpx nx build backend\n"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsxs)(e.p,{children:["The Go binary embeds the frontend dist via ",(0,s.jsx)(e.code,{children:"go:embed"}),". You must build the frontend first before building the backend for production."]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"nx-specific-builds",children:"Nx-Specific Builds"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Build only projects affected by recent changes\nnpx nx affected -t build\n\n# Build a specific library\nnpx nx build ui-patterns\nnpx nx build api-client\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"code-quality",children:"Code Quality"}),"\n",(0,s.jsx)(e.h3,{id:"linting",children:"Linting"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Lint all frontend projects + CSS\nnpm run lint\n\n# Lint all projects (including those not normally checked)\nnpm run lint:all\n\n# Auto-fix linting issues\nnpm run lint:fix\n\n# Lint only CSS/SCSS files\nnpm run lint:css\n\n# Fix CSS linting issues\nnpm run lint:css:fix\n"})}),"\n",(0,s.jsx)(e.h3,{id:"type-checking",children:"Type Checking"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Run TypeScript type checker across all projects\nnpm run typecheck\n\n# Type check all projects (including those not normally checked)\nnpm run typecheck:all\n"})}),"\n",(0,s.jsx)(e.h3,{id:"combined-checks",children:"Combined Checks"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Run typecheck + lint sequentially (recommended before committing)\nnpm run check\n\n# Run typecheck + lint on all projects\nnpm run check:all\n\n# Frontend-specific: lint + typecheck + build connect app\nnpm run check:frontend\n\n# Backend-specific: Go lint + vet + build check\nnpm run check:backend\n\n# Full CI suite: lint, test, build, typecheck\nnpm run ci\n"})}),"\n",(0,s.jsx)(e.h3,{id:"formatting",children:"Formatting"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Format all files with Prettier\nnpm run format\n\n# Check formatting without modifying files (used in CI)\nnpm run format:check\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"testing",children:"Testing"}),"\n",(0,s.jsx)(e.h3,{id:"frontend-tests-vitest",children:"Frontend Tests (Vitest)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Run all tests (3 parallel workers)\nnpm run test\n\n# Watch mode \u2014 re-run on file changes (useful during TDD)\nnpm run test:watch\n\n# Run tests with coverage report\nnpm run test:coverage\n\n# Open Vitest UI (interactive test browser)\nnpm run test:ui\n\n# Run only tests affected by recent changes\nnpm run test:affected\n\n# Run tests for a specific project\nnpx nx test connect\nnpx nx test ui-primitives\nnpx nx test ui-patterns\n"})}),"\n",(0,s.jsx)(e.h3,{id:"backend-tests-go",children:"Backend Tests (Go)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Run all Go tests with verbose output\nnpm run test:go\n\n# Run Go tests with coverage and generate HTML report\nnpm run test:go:coverage\n\n# Run Go tests for a specific package\ncd apps/backend && go test -v -tags=dev ./internal/auth/...\n"})}),"\n",(0,s.jsx)(e.h3,{id:"end-to-end-tests-playwright",children:"End-to-End Tests (Playwright)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Run E2E tests (Chromium, Firefox, WebKit)\nnpm run e2e\n# equivalent to:\nnpx nx e2e connect-e2e\n\n# Run E2E tests with Playwright UI (interactive mode)\nnpm run e2e:ui\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"graphql-code-generation",children:"GraphQL Code Generation"}),"\n",(0,s.jsxs)(e.p,{children:["Run these whenever you modify ",(0,s.jsx)(e.code,{children:".graphql"})," schema files or ",(0,s.jsx)(e.code,{children:"libs/data/ent/schema/"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Full codegen: TypeScript types + hooks + Go resolvers\nnpm run codegen\n\n# TypeScript only: types, Apollo hooks, Zod schemas\nnpm run codegen:ts\n\n# Go only: ent ORM + gqlgen resolvers + wire\nnpm run codegen:go\n\n# ent ORM only (Go database layer)\nnpm run codegen:ent\n\n# gqlgen only (Go GraphQL resolver stubs)\nnpm run codegen:gqlgen\n\n# Wire only (Go dependency injection)\nnpx nx run backend:wire\n# equivalent to:\nnpm run codegen:wire\n\n# Verify generated code is in sync with schema (used in CI)\nnpm run codegen:check\n"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Important:"})," Always run ",(0,s.jsx)(e.code,{children:"npm run codegen"})," after editing any ",(0,s.jsx)(e.code,{children:".graphql"})," file. The TypeScript generated types in ",(0,s.jsx)(e.code,{children:"libs/api-client/generated/"})," and the Go resolver stubs in ",(0,s.jsx)(e.code,{children:"apps/backend/graph/"})," must stay in sync with the schema."]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"storybook",children:"Storybook"}),"\n",(0,s.jsx)(e.h3,{id:"running-storybook",children:"Running Storybook"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Run Storybook for the Primitives library (port 4400)\nnpx nx run ui-primitives:storybook\n\n# Run Storybook for the Patterns library (port 4401)\nnpx nx run ui-patterns:storybook\n\n# Run Storybook for the connect app\nnpx nx run connect:storybook\n"})}),"\n",(0,s.jsx)(e.h3,{id:"building-storybook",children:"Building Storybook"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Build all Storybooks (for deployment/review)\nnpm run check:storybook\n# equivalent to:\nnpx nx run-many -t build-storybook\n\n# Health check for Storybook configuration\nnpx storybook doctor\n"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Version:"})," Storybook 10.2.7 (ESM-only)"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"docker",children:"Docker"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Build the Docker image locally (multi-arch: amd64, arm64, arm/v7)\nnpm run docker:local\n\n# Export as a tarball for loading into RouterOS\nnpm run docker:export\n\n# Build and export in one step\nnpm run docker:build-export\n\n# Check the compressed image size (target: <10MB)\nnpm run docker:check-size\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"internationalization-i18n",children:"Internationalization (i18n)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Extract translatable strings from source files\nnpm run i18n:extract\n\n# Extract and fail if new strings are found (used in CI)\nnpm run i18n:check\n\n# Extract + copy locale JSON files to public/locales/ (full sync)\nnpm run i18n:sync\n"})}),"\n",(0,s.jsx)(e.p,{children:"Extracted strings come from:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.code,{children:"apps/connect/src/**/*.{ts,tsx}"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.code,{children:"libs/ui/patterns/src/**/*.{ts,tsx}"})}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["Output goes to ",(0,s.jsx)(e.code,{children:"libs/core/i18n/src/locales/{en,fa}/"}),"."]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"nx-workspace-commands",children:"Nx Workspace Commands"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Visualize the project dependency graph in browser\nnpx nx graph\n\n# Show configuration for a specific project\nnpx nx show project connect\nnpx nx show project ui-patterns\n\n# Run a target on all projects in parallel\nnpx nx run-many -t lint test build\n\n# Run a target on all affected projects (since last commit)\nnpx nx affected -t test\n\n# Generate a new component using the custom generator\nnpm run g:component\n\n# Generate a new library\nnpm run g:library\n\n# Generate a new GraphQL resolver\nnpm run g:resolver\n\n# Run security vulnerability check on Go dependencies\nnpm run vulncheck\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"documentation",children:"Documentation"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Start the docs dev server (if configured)\nnpm run docs:dev\n\n# Build the documentation site\nnpm run docs:build\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"quick-reference-table",children:"Quick Reference Table"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Task"}),(0,s.jsx)(e.th,{children:"Command"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Start frontend dev"}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"npm run dev:frontend"})})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Start everything"}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"npm run dev:all"})})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Build frontend"}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"npm run build:frontend"})})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Run all tests"}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"npm run test"})})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Check before commit"}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"npm run check"})})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Full CI check"}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"npm run ci"})})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Regenerate GraphQL types"}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"npm run codegen"})})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Check bundle size"}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"npm run build:check"})})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Build Docker image"}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"npm run docker:local"})})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Run E2E tests"}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"npm run e2e"})})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"View component library"}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"npx nx run ui-patterns:storybook"})})]})]})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"see-also",children:"See Also"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/docs/frontend/getting-started/environment-setup",children:"Environment Setup"})," \u2014 Prerequisites and first-time setup"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/docs/frontend/getting-started/project-structure",children:"Project Structure"})," \u2014 Directory layout and import aliases"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/docs/frontend/architecture/overview",children:"Architecture Overview"})," \u2014 How the app is organized"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/docs/frontend/data-fetching/codegen",children:"Code Generation"})," \u2014 Deep dive into GraphQL codegen"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(a,{...n})}):a(n)}},71184:(n,e,t)=>{t.d(e,{R:()=>c,x:()=>l});var r=t(14041);const s={},i=r.createContext(s);function c(n){const e=r.useContext(i);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);