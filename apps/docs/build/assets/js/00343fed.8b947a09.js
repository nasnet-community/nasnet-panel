"use strict";(globalThis.webpackChunk_nas_net_docs=globalThis.webpackChunk_nas_net_docs||[]).push([[69506],{8868:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"architecture/library-dependencies","title":"Monorepo Library Dependency Graph","description":"NasNetConnect is an Nx monorepo. The apps/connect application depends on a set of shared libraries","source":"@site/../connect/docs/architecture/library-dependencies.md","sourceDirName":"architecture","slug":"/architecture/library-dependencies","permalink":"/docs/frontend/architecture/library-dependencies","draft":false,"unlisted":false,"editUrl":"https://github.com/nasnet-community/nasnet-panel/tree/main/../connect/docs/architecture/library-dependencies.md","tags":[],"version":"current","frontMatter":{},"sidebar":"sidebar","previous":{"title":"Build System","permalink":"/docs/frontend/architecture/build-system"},"next":{"title":"Architecture Overview","permalink":"/docs/frontend/architecture/overview"}}');var i=s(31085),t=s(71184);const c={},d="Monorepo Library Dependency Graph",l={},o=[{value:"Dependency Rule",id:"dependency-rule",level:2},{value:"Full Dependency Graph",id:"full-dependency-graph",level:2},{value:"Import Aliases",id:"import-aliases",level:2},{value:"App-Local Alias",id:"app-local-alias",level:3},{value:"Core Libraries",id:"core-libraries",level:3},{value:"UI Libraries",id:"ui-libraries",level:3},{value:"Feature Libraries",id:"feature-libraries",level:3},{value:"API Client Libraries",id:"api-client-libraries",level:3},{value:"State Libraries",id:"state-libraries",level:3},{value:"What Each Library Provides",id:"what-each-library-provides",level:2},{value:"<code>@nasnet/core/types</code>",id:"nasnetcoretypes",level:3},{value:"<code>@nasnet/core/utils</code>",id:"nasnetcoreutils",level:3},{value:"<code>@nasnet/core/constants</code>",id:"nasnetcoreconstants",level:3},{value:"<code>@nasnet/core/forms</code>",id:"nasnetcoreforms",level:3},{value:"<code>@nasnet/core/i18n</code>",id:"nasnetcorei18n",level:3},{value:"<code>@nasnet/api-client/core</code>",id:"nasnetapi-clientcore",level:3},{value:"<code>@nasnet/api-client/generated</code>",id:"nasnetapi-clientgenerated",level:3},{value:"<code>@nasnet/api-client/queries</code>",id:"nasnetapi-clientqueries",level:3},{value:"<code>@nasnet/state/stores</code>",id:"nasnetstatestores",level:3},{value:"Nx Project Configuration",id:"nx-project-configuration",level:2},{value:"Related Documents",id:"related-documents",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"monorepo-library-dependency-graph",children:"Monorepo Library Dependency Graph"})}),"\n",(0,i.jsxs)(n.p,{children:["NasNetConnect is an Nx monorepo. The ",(0,i.jsx)(n.code,{children:"apps/connect"})," application depends on a set of shared libraries\nunder ",(0,i.jsx)(n.code,{children:"libs/"}),". A strict one-directional dependency rule is enforced: no library may import from a\nlibrary that is above it in the hierarchy."]}),"\n",(0,i.jsx)(n.h2,{id:"dependency-rule",children:"Dependency Rule"}),"\n",(0,i.jsx)(n.mermaid,{value:'flowchart TD\n    App["apps/connect"] --\x3e Features["libs/features/*"]\n    App --\x3e UI["libs/ui/*"]\n    App --\x3e API["libs/api-client/*"]\n    App --\x3e State["libs/state/*"]\n    App --\x3e Core["libs/core/*"]\n\n    Features --\x3e UI\n    Features --\x3e API\n    Features --\x3e State\n    Features --\x3e Core\n\n    UI --\x3e Core'}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Rules:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"apps/"})," may import from ",(0,i.jsx)(n.code,{children:"features/"}),", ",(0,i.jsx)(n.code,{children:"ui/"}),", ",(0,i.jsx)(n.code,{children:"core/"}),", ",(0,i.jsx)(n.code,{children:"api-client/"}),", ",(0,i.jsx)(n.code,{children:"state/"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"features/"})," may import from ",(0,i.jsx)(n.code,{children:"ui/"}),", ",(0,i.jsx)(n.code,{children:"core/"}),", ",(0,i.jsx)(n.code,{children:"api-client/"}),", ",(0,i.jsx)(n.code,{children:"state/"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"features/"})," may NOT import from other ",(0,i.jsx)(n.code,{children:"features/"})," libraries"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ui/"})," may import from ",(0,i.jsx)(n.code,{children:"core/"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"core/"})," imports nothing internal (pure TypeScript)"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["These rules are enforced by Nx tags. The ",(0,i.jsx)(n.code,{children:"apps/connect/project.json"})," carries\n",(0,i.jsx)(n.code,{children:'"tags": ["type:app", "scope:app"]'}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"full-dependency-graph",children:"Full Dependency Graph"}),"\n",(0,i.jsx)(n.mermaid,{value:'flowchart LR\n    App["apps/connect\\n(type:app)"] --\x3e F_alerts[alerts]\n    App --\x3e F_config[configuration-import]\n    App --\x3e F_dash[dashboard]\n    App --\x3e F_diag[diagnostics]\n    App --\x3e F_fw[firewall]\n    App --\x3e F_logs[logs]\n    App --\x3e F_net[network]\n    App --\x3e F_disc[router-discovery]\n    App --\x3e F_svc[services]\n    App --\x3e F_wifi[wireless]\n\n    App --\x3e UI_lay[ui/layouts]\n    App --\x3e UI_pat[ui/patterns]\n    App --\x3e UI_prim[ui/primitives]\n    App --\x3e UI_tok[ui/tokens]\n\n    App --\x3e API_core[api-client/core]\n    App --\x3e API_gen[api-client/generated]\n    App --\x3e API_q[api-client/queries]\n\n    App --\x3e Stores[state/stores]\n\n    App --\x3e C_const[core/constants]\n    App --\x3e C_forms[core/forms]\n    App --\x3e C_i18n[core/i18n]\n    App --\x3e C_types[core/types]\n    App --\x3e C_utils[core/utils]\n\n    subgraph Features["@nasnet/features/* (type:feature)"]\n        F_alerts\n        F_config\n        F_dash\n        F_diag\n        F_fw\n        F_logs\n        F_net\n        F_disc\n        F_svc\n        F_wifi\n    end\n\n    subgraph UILibs["@nasnet/ui/* (type:ui)"]\n        UI_lay\n        UI_pat\n        UI_prim\n        UI_tok\n    end\n\n    subgraph APILibs["@nasnet/api-client/* (type:data)"]\n        API_core\n        API_gen\n        API_q\n    end\n\n    subgraph CoreLibs["@nasnet/core/* (type:core)"]\n        C_const\n        C_forms\n        C_i18n\n        C_types\n        C_utils\n    end\n\n    Features --\x3e UILibs\n    Features --\x3e APILibs\n    Features --\x3e Stores\n    Features --\x3e CoreLibs'}),"\n",(0,i.jsx)(n.h2,{id:"import-aliases",children:"Import Aliases"}),"\n",(0,i.jsxs)(n.p,{children:["All aliases are defined in ",(0,i.jsx)(n.code,{children:"apps/connect/vite.config.ts"})," (runtime resolution) and mirrored in\n",(0,i.jsx)(n.code,{children:"apps/connect/tsconfig.app.json"})," (TypeScript resolution)."]}),"\n",(0,i.jsx)(n.h3,{id:"app-local-alias",children:"App-Local Alias"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Alias"}),(0,i.jsx)(n.th,{children:"Resolves To"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@/"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"apps/connect/src/"})})]})})]}),"\n",(0,i.jsx)(n.h3,{id:"core-libraries",children:"Core Libraries"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Alias"}),(0,i.jsx)(n.th,{children:"Resolves To"}),(0,i.jsx)(n.th,{children:"Purpose"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/core/types"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/core/types/src"})}),(0,i.jsx)(n.td,{children:"Shared TypeScript interfaces and enums"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/core/utils"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/core/utils/src"})}),(0,i.jsx)(n.td,{children:"Pure utility functions (IP, MAC, status)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/core/constants"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/core/constants/src"})}),(0,i.jsx)(n.td,{children:"App constants, route names, socket events, well-known ports"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/core/forms"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/core/forms/src"})}),(0,i.jsx)(n.td,{children:"React Hook Form + Zod utilities, validation pipeline"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/core/i18n"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/core/i18n/src"})}),(0,i.jsxs)(n.td,{children:["i18next setup, ",(0,i.jsx)(n.code,{children:"useTranslation"}),", ",(0,i.jsx)(n.code,{children:"useDirection"}),", ",(0,i.jsx)(n.code,{children:"DirectionProvider"}),", ",(0,i.jsx)(n.code,{children:"I18nProvider"})]})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"ui-libraries",children:"UI Libraries"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Alias"}),(0,i.jsx)(n.th,{children:"Resolves To"}),(0,i.jsx)(n.th,{children:"Purpose"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/ui/primitives"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/ui/primitives/src"})}),(0,i.jsx)(n.td,{children:"~40 shadcn/ui + Radix UI base components"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/ui/patterns"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/ui/patterns/src"})}),(0,i.jsx)(n.td,{children:"~56 composite pattern components (headless + presenters)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/ui/layouts"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/ui/layouts/src"})}),(0,i.jsxs)(n.td,{children:["Page shells, ",(0,i.jsx)(n.code,{children:"ResponsiveShell"}),", ",(0,i.jsx)(n.code,{children:"PlatformProvider"}),", ",(0,i.jsx)(n.code,{children:"CollapsibleSidebarProvider"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/ui/utils"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/ui/primitives/src/lib/utils"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"cn()"})," utility for conditional class merging"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/ui/components"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/ui/primitives/src"})}),(0,i.jsx)(n.td,{children:"Alias for legacy incorrect imports"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/ui/tokens"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/ui/tokens/src"})}),(0,i.jsx)(n.td,{children:"Animation tokens, TypeScript token definitions"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/ui/tokens/variables.css"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/ui/tokens/dist/variables.css"})}),(0,i.jsx)(n.td,{children:"Compiled CSS custom properties (design tokens)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/ui/patterns/motion"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/ui/patterns/src/motion"})}),(0,i.jsx)(n.td,{children:"Motion pattern components (NAS-4.18)"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"feature-libraries",children:"Feature Libraries"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Alias"}),(0,i.jsx)(n.th,{children:"Resolves To"}),(0,i.jsx)(n.th,{children:"Purpose"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/features/alerts"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/features/alerts/src"})}),(0,i.jsx)(n.td,{children:"Alert rules, webhook channels, quiet hours, in-app notifications"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/features/configuration-import"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/features/configuration-import/src"})}),(0,i.jsx)(n.td,{children:"Config import/export wizard"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/features/dashboard"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/features/dashboard/src"})}),(0,i.jsx)(n.td,{children:"Fleet overview, quick stats widgets"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/features/diagnostics"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/features/diagnostics/src"})}),(0,i.jsx)(n.td,{children:"Traceroute, DNS lookup, circuit breaker"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/features/firewall"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/features/firewall/src"})}),(0,i.jsx)(n.td,{children:"Firewall rules, address lists, NAT, port knocking"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/features/logs"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/features/logs/src"})}),(0,i.jsx)(n.td,{children:"Log streaming, filtering, export"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/features/network"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/features/network/src"})}),(0,i.jsx)(n.td,{children:"DHCP, VLANs, bridges, routing tables"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/features/router-discovery"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/features/router-discovery/src"})}),(0,i.jsx)(n.td,{children:"Router scanning, onboarding flow"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/features/services"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/features/services/src"})}),(0,i.jsx)(n.td,{children:"Feature marketplace (Tor, sing-box, Xray, etc.)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/features/wireless"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/features/wireless/src"})}),(0,i.jsx)(n.td,{children:"WiFi interface management, connected clients"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"api-client-libraries",children:"API Client Libraries"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Alias"}),(0,i.jsx)(n.th,{children:"Resolves To"}),(0,i.jsx)(n.th,{children:"Purpose"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/api-client/core"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/api-client/core/src"})}),(0,i.jsx)(n.td,{children:"Apollo Client instance, links (auth, router-id, error, split), cache config"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/api-client/generated"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/api-client/generated"})}),(0,i.jsx)(n.td,{children:"Auto-generated TypeScript types, React hooks, Zod schemas from GraphQL schema"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/api-client/queries"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/api-client/queries/src"})}),(0,i.jsx)(n.td,{children:"Human-authored Apollo Client hooks organized by domain"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"state-libraries",children:"State Libraries"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Alias"}),(0,i.jsx)(n.th,{children:"Resolves To"}),(0,i.jsx)(n.th,{children:"Purpose"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/state/stores"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/state/stores/src"})}),(0,i.jsx)(n.td,{children:"Zustand stores: theme, sidebar, connection status, notifications, command palette"})]})})]}),"\n",(0,i.jsx)(n.h2,{id:"what-each-library-provides",children:"What Each Library Provides"}),"\n",(0,i.jsx)(n.h3,{id:"nasnetcoretypes",children:(0,i.jsx)(n.code,{children:"@nasnet/core/types"})}),"\n",(0,i.jsx)(n.p,{children:"TypeScript-only. Re-exported types used across the entire monorepo. Examples:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"RouterStatus"}),", ",(0,i.jsx)(n.code,{children:"ServiceStatus"}),", ",(0,i.jsx)(n.code,{children:"InterfaceType"})]}),"\n",(0,i.jsxs)(n.li,{children:["Firewall rule types: ",(0,i.jsx)(n.code,{children:"FilterRule"}),", ",(0,i.jsx)(n.code,{children:"MangleRule"}),", ",(0,i.jsx)(n.code,{children:"NatRule"})]}),"\n",(0,i.jsx)(n.li,{children:"Resource model types aligned with the backend's Universal State v2"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"nasnetcoreutils",children:(0,i.jsx)(n.code,{children:"@nasnet/core/utils"})}),"\n",(0,i.jsx)(n.p,{children:"Pure functions with no React dependencies:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"calculateStatus()"})," \u2014 converts raw RouterOS status strings to semantic status values"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"parseFirewallLog()"})," \u2014 parses RouterOS firewall log line format"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"macVendorLookup()"})," \u2014 OUI database lookup"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"deviceTypeDetection()"})," \u2014 heuristic device type from OUI/hostname"]}),"\n",(0,i.jsx)(n.li,{children:"Network utilities: IP address formatting, CIDR parsing"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"nasnetcoreconstants",children:(0,i.jsx)(n.code,{children:"@nasnet/core/constants"})}),"\n",(0,i.jsx)(n.p,{children:"Named constants. Importing these avoids magic strings throughout the codebase:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Route path constants"}),"\n",(0,i.jsx)(n.li,{children:"Well-known port numbers"}),"\n",(0,i.jsx)(n.li,{children:"WebSocket event names"}),"\n",(0,i.jsx)(n.li,{children:"API endpoint paths"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"nasnetcoreforms",children:(0,i.jsx)(n.code,{children:"@nasnet/core/forms"})}),"\n",(0,i.jsx)(n.p,{children:"React Hook Form integration:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"useZodForm()"})," \u2014 typed ",(0,i.jsx)(n.code,{children:"useForm"})," wrapper with Zod resolver pre-configured"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ValidationPipeline"})," \u2014 multi-step async validation (e.g., check IP conflict on blur)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"mapBackendErrors()"})," \u2014 maps GraphQL error extensions to field-level form errors"]}),"\n",(0,i.jsx)(n.li,{children:"Network validators: IP, CIDR, MAC address Zod schemas"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"nasnetcorei18n",children:(0,i.jsx)(n.code,{children:"@nasnet/core/i18n"})}),"\n",(0,i.jsx)(n.p,{children:"i18next integration:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"I18nProvider"})," \u2014 Suspense-based lazy language loading"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DirectionProvider"})," \u2014 RTL/LTR switching"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"useTranslation()"})," \u2014 typed translation hook"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"useDirection()"})," \u2014 current text direction"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"useFormatters()"})," \u2014 locale-aware number, date, byte formatting"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"nasnetapi-clientcore",children:(0,i.jsx)(n.code,{children:"@nasnet/api-client/core"})}),"\n",(0,i.jsx)(n.p,{children:"Apollo Client setup:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ApolloProvider"})," \u2014 React context provider"]}),"\n",(0,i.jsxs)(n.li,{children:["Auth link injects ",(0,i.jsx)(n.code,{children:"Authorization: Bearer"})," header from Zustand store"]}),"\n",(0,i.jsxs)(n.li,{children:["Router ID link injects ",(0,i.jsx)(n.code,{children:"X-Router-Id"})," header for router-scoped requests"]}),"\n",(0,i.jsx)(n.li,{children:"WebSocket link for GraphQL subscriptions"}),"\n",(0,i.jsx)(n.li,{children:"Normalized cache with type policies for real-time data"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"nasnetapi-clientgenerated",children:(0,i.jsx)(n.code,{children:"@nasnet/api-client/generated"})}),"\n",(0,i.jsxs)(n.p,{children:["Generated by ",(0,i.jsx)(n.code,{children:"npm run codegen:ts"}),". Contains:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"TypeScript types for every GraphQL type, query, mutation, and subscription"}),"\n",(0,i.jsxs)(n.li,{children:["Typed React hooks (",(0,i.jsx)(n.code,{children:"useGetRoutersQuery"}),", ",(0,i.jsx)(n.code,{children:"useUpdateFirewallRuleMutation"}),", etc.)"]}),"\n",(0,i.jsx)(n.li,{children:"Zod schemas for client-side validation matching the GraphQL schema"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Do not edit manually."})," Regenerate with ",(0,i.jsx)(n.code,{children:"npm run codegen"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"nasnetapi-clientqueries",children:(0,i.jsx)(n.code,{children:"@nasnet/api-client/queries"})}),"\n",(0,i.jsx)(n.p,{children:"Human-authored hooks that wrap the generated hooks with:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Sensible defaults (polling intervals, fetch policies)"}),"\n",(0,i.jsx)(n.li,{children:"Router ID injection"}),"\n",(0,i.jsx)(n.li,{children:"Response transformation (e.g., flattening nested connection types)"}),"\n",(0,i.jsx)(n.li,{children:"Error normalization"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"nasnetstatestores",children:(0,i.jsx)(n.code,{children:"@nasnet/state/stores"})}),"\n",(0,i.jsx)(n.p,{children:"Zustand stores. Each store is a separate file:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"useThemeStore"})," \u2014 ",(0,i.jsx)(n.code,{children:'theme: "light" | "dark" | "system"'}),", ",(0,i.jsx)(n.code,{children:"resolvedTheme"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"useSidebarStore"})," \u2014 ",(0,i.jsx)(n.code,{children:"desktopCollapsed"}),", ",(0,i.jsx)(n.code,{children:"toggle()"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"useConnectionStore"})," \u2014 active router ID, connection status, last-seen timestamp"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"useNotificationStore"})," \u2014 notification queue consumed by ",(0,i.jsx)(n.code,{children:"ToastProvider"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"useCommandStore"})," \u2014 registered commands for the command palette"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"nx-project-configuration",children:"Nx Project Configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'// apps/connect/project.json (abbreviated)\n{\n  "name": "connect",\n  "projectType": "application",\n  "root": "apps/connect",\n  "sourceRoot": "apps/connect/src",\n  "targets": {\n    "serve":        { "executor": "@nx/vite:dev-server" },\n    "build":        { "executor": "@nx/vite:build",  "outputs": ["dist/apps/connect"] },\n    "lint":         { "executor": "@nx/eslint:lint" },\n    "typecheck":    { "executor": "nx:run-commands" },\n    "storybook":    { "executor": "nx:run-commands", "port": 4402 },\n    "build-storybook": { ... }\n  },\n  "tags": ["type:app", "scope:app"]\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Run ",(0,i.jsx)(n.code,{children:"npx nx graph"})," to visualize the full dependency graph interactively."]}),"\n",(0,i.jsx)(n.h2,{id:"related-documents",children:"Related Documents"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/frontend/architecture/overview",children:"Architecture Overview"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/frontend/architecture/build-system",children:"Build System"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/frontend/getting-started/project-structure",children:"Getting Started \u2014 Project Structure"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},71184:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>d});var r=s(14041);const i={},t=r.createContext(i);function c(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);