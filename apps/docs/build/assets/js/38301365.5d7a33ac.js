"use strict";(globalThis.webpackChunk_nas_net_docs=globalThis.webpackChunk_nas_net_docs||[]).push([[57060],{46383:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"README","title":"Core Library Documentation","description":"The @nasnet/core library is the shared foundation of the NasNetConnect frontend. It provides","source":"@site/../../libs/core/docs/README.md","sourceDirName":".","slug":"/","permalink":"/docs/core/","draft":false,"unlisted":false,"editUrl":"https://github.com/nasnet-community/nasnet-panel/tree/main/../../libs/core/docs/README.md","tags":[],"version":"current","sidebarPosition":0,"frontMatter":{"sidebar_position":0,"title":"Core Library Documentation"},"sidebar":"sidebar","next":{"title":"Introduction","permalink":"/docs/core/intro"}}');var i=s(31085),t=s(71184);const c={sidebar_position:0,title:"Core Library Documentation"},l="Core Library Documentation",d={},o=[{value:"Architecture Position",id:"architecture-position",level:2},{value:"Import Aliases",id:"import-aliases",level:2},{value:"Sub-Libraries",id:"sub-libraries",level:2},{value:"1. <strong>types</strong> (<code>libs/core/types/src</code>)",id:"1-types-libscoretypessrc",level:3},{value:"2. <strong>utils</strong> (<code>libs/core/utils/src</code>)",id:"2-utils-libscoreutilssrc",level:3},{value:"3. <strong>constants</strong> (<code>libs/core/constants/src</code>)",id:"3-constants-libscoreconstantssrc",level:3},{value:"4. <strong>forms</strong> (<code>libs/core/forms/src</code>)",id:"4-forms-libscoreformssrc",level:3},{value:"5. <strong>i18n</strong> (<code>libs/core/i18n/src</code>)",id:"5-i18n-libscorei18nsrc",level:3},{value:"Quick Reference Table",id:"quick-reference-table",level:2},{value:"Key Design Decisions",id:"key-design-decisions",level:2},{value:"No React in Core Types/Utils/Constants",id:"no-react-in-core-typesutilsconstants",level:3},{value:"Zod for Schema Validation",id:"zod-for-schema-validation",level:3},{value:"Universal State v2 (Data Architecture)",id:"universal-state-v2-data-architecture",level:3},{value:"Cross-Cutting Concepts",id:"cross-cutting-concepts",level:2},{value:"Architecture &amp; Design",id:"architecture--design",level:3},{value:"Network &amp; Device",id:"network--device",level:3},{value:"Localization",id:"localization",level:3},{value:"Error Handling &amp; Integration",id:"error-handling--integration",level:3},{value:"Testing &amp; Quality",id:"testing--quality",level:3},{value:"State Management",id:"state-management",level:3},{value:"Accessibility &amp; Performance",id:"accessibility--performance",level:3},{value:"Security",id:"security",level:3},{value:"Sub-Library Documentation",id:"sub-library-documentation",level:2},{value:"Package Configuration",id:"package-configuration",level:2},{value:"Adding New Exports",id:"adding-new-exports",level:3},{value:"Testing Conventions",id:"testing-conventions",level:2},{value:"Relationship to Backend (Go)",id:"relationship-to-backend-go",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Installation",id:"installation",level:3},{value:"Usage Example",id:"usage-example",level:3},{value:"Next Steps",id:"next-steps",level:3},{value:"Quick Links",id:"quick-links",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"core-library-documentation",children:"Core Library Documentation"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"@nasnet/core"})})," library is the shared foundation of the NasNetConnect frontend. It provides\ntype-safe constants, shared types, utility functions, and form/validation infrastructure used across\nall features."]}),"\n",(0,i.jsx)(n.h2,{id:"architecture-position",children:"Architecture Position"}),"\n",(0,i.jsx)(n.mermaid,{value:'flowchart TD\n    A["apps/connect<br/>(Main React App)"]\n    B["libs/features/*<br/>(Feature Modules)"]\n    C["libs/ui/*<br/>(Components:<br/>Primitives, Patterns)"]\n    D["libs/core/*<br/>(Shared Types, Utils,<br/>Constants)<br/><br/>\u2190 YOU ARE HERE"]\n\n    A --\x3e B\n    B --\x3e C\n    C --\x3e D\n\n    style A fill:#f3e5f5\n    style B fill:#ede7f6\n    style C fill:#e0e7ff\n    style D fill:#e8f5e9,stroke:#66bb6a,stroke-width:3px'}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Critical Rule:"})," Core cannot import from any other library. All other libraries can import from\ncore."]}),"\n",(0,i.jsx)(n.h2,{id:"import-aliases",children:"Import Aliases"}),"\n",(0,i.jsxs)(n.p,{children:["The following aliases are configured in ",(0,i.jsx)(n.code,{children:"apps/connect/vite.config.ts"}),":"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Alias"}),(0,i.jsx)(n.th,{children:"Path"}),(0,i.jsx)(n.th,{children:"Purpose"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/core/types"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/core/types/src"})}),(0,i.jsx)(n.td,{children:"TypeScript interfaces and type definitions"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/core/utils"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/core/utils/src"})}),(0,i.jsx)(n.td,{children:"Pure utility functions (validation, formatting, device detection)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/core/constants"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/core/constants/src"})}),(0,i.jsx)(n.td,{children:"Application constants (routes, API endpoints, socket events)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/core/forms"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/core/forms/src"})}),(0,i.jsx)(n.td,{children:"React Hook Form integration, validation, form utilities"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/core/i18n"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/core/i18n/src"})}),(0,i.jsx)(n.td,{children:"Internationalization, locale providers, translation hooks"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/core/validation"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/core/utils/src/validation"})}),(0,i.jsx)(n.td,{children:"Zod schemas and custom validators"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"sub-libraries",children:"Sub-Libraries"}),"\n",(0,i.jsxs)(n.h3,{id:"1-types-libscoretypessrc",children:["1. ",(0,i.jsx)(n.strong,{children:"types"})," (",(0,i.jsx)(n.code,{children:"libs/core/types/src"}),")"]}),"\n",(0,i.jsx)(n.p,{children:"Shared TypeScript interfaces used across the application."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Categories:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Firewall"})," - FilterRule, MangleRule, NATRule, RawRule, PortKnock, RateLimit types"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Resource"})," - Resource model schemas, layers, composites"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"API"})," - Backend API request/response types"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Config"})," - Configuration-related types"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Network"})," - Network interface, routing, VLAN types"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"DHCP"})," - DHCP-related types and fingerprints"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import type { FilterRule, WifiNetwork } from '@nasnet/core/types';\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See:"})," ",(0,i.jsx)(n.a,{href:"/docs/core/sub-libraries/types",children:"types.md"})," \u2014 Complete type reference"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"2-utils-libscoreutilssrc",children:["2. ",(0,i.jsx)(n.strong,{children:"utils"})," (",(0,i.jsx)(n.code,{children:"libs/core/utils/src"}),")"]}),"\n",(0,i.jsx)(n.p,{children:"Pure utility functions with no React dependencies."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Modules:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"validation/"})})," - Network address validation, IP validators"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"device/"})})," - Device detection, browser/OS identification"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"firewall/"})})," - Firewall utilities (rule builders, CIDR calculations)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"network/"})})," - IP, MAC, VLAN utilities"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"formatters/"})})," - Data formatting (bytes, duration, IP address)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"mac-vendor/"})})," - MAC address vendor lookup"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"status/"})})," - Status aggregation and indicator logic"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"graph/"})})," - GraphQL-related utilities"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"hooks/"})})," - React hooks for common patterns (useQuery, useLocalStorage)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { validateIPv4, formatBytes, getDeviceType } from '@nasnet/core/utils';\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See:"})," ",(0,i.jsx)(n.a,{href:"/docs/core/sub-libraries/utils",children:"utils.md"})," \u2014 Utility function reference"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"3-constants-libscoreconstantssrc",children:["3. ",(0,i.jsx)(n.strong,{children:"constants"})," (",(0,i.jsx)(n.code,{children:"libs/core/constants/src"}),")"]}),"\n",(0,i.jsx)(n.p,{children:"Static application constants organized by domain."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Exports:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"ROUTES"})})," - Navigation route constants (300+ routes)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"API_ENDPOINTS"})})," - Backend API endpoint definitions"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"SOCKET_EVENTS_EMIT"})})," - Client \u2192 Server WebSocket events"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"SOCKET_EVENTS_ON"})})," - Server \u2192 Client WebSocket events"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"WELL_KNOWN_PORTS"})})," - Database of well-known service ports (~100 entries)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import {\n  ROUTES,\n  API_ENDPOINTS,\n  SOCKET_EVENTS_EMIT,\n  WELL_KNOWN_PORTS,\n  getServiceByPort,\n  searchPorts,\n} from '@nasnet/core/constants';\n\nnavigate(ROUTES.ROUTER_LIST);\nsocket.emit(SOCKET_EVENTS_EMIT.ROUTER_SUBSCRIBE, { routerId: 'r1' });\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See:"})," ",(0,i.jsx)(n.a,{href:"/docs/core/sub-libraries/constants",children:"constants.md"})," \u2014 Constants reference"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"4-forms-libscoreformssrc",children:["4. ",(0,i.jsx)(n.strong,{children:"forms"})," (",(0,i.jsx)(n.code,{children:"libs/core/forms/src"}),")"]}),"\n",(0,i.jsx)(n.p,{children:"React Hook Form integration with Zod validation."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Exports:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"NasFormProvider"})})," - Context provider for form configuration"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"useZodForm"})})," - Custom hook combining useForm + Zod"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"useValidationPipeline"})})," - Multi-stage validation with debouncing"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"useFormPersistence"})})," - Auto-save form state to localStorage"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"useFormResourceSync"})})," - Sync form with resource updates"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Network validators"})," - CIDR, IP, port, DNS validators"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"mapBackendErrors"})})," - Convert backend errors to form field errors"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { useZodForm } from '@nasnet/core/forms';\nimport { z } from 'zod';\n\nconst schema = z.object({\n  address: z.string().ip('v4'),\n  port: z.number().min(1).max(65535),\n});\n\nconst form = useZodForm(schema);\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See:"})," ",(0,i.jsx)(n.a,{href:"/docs/core/sub-libraries/forms",children:"forms.md"})," (coming in Wave 2D)"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"5-i18n-libscorei18nsrc",children:["5. ",(0,i.jsx)(n.strong,{children:"i18n"})," (",(0,i.jsx)(n.code,{children:"libs/core/i18n/src"}),")"]}),"\n",(0,i.jsx)(n.p,{children:"Internationalization infrastructure with i18next and RTL support."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Exports:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"I18nProvider"})})," - i18next provider with language detection"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"DirectionProvider"})})," - RTL/LTR direction management"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"useTranslation"})})," - Hook for accessing translation function"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"i18n.ts"})})," - i18next configuration and initialization"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"locales/"})})," - Translation files (.json per language)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { useTranslation } from '@nasnet/core/i18n';\n\nfunction MyComponent() {\n  const { t, i18n } = useTranslation();\n  return <div>{t('auth.login')}</div>;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See:"})," ",(0,i.jsx)(n.a,{href:"/docs/core/sub-libraries/i18n",children:"i18n.md"})," (coming in Wave 2D)"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"quick-reference-table",children:"Quick Reference Table"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Sub-Library"}),(0,i.jsx)(n.th,{children:"Import Path"}),(0,i.jsx)(n.th,{children:"Key Exports"}),(0,i.jsx)(n.th,{children:"Purpose"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"types"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/core/types"})}),(0,i.jsx)(n.td,{children:"Type interfaces"}),(0,i.jsx)(n.td,{children:"Type-safe data models"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"utils"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/core/utils"})}),(0,i.jsx)(n.td,{children:"Validators, formatters, helpers"}),(0,i.jsx)(n.td,{children:"Pure utility functions"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"constants"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/core/constants"})}),(0,i.jsx)(n.td,{children:"ROUTES, API_ENDPOINTS, socket events"}),(0,i.jsx)(n.td,{children:"Static app constants"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"forms"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/core/forms"})}),(0,i.jsx)(n.td,{children:"Form hooks, validation, schema utilities"}),(0,i.jsx)(n.td,{children:"React Hook Form integration"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"i18n"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/core/i18n"})}),(0,i.jsx)(n.td,{children:"Providers, hooks, translations"}),(0,i.jsx)(n.td,{children:"Internationalization"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"validation"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"@nasnet/core/utils/validation"})}),(0,i.jsx)(n.td,{children:"Zod schemas, custom validators"}),(0,i.jsx)(n.td,{children:"Form & data validation"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"key-design-decisions",children:"Key Design Decisions"}),"\n",(0,i.jsx)(n.h3,{id:"no-react-in-core-typesutilsconstants",children:"No React in Core Types/Utils/Constants"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"types/"})," - Pure TypeScript interfaces (zero dependencies)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"utils/"})," - Pure functions with minimal external dependencies"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"constants/"})," - Static objects with no runtime behavior"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Exception:"})," forms/ and i18n/ are React-focused libraries"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This separation allows:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Sharing types with the Go backend"}),"\n",(0,i.jsx)(n.li,{children:"Using utilities in Node.js/CLI tools"}),"\n",(0,i.jsx)(n.li,{children:"Fast tree-shaking and bundle optimization"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"zod-for-schema-validation",children:"Zod for Schema Validation"}),"\n",(0,i.jsxs)(n.p,{children:["All form validation uses ",(0,i.jsx)(n.strong,{children:"Zod schemas"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Type-safe runtime validation"}),"\n",(0,i.jsx)(n.li,{children:"Automatic TypeScript type inference"}),"\n",(0,i.jsx)(n.li,{children:"Composable schema builders"}),"\n",(0,i.jsx)(n.li,{children:"Error message customization"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.code,{children:"@nasnet/core/utils/validation"})," for custom validators:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const ipValidator = z.string().ip('v4');\nconst portValidator = z.number().min(1).max(65535);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"universal-state-v2-data-architecture",children:"Universal State v2 (Data Architecture)"}),"\n",(0,i.jsxs)(n.p,{children:["Resources follow an ",(0,i.jsx)(n.strong,{children:"8-layer model"})," defined in the types library:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Primitive Layer"})," - Basic scalars"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Aggregate Layer"})," - Business entities"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Composite Layer"})," - Related entities"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Query Layer"})," - GraphQL queries"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cache Layer"})," - Apollo Client cache"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Local Layer"})," - localStorage/IndexedDB"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Sync Layer"})," - Conflict resolution"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"UI Layer"})," - Component state"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.code,{children:"Docs/architecture/data-architecture.md"})," for complete details."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"cross-cutting-concepts",children:"Cross-Cutting Concepts"}),"\n",(0,i.jsx)(n.p,{children:"These guides explain how core libraries work with other parts of the system:"}),"\n",(0,i.jsx)(n.h3,{id:"architecture--design",children:"Architecture & Design"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Universal State v2 (see Docs/architecture/data-architecture.md) - 8-layer resource model"}),"\n",(0,i.jsx)(n.li,{children:"Validation Pipeline (see Docs/architecture/implementation-patterns/data-validation-patterns.md) - Multi-stage form validation"}),"\n",(0,i.jsx)(n.li,{children:"Change Set Operations (see Docs/architecture/data-architecture.md) - Atomic configuration changes"}),"\n",(0,i.jsx)(n.li,{children:"Firewall System (see Docs/architecture/implementation-patterns/error-handling-patterns.md) - Firewall types and validation"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"network--device",children:"Network & Device"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Network Configuration (see Docs/architecture/implementation-patterns/protocol-communication-patterns.md) - IP/VLAN/routing types"}),"\n",(0,i.jsx)(n.li,{children:"Device Detection Pipeline (see Docs/architecture/novel-pattern-designs.md) - Browser/device/OS detection"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"localization",children:"Localization"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Internationalization Flow (see Docs/architecture/implementation-patterns/17-localization-patterns.md) - i18next integration, RTL support"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"error-handling--integration",children:"Error Handling & Integration"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/core/guides/error-handling-patterns",children:"error-handling-patterns.md"})})," - Error type hierarchy,\nbackend error mapping, i18n error messages"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/core/guides/graphql-integration-guide",children:"graphql-integration-guide.md"})})," - Type flow, code\ngeneration, Apollo Client patterns"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"testing--quality",children:"Testing & Quality"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/core/guides/testing-patterns",children:"testing-patterns.md"})})," - Vitest setup, testing\nhooks/schemas/validators, mock strategies"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"state-management",children:"State Management"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/core/guides/state-machines-guide",children:"state-machines-guide.md"})})," - XState machines (config\npipeline, change sets, VPN, wizards, resource lifecycle)"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"accessibility--performance",children:"Accessibility & Performance"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/core/guides/accessibility-patterns",children:"accessibility-patterns.md"})})," - A11yProvider, WCAG AAA\nhooks, keyboard/motion/contrast detection"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/core/guides/performance-patterns",children:"performance-patterns.md"})})," - Auto-scroll, form persistence\ncaching, validation optimization"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"security",children:"Security"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/core/guides/security-patterns",children:"security-patterns.md"})})," - Input validation boundaries, error\nmessage safety, security architecture"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"sub-library-documentation",children:"Sub-Library Documentation"}),"\n",(0,i.jsx)(n.p,{children:"Detailed documentation for each sub-library:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Document"}),(0,i.jsx)(n.th,{children:"Scope"}),(0,i.jsx)(n.th,{children:"Content"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/core/intro",children:"intro.md"})})}),(0,i.jsx)(n.td,{children:"Overview"}),(0,i.jsx)(n.td,{children:"Architecture, package structure, adding exports"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/core/sub-libraries/types",children:"types.md"})})}),(0,i.jsx)(n.td,{children:"Complete"}),(0,i.jsx)(n.td,{children:"All 150+ type definitions organized by domain"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/core/sub-libraries/constants",children:"constants.md"})})}),(0,i.jsx)(n.td,{children:"Complete"}),(0,i.jsx)(n.td,{children:"Routes, API endpoints, socket events, ports"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/core/sub-libraries/utils",children:"utils.md"})})}),(0,i.jsx)(n.td,{children:"Complete"}),(0,i.jsx)(n.td,{children:"50+ utility functions with examples"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/core/sub-libraries/forms",children:"forms.md"})})}),(0,i.jsx)(n.td,{children:"Wave 2D"}),(0,i.jsx)(n.td,{children:"React Hook Form, validation strategies, hooks"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/core/sub-libraries/i18n",children:"i18n.md"})})}),(0,i.jsx)(n.td,{children:"Wave 2D"}),(0,i.jsx)(n.td,{children:"i18next setup, translation flow, RTL support"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"package-configuration",children:"Package Configuration"}),"\n",(0,i.jsxs)(n.p,{children:["Each sub-library is a ",(0,i.jsx)(n.strong,{children:"Nx library"})," with:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"SourceRoot:"})," ",(0,i.jsx)(n.code,{children:"libs/core/{name}/src"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Build Targets:"})," lint, typecheck"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"TypeScript:"})," Strict mode, type checking enabled"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Testing:"})," Vitest with 80%+ coverage target"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"adding-new-exports",children:"Adding New Exports"}),"\n",(0,i.jsx)(n.p,{children:"To add a new module to core:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Create the file"})," in ",(0,i.jsx)(n.code,{children:"libs/core/{name}/src/{module}.ts"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Export from index"})," in ",(0,i.jsx)(n.code,{children:"libs/core/{name}/src/index.ts"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Update vite.config.ts"})," if adding a new sub-library alias"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Update this README"})," in the Quick Reference table"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"testing-conventions",children:"Testing Conventions"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Unit tests:"})," Vitest (4x faster than Jest)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test files:"})," ",(0,i.jsx)(n.code,{children:"*.test.ts"})," or ",(0,i.jsx)(n.code,{children:"*.spec.ts"})," alongside source"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Coverage:"})," Aim for 80%+ coverage"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Shared fixtures:"})," Use ",(0,i.jsx)(n.code,{children:"vitest.config.ts"})," for shared setup"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"relationship-to-backend-go",children:"Relationship to Backend (Go)"}),"\n",(0,i.jsxs)(n.p,{children:["The TypeScript types in ",(0,i.jsx)(n.code,{children:"libs/core/types"})," often mirror ",(0,i.jsx)(n.strong,{children:"Go structs"})," in the backend:"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Backend (Go):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"type FilterRule struct {\n  ID       string\n  Chain    string\n  Action   string\n  Protocol string\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Frontend (TypeScript):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"export interface FilterRule {\n  id: string;\n  chain: string;\n  action: string;\n  protocol: string;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["GraphQL schema bridges the two systems. See ",(0,i.jsx)(n.code,{children:"schema/"})," directory for GraphQL type definitions."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,i.jsx)(n.h3,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.p,{children:"All core imports are already available in the monorepo:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm install  # Already includes core dependencies\n"})}),"\n",(0,i.jsx)(n.h3,{id:"usage-example",children:"Usage Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { ROUTES, validateIPv4 } from '@nasnet/core/constants';\nimport { useTranslation } from '@nasnet/core/i18n';\nimport type { FilterRule } from '@nasnet/core/types';\n\nfunction MyComponent() {\n  const { t } = useTranslation();\n\n  const handleRuleCreate = (rule: FilterRule) => {\n    if (!validateIPv4(rule.srcAddr)) {\n      throw new Error('Invalid IP');\n    }\n    navigate(ROUTES.FIREWALL);\n  };\n\n  return <div>{t('firewall.title')}</div>;\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Read ",(0,i.jsx)(n.a,{href:"/docs/core/intro",children:"intro.md"})," for architecture details"]}),"\n",(0,i.jsxs)(n.li,{children:["Explore ",(0,i.jsx)(n.a,{href:"/docs/core/sub-libraries/constants",children:"constants.md"})," for application constants"]}),"\n",(0,i.jsxs)(n.li,{children:["Check ",(0,i.jsx)(n.a,{href:"/docs/core/sub-libraries/types",children:"types.md"})," for data model references"]}),"\n",(0,i.jsx)(n.li,{children:"See Docs/architecture/index.md for system-wide architecture"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"quick-links",children:"Quick Links"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Link"}),(0,i.jsx)(n.th,{children:"Purpose"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"apps/connect/vite.config.ts"})}),(0,i.jsx)(n.td,{children:"Import alias configuration"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"libs/core/types/project.json"})}),(0,i.jsx)(n.td,{children:"Nx project configuration"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"tsconfig.base.json"})}),(0,i.jsx)(n.td,{children:"TypeScript paths configuration"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"CLAUDE.md"})}),(0,i.jsx)(n.td,{children:"Project guidelines and standards"})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},71184:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>l});var r=s(14041);const i={},t=r.createContext(i);function c(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);