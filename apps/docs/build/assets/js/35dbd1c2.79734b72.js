"use strict";(globalThis.webpackChunk_nas_net_docs=globalThis.webpackChunk_nas_net_docs||[]).push([[53783],{34946:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"stores/selectors-reference","title":"Selectors Reference","description":"Complete API documentation for all selector utilities and pre-built selectors in the Zustand store ecosystem.","source":"@site/../../libs/state/docs/stores/selectors-reference.md","sourceDirName":"stores","slug":"/stores/selectors-reference","permalink":"/docs/state/stores/selectors-reference","draft":false,"unlisted":false,"editUrl":"https://github.com/nasnet-community/nasnet-panel/tree/main/../../libs/state/docs/stores/selectors-reference.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_position":11,"title":"Selectors Reference"},"sidebar":"sidebar","previous":{"title":"Hooks & Utility Functions","permalink":"/docs/state/stores/hooks-utilities"},"next":{"title":"Authentication Store (useAuthStore)","permalink":"/docs/state/stores/auth"}}');var r=t(31085),i=t(71184);const o={sidebar_position:11,title:"Selectors Reference"},c="Selectors Reference",l={},a=[{value:"Overview",id:"overview",level:2},{value:"Memoization Utilities",id:"memoization-utilities",level:2},{value:"shallowEqual",id:"shallowequal",level:3},{value:"createMemoizedSelector",id:"creatememoizedselector",level:3},{value:"createParameterizedSelector",id:"createparameterizedselector",level:3},{value:"createCombinedSelector",id:"createcombinedselector",level:3},{value:"Pre-built Selectors Catalog",id:"pre-built-selectors-catalog",level:2},{value:"Auth Store Selectors",id:"auth-store-selectors",level:3},{value:"Theme Store Selectors",id:"theme-store-selectors",level:3},{value:"Sidebar Store Selectors",id:"sidebar-store-selectors",level:3},{value:"UI Store Selectors",id:"ui-store-selectors",level:3},{value:"Modal Store Selectors",id:"modal-store-selectors",level:3},{value:"Notification Store Selectors",id:"notification-store-selectors",level:3},{value:"Derived &amp; Combined Selectors",id:"derived--combined-selectors",level:2},{value:"Selector Factories",id:"selector-factories",level:2},{value:"Performance Patterns &amp; Gotchas",id:"performance-patterns--gotchas",level:2},{value:"When Memoized Selectors Help",id:"when-memoized-selectors-help",level:3},{value:"Cache Size Considerations",id:"cache-size-considerations",level:3},{value:"Common Mistakes",id:"common-mistakes",level:3},{value:"Quick Reference Table",id:"quick-reference-table",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"selectors-reference",children:"Selectors Reference"})}),"\n",(0,r.jsx)(n.p,{children:"Complete API documentation for all selector utilities and pre-built selectors in the Zustand store ecosystem."}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"Selectors are the primary way to subscribe to specific parts of Zustand stores. They prevent unnecessary re-renders by allowing components to subscribe to only the state they care about."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key Benefits:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Precision subscriptions"}),": Only re-render when selected values change"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Memoization options"}),": Cache computed results to avoid redundant calculations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameterized lookups"}),": Efficiently find items by ID or parameter"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type-safe"}),": Full TypeScript support with inferred types"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Source:"})," ",(0,r.jsx)(n.code,{children:"libs/state/stores/src/ui/selectors.ts"})]}),"\n",(0,r.jsx)(n.h2,{id:"memoization-utilities",children:"Memoization Utilities"}),"\n",(0,r.jsx)(n.h3,{id:"shallowequal",children:"shallowEqual"}),"\n",(0,r.jsx)(n.p,{children:"Performs shallow comparison of objects for use as a Zustand equality function."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { shallow } from '@nasnet/state/stores';\n\n// Use shallow comparison for object selectors\nconst { user, token } = useAuthStore(\n  state => ({ user: state.user, token: state.token }),\n  shallow  // Only re-renders if user OR token changed (not the object reference)\n);\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"When to use:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Selecting 2-3 fields together"}),"\n",(0,r.jsx)(n.li,{children:"Need to avoid object reference changes"}),"\n",(0,r.jsxs)(n.li,{children:["Return value from selector is an object literal ",(0,r.jsx)(n.code,{children:"{ ... }"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"API:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const shallowEqual: <T extends Record<string, any>>(a: T, b: T) => boolean\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"How it works:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Compares each property: ",(0,r.jsx)(n.code,{children:"prev.user === next.user && prev.token === next.token"})]}),"\n",(0,r.jsxs)(n.li,{children:["Returns ",(0,r.jsx)(n.code,{children:"true"})," if all properties match (shallow equality)"]}),"\n",(0,r.jsxs)(n.li,{children:["Returns ",(0,r.jsx)(n.code,{children:"false"})," if any property differs"]}),"\n",(0,r.jsx)(n.li,{children:"More efficient than deep equality checks"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// \u2705 GOOD: Only re-renders if user OR token changes\nfunction AuthPanel() {\n  const { user, token } = useAuthStore(\n    state => ({ user: state.user, token: state.token }),\n    shallow\n  );\n  return <div>{user?.username}</div>;\n}\n\n// \u274c BAD: Re-renders on every store update (no equality check)\nfunction AuthPanelBad() {\n  const { user, token } = useAuthStore(state => ({\n    user: state.user,\n    token: state.token,\n  }));  // New object every time = re-render every time\n  return <div>{user?.username}</div>;\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"creatememoizedselector",children:"createMemoizedSelector"}),"\n",(0,r.jsx)(n.p,{children:"Creates a memoized selector that caches computed results and only recomputes when dependencies change."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Signature:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export function createMemoizedSelector<State, Deps extends unknown[], Result>(\n  getDeps: (state: State) => Deps,\n  compute: (deps: Deps) => Result\n): (state: State) => Result\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"getDeps"}),": Function that extracts dependencies from state (returns array of values)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"compute"}),": Function that computes the result from dependencies"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns:"})," A selector function that takes state and returns the memoized result"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"How it works:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"On first call: Extract dependencies from state, compute result, cache both"}),"\n",(0,r.jsx)(n.li,{children:"On subsequent calls: Check if dependencies changed (using Object.is)"}),"\n",(0,r.jsx)(n.li,{children:"If dependencies haven't changed: Return cached result (no recomputation)"}),"\n",(0,r.jsx)(n.li,{children:"If dependencies have changed: Recompute and update cache"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"When to use:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Selector is used in ",(0,r.jsx)(n.strong,{children:"multiple components"})," (caches computation across renders)"]}),"\n",(0,r.jsx)(n.li,{children:"Computation is expensive (filtering, sorting, aggregation, string formatting)"}),"\n",(0,r.jsx)(n.li,{children:"Dependencies change infrequently"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Benefits:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Prevents redundant computations across multiple component renders"}),"\n",(0,r.jsx)(n.li,{children:"Only recomputes when dependencies actually change"}),"\n",(0,r.jsx)(n.li,{children:"Zero overhead for first-render components"}),"\n",(0,r.jsx)(n.li,{children:"Perfect for expensive filtering/mapping operations"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { createMemoizedSelector } from '@nasnet/state/stores';\n\n// Create memoized selector for filtered notifications\nconst selectFilteredNotifications = createMemoizedSelector(\n  (state: NotificationState) => [state.notifications, state.filter] as const,\n  ([notifications, filter]) => {\n    // This expensive filter only runs when notifications OR filter changes\n    return notifications.filter(n => n.type === filter && !n.archived);\n  }\n);\n\nfunction NotificationList() {\n  // Selector uses cached result if notifications/filter haven't changed\n  const filtered = useNotificationStore(selectFilteredNotifications);\n  return <ul>{filtered.map(n => <li key={n.id}>{n.message}</li>)}</ul>;\n}\n\nfunction NotificationBadge() {\n  // Same selector, same cache! No recomputation\n  const filtered = useNotificationStore(selectFilteredNotifications);\n  return <span>({filtered.length})</span>;\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Performance impact:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Without memoization"}),": Both components compute filter 2x per notification change = 2 computations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"With memoization"}),": Both components share cache = 1 computation total"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Improvement"}),": 50% reduction in computations"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Source:"})," ",(0,r.jsx)(n.code,{children:"libs/state/stores/src/ui/selectors.ts:48-71"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"createparameterizedselector",children:"createParameterizedSelector"}),"\n",(0,r.jsx)(n.p,{children:"Creates a selector factory that caches selectors per parameter, useful for ID-based lookups."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Signature:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export function createParameterizedSelector<State, Param, Result>(\n  selector: (state: State, param: Param) => Result\n): (param: Param) => (state: State) => Result\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"selector"}),": Function that takes state and a parameter, returns result"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns:"})," A function that takes a parameter and returns a selector function"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"How it works:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Call with parameter: ",(0,r.jsx)(n.code,{children:"selectById('user-123')"})," \u2192 returns cached selector for that parameter"]}),"\n",(0,r.jsx)(n.li,{children:"Each unique parameter gets its own cached selector"}),"\n",(0,r.jsx)(n.li,{children:"Prevents recreating selector functions on every render"}),"\n",(0,r.jsx)(n.li,{children:"Prevents recreating selector for every item in a list"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Cache behavior:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Each unique ",(0,r.jsx)(n.code,{children:"param"})," value gets one cached selector function"]}),"\n",(0,r.jsx)(n.li,{children:"Selector functions are never recreated for the same parameter"}),"\n",(0,r.jsx)(n.li,{children:"Perfect for list items that select by ID"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"When to use:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Selecting by dynamic parameter (ID, index, key)"}),"\n",(0,r.jsx)(n.li,{children:"Rendering lists where each item selects by its own ID"}),"\n",(0,r.jsx)(n.li,{children:"Avoiding redundant lookups in large datasets"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { createParameterizedSelector } from '@nasnet/state/stores';\n\n// Create parameterized selector for notification by ID\nconst selectNotificationById = createParameterizedSelector(\n  (state: NotificationState, id: string) =>\n    state.notifications.find(n => n.id === id) ?? null\n);\n\n// Rendering a list: each item selects its own notification\nfunction NotificationList() {\n  const notificationIds = ['alert-1', 'alert-2', 'alert-3'];\n\n  return (\n    <ul>\n      {notificationIds.map(id => (\n        <NotificationItem key={id} notificationId={id} />\n      ))}\n    </ul>\n  );\n}\n\n// Each item gets its own cached selector\nfunction NotificationItem({ notificationId }: { notificationId: string }) {\n  // selectNotificationById('alert-1') cached \u2713\n  // selectNotificationById('alert-2') cached \u2713\n  // selectNotificationById('alert-3') cached \u2713\n  const notif = useNotificationStore(selectNotificationById(notificationId));\n\n  return (\n    <li>\n      {notif?.message}\n      {notif?.type === 'error' && <span className=\"badge\">Error</span>}\n    </li>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Performance benefits:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Without parameterized selector"}),": Each render creates new selector function"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"With parameterized selector"}),": Selector function cached per parameter"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Especially important"}),": In lists with 100+ items (would be 100+ selector recreations without caching)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Cache considerations:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Cache persists for lifetime of selector factory"}),"\n",(0,r.jsx)(n.li,{children:"No automatic eviction (parameters are keys)"}),"\n",(0,r.jsx)(n.li,{children:"Fine for finite sets of IDs (users, routers)"}),"\n",(0,r.jsx)(n.li,{children:"For infinite lists, consider alternative approaches"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Source:"})," ",(0,r.jsx)(n.code,{children:"libs/state/stores/src/ui/selectors.ts:87-112"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"createcombinedselector",children:"createCombinedSelector"}),"\n",(0,r.jsx)(n.p,{children:"Combines multiple selectors into a single selector that returns an object with all selected values."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Signature:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export function createCombinedSelector<\n  State,\n  Selectors extends Record<string, (state: State) => unknown>\n>(\n  selectors: Selectors\n): (state: State) => { [K in keyof Selectors]: ReturnType<Selectors[K]> }\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"selectors"}),": Object where keys are field names and values are selector functions"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns:"})," A selector function that returns an object with all selected values"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"How it works:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Takes an object of selectors: ",(0,r.jsx)(n.code,{children:"{ theme: selectTheme, sidebar: selectSidebar, ... }"})]}),"\n",(0,r.jsx)(n.li,{children:"Returns a single selector that calls all selectors and combines results into object"}),"\n",(0,r.jsxs)(n.li,{children:["Object reference changes only if ",(0,r.jsx)(n.strong,{children:"any"})," selected value changes"]}),"\n",(0,r.jsxs)(n.li,{children:["Use with ",(0,r.jsx)(n.code,{children:"shallow"})," equality to prevent re-renders when reference changes but values don't"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"When to use:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Combining 4+ pre-built selectors"}),"\n",(0,r.jsx)(n.li,{children:"Each selector is used together frequently"}),"\n",(0,r.jsx)(n.li,{children:"Cleaner API than manually combining selectors"}),"\n",(0,r.jsx)(n.li,{children:"Avoid when selecting just 1-2 fields (use primitive selector instead)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { createCombinedSelector, shallow } from '@nasnet/state/stores';\nimport {\n  selectResolvedTheme,\n  selectSidebarCollapsed,\n  selectCommandPaletteOpen,\n  selectCompactMode,\n} from '@nasnet/state/stores';\n\n// Combine multiple selectors\nconst selectUISnapshot = createCombinedSelector({\n  theme: selectResolvedTheme,\n  sidebar: selectSidebarCollapsed,\n  commandPalette: selectCommandPaletteOpen,\n  compact: selectCompactMode,\n});\n\nfunction App() {\n  // Single hook with all UI state\n  // Only re-renders if any of the 4 values change\n  const ui = useUIStore(selectUISnapshot, shallow);\n\n  return (\n    <div className={ui.theme === 'dark' ? 'dark' : ''}>\n      <Sidebar collapsed={ui.sidebar} />\n      <CommandPalette open={ui.commandPalette} />\n      <main className={ui.compact ? 'compact' : ''}>\n        {/* content */}\n      </main>\n    </div>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Why shallow comparison is needed:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Without shallow:\nconst ui = useUIStore(selectUISnapshot);\n// Returns new object every store update = always re-renders\n\n// With shallow:\nconst ui = useUIStore(selectUISnapshot, shallow);\n// Compares { theme, sidebar, commandPalette, compact } properties\n// Only re-renders if any property actually changed\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Performance vs alternatives:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// \u274c BAD: Multiple hooks (each subscription)\nfunction App() {\n  const theme = useUIStore(selectResolvedTheme);\n  const sidebar = useUIStore(selectSidebarCollapsed);\n  const commandPalette = useUIStore(selectCommandPaletteOpen);\n  const compact = useUIStore(selectCompactMode);\n}\n\n// \u2705 GOOD: Single hook with combined selector\nfunction App() {\n  const { theme, sidebar, commandPalette, compact } = useUIStore(\n    selectUISnapshot,\n    shallow\n  );\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Source:"})," ",(0,r.jsx)(n.code,{children:"libs/state/stores/src/ui/selectors.ts:143-158"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"pre-built-selectors-catalog",children:"Pre-built Selectors Catalog"}),"\n",(0,r.jsx)(n.p,{children:"All stores export ready-to-use selectors for common use cases."}),"\n",(0,r.jsx)(n.h3,{id:"auth-store-selectors",children:"Auth Store Selectors"}),"\n",(0,r.jsxs)(n.p,{children:["Located in ",(0,r.jsx)(n.code,{children:"libs/state/stores/src/auth/auth.store.ts"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import {\n  selectIsAuthenticated,      // boolean\n  selectUser,                 // User | null\n  selectToken,                // string | null\n  selectIsRefreshing,         // boolean\n  selectRefreshAttempts,      // number\n  selectMaxRefreshExceeded,   // boolean\n  selectPermissions,          // string[]\n  selectHasPermission,        // (permission: string) => boolean\n} from '@nasnet/state/stores';\n\n// Usage examples\nconst isAuth = useAuthStore(selectIsAuthenticated);\nconst user = useAuthStore(selectUser);\nconst hasAdmin = useAuthStore(selectHasPermission('admin'));\nconst permissions = useAuthStore(selectPermissions);\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Common patterns:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Check if user is authenticated\nif (useAuthStore(selectIsAuthenticated)) {\n  // Show authenticated UI\n}\n\n// Check specific permission\nconst canDelete = useAuthStore(selectHasPermission('delete-users'));\n\n// Get user info\nconst { name, email } = useAuthStore(selectUser) ?? {};\n"})}),"\n",(0,r.jsx)(n.h3,{id:"theme-store-selectors",children:"Theme Store Selectors"}),"\n",(0,r.jsxs)(n.p,{children:["Located in ",(0,r.jsx)(n.code,{children:"libs/state/stores/src/ui/theme.store.ts"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import {\n  selectResolvedTheme,   // 'light' | 'dark'\n  selectThemeMode,       // 'light' | 'dark' | 'system'\n  selectIsDarkMode,      // boolean (derived)\n  selectIsSystemTheme,   // boolean (derived)\n} from '@nasnet/state/stores';\n\n// Usage\nconst theme = useThemeStore(selectResolvedTheme);  // Always resolved to light/dark\nconst isDark = useThemeStore(selectIsDarkMode);     // Convenience boolean\nconst mode = useThemeStore(selectThemeMode);        // User's selected mode\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Difference between selectors:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"selectThemeMode"}),": What the user selected ('light', 'dark', or 'system')"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"selectResolvedTheme"}),": The actual resolved theme ('light' or 'dark'), following system preference if mode is 'system'"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"selectIsDarkMode"}),": Convenience boolean ",(0,r.jsx)(n.code,{children:"selectResolvedTheme === 'dark'"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"sidebar-store-selectors",children:"Sidebar Store Selectors"}),"\n",(0,r.jsxs)(n.p,{children:["Located in ",(0,r.jsx)(n.code,{children:"libs/state/stores/src/ui/sidebar.store.ts"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import {\n  selectSidebarCollapsed,      // boolean\n  selectSidebarDisplayState,   // 'collapsed' | 'expanded'\n  selectSidebarToggle,         // (action) => void\n} from '@nasnet/state/stores';\n\n// Usage\nconst collapsed = useSidebarStore(selectSidebarCollapsed);\nconst state = useSidebarStore(selectSidebarDisplayState);  // More readable\n\n// Toggle sidebar\nconst toggle = useSidebarStore(selectSidebarToggle);\ntoggle();  // or dispatch action\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ui-store-selectors",children:"UI Store Selectors"}),"\n",(0,r.jsxs)(n.p,{children:["Located in ",(0,r.jsx)(n.code,{children:"libs/state/stores/src/ui/ui.store.ts"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import {\n  selectActiveTab,                       // string | null\n  selectCommandPaletteOpen,              // boolean\n  selectCompactMode,                     // boolean\n  selectAnimationsEnabled,               // boolean\n  selectDefaultNotificationDuration,    // number (ms)\n  selectUIPreferences,                  // { compactMode, animationsEnabled, duration }\n  selectUIPreferencesMemoized,           // memoized version\n  selectHasOverlayOpen,                  // boolean\n} from '@nasnet/state/stores';\n\n// Usage\nconst activeTab = useUIStore(selectActiveTab);\nconst isPaletteOpen = useUIStore(selectCommandPaletteOpen);\nconst compact = useUIStore(selectCompactMode);\n\n// For multiple preferences (use shallow comparison)\nconst prefs = useUIStore(selectUIPreferences, shallow);\n// or memoized version\nconst prefsMemo = useUIStore(selectUIPreferencesMemoized);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"modal-store-selectors",children:"Modal Store Selectors"}),"\n",(0,r.jsxs)(n.p,{children:["Located in ",(0,r.jsx)(n.code,{children:"libs/state/stores/src/ui/modal.store.ts"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import {\n  selectActiveModal,                  // string | null\n  selectModalData,                    // Record<string, any>\n  createSelectIsModalOpen,             // (modalId: string) => boolean\n  selectIsModalOpenById,               // Parameterized selector\n} from '@nasnet/state/stores';\n\n// Usage: Check which modal is open\nconst activeModal = useModalStore(selectActiveModal);  // 'auth-dialog' or null\n\n// Usage: Check if specific modal is open\nconst isAuthDialogOpen = useModalStore(\n  createSelectIsModalOpen('auth-dialog')\n);\n\n// Usage: With parameterized selector\nconst isOpen = useModalStore(selectIsModalOpenById('auth-dialog'));\n\n// Usage: Get modal data\nconst data = useModalStore(selectModalData);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"notification-store-selectors",children:"Notification Store Selectors"}),"\n",(0,r.jsxs)(n.p,{children:["Located in ",(0,r.jsx)(n.code,{children:"libs/state/stores/src/ui/notification.store.ts"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import {\n  selectNotifications,                  // Notification[]\n  selectHasNotifications,               // boolean\n  selectNotificationCount,              // number\n  selectErrorNotifications,             // Notification[]\n  selectNotificationsByType,            // (type: NotificationType) => Notification[]\n  selectUrgentNotificationCount,        // number (errors only)\n  selectProgressNotifications,          // Notification[]\n  selectErrorCountMemoized,             // memoized error count\n  selectNotificationById,               // Parameterized selector\n  selectIsModalOpenById,                // Parameterized selector (shared from modal)\n} from '@nasnet/state/stores';\n\n// Usage: Get all notifications\nconst allNotifs = useNotificationStore(selectNotifications);\n\n// Usage: Check if there are any notifications\nconst hasNotifs = useNotificationStore(selectHasNotifications);\n\n// Usage: Get error count\nconst errorCount = useNotificationStore(selectUrgentNotificationCount);\n// or memoized version\nconst errorCountMemo = useNotificationStore(selectErrorCountMemoized);\n\n// Usage: Get notifications by type\nconst errors = useNotificationStore(selectErrorNotifications);\nconst warnings = useNotificationStore(\n  selectNotificationsByType('warning')\n);\n\n// Usage: Get specific notification by ID\nconst notif = useNotificationStore(selectNotificationById('alert-123'));\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"derived--combined-selectors",children:"Derived & Combined Selectors"}),"\n",(0,r.jsxs)(n.p,{children:["These selectors derive values from state and are exported from ",(0,r.jsx)(n.code,{children:"selectors.ts"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import {\n  selectHasOverlayOpen,              // UIState: boolean\n  selectUIPreferences,               // UIState: { compactMode, animationsEnabled, duration }\n  selectSidebarDisplayState,         // SidebarState: 'collapsed' | 'expanded'\n  selectIsDarkMode,                 // ThemeState: boolean\n  selectIsSystemTheme,              // ThemeState: boolean\n  selectUrgentNotificationCount,     // NotificationState: number\n  selectProgressNotifications,       // NotificationState: Notification[]\n} from '@nasnet/state/stores';\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"selector-factories",children:"Selector Factories"}),"\n",(0,r.jsx)(n.p,{children:"These functions create new selectors based on parameters:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import {\n  createSelectIsTabActive,               // (tabId: string) => (state: UIState) => boolean\n  createSelectNotificationsWithAction,   // () => (state: NotificationState) => Notification[]\n  selectIsModalOpenById,                 // Parameterized selector\n  selectNotificationById,                // Parameterized selector\n} from '@nasnet/state/stores';\n\n// Usage: Create selector for specific tab\nconst selectAuthTabActive = createSelectIsTabActive('auth-settings');\nconst isActive = useUIStore(selectAuthTabActive);\n\n// Usage: Create selector for notifications with action\nconst selectNotifWithAction = createSelectNotificationsWithAction();\nconst notifsWithAction = useNotificationStore(selectNotifWithAction);\n\n// Usage: Parameterized selectors\nconst isAuthOpen = useModalStore(selectIsModalOpenById('auth-dialog'));\nconst notif = useNotificationStore(selectNotificationById('alert-123'));\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"performance-patterns--gotchas",children:"Performance Patterns & Gotchas"}),"\n",(0,r.jsx)(n.h3,{id:"when-memoized-selectors-help",children:"When Memoized Selectors Help"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"HELPS (worthwhile):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Multiple components using same selector\nconst selectFiltered = createMemoizedSelector(...);\n// Component 1 uses it\n// Component 2 uses it  \u2190 Caches result from Component 1 = no recomputation\n// Component 3 uses it  \u2190 Caches result from Component 2 = no recomputation\n\n// \u2705 Expensive computation (filtering, sorting, grouping)\nconst selectGroupedAlerts = createMemoizedSelector(\n  (state) => [state.alerts],\n  ([alerts]) => {\n    // Expensive O(n log n) sort + O(n) grouping\n    return Object.groupBy(alerts.sort(compareFn), (a) => a.severity);\n  }\n);\n\n// \u2705 Frequently changing dependencies but expensive computation\nconst selectFilteredByStatus = createMemoizedSelector(\n  (state) => [state.items, state.filter],\n  ([items, filter]) => items.filter(i => i.status === filter)  // Only runs when filter changes\n);\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"HURTS (not worthwhile):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// \u274c Single component using memoized selector\nconst selectTemp = createMemoizedSelector(...);\n// Only used in one place = no benefit from caching\n\n// \u274c Cheap computation (primitive access, simple math)\nconst selectCount = createMemoizedSelector(\n  (state) => [state.items],\n  ([items]) => items.length  // O(1) operation = no benefit from memoization\n);\n\n// \u274c Always-changing dependency (would recompute every render anyway)\nconst selectCurrentTime = createMemoizedSelector(\n  (state) => [state.timestamp],  // Changes every millisecond!\n  ([timestamp]) => new Date(timestamp)  // Recomputes every render\n);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"cache-size-considerations",children:"Cache Size Considerations"}),"\n",(0,r.jsx)(n.p,{children:"Parameterized selectors cache per-parameter:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Creates one selector per notification ID\nconst selectById = createParameterizedSelector((state, id: string) => {\n  return state.notifications.find(n => n.id === id);\n});\n\n// If rendering 10,000 notification IDs:\n// - Cache size: 10,000 selector functions\n// - Memory usage: Small but non-zero\n\n// SOLUTION: For very large datasets, consider alternatives:\n// 1. Virtual scrolling (only render visible items)\n// 2. Use store index for O(1) lookups: state.notificationsById[id]\n// 3. Paginate results\n"})}),"\n",(0,r.jsx)(n.h3,{id:"common-mistakes",children:"Common Mistakes"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Mistake 1: Creating selector in component render"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// \u274c BAD: New selector created every render\nfunction Notif() {\n  const selectById = createMemoizedSelector(...);  // New function every render!\n  const notif = useNotificationStore(selectById);\n}\n\n// \u2705 CORRECT: Create selector outside component\nconst selectById = createMemoizedSelector(...);  // Created once\nfunction Notif() {\n  const notif = useNotificationStore(selectById);  // Reused\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Mistake 2: Forgetting shallow comparison"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// \u274c BAD: Re-renders even if values didn't change\nconst { user, token } = useAuthStore(\n  state => ({ user: state.user, token: state.token })\n  // No shallow comparison = new object reference = re-render\n);\n\n// \u2705 CORRECT: Use shallow comparison\nimport { shallow } from '@nasnet/state/stores';\nconst { user, token } = useAuthStore(\n  state => ({ user: state.user, token: state.token }),\n  shallow  // Compares properties, not reference\n);\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Mistake 3: Over-memoizing simple values"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// \u274c OVERKILL: Memoizing a simple getter\nconst selectCount = createMemoizedSelector(\n  (state) => [state.items],\n  ([items]) => items.length  // Simple array length operation\n);\n\n// \u2705 BETTER: Just use a primitive selector\nconst selectCount = (state) => state.items.length;\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Mistake 4: Expensive computation without memoization"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// \u274c BAD: Expensive filter in every selector call\nconst selectFiltered = (state: NotificationState) =>\n  state.notifications.filter(n => expensiveCheck(n));  // O(n) every render!\n\n// \u2705 GOOD: Memoize expensive computation\nconst selectFiltered = createMemoizedSelector(\n  (state) => [state.notifications],\n  ([notifications]) => notifications.filter(n => expensiveCheck(n))  // O(n) only when notifications change\n);\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"quick-reference-table",children:"Quick Reference Table"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Selector Type"}),(0,r.jsx)(n.th,{children:"Best For"}),(0,r.jsx)(n.th,{children:"Overhead"}),(0,r.jsx)(n.th,{children:"When to Use"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Primitive"}),(0,r.jsx)(n.td,{children:"Single field"}),(0,r.jsx)(n.td,{children:"None"}),(0,r.jsx)(n.td,{children:"Most common case"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Shallow"}),(0,r.jsx)(n.td,{children:"2-3 fields"}),(0,r.jsx)(n.td,{children:"Low"}),(0,r.jsx)(n.td,{children:"Object selectors"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Memoized"}),(0,r.jsx)(n.td,{children:"Expensive computation"}),(0,r.jsx)(n.td,{children:"Low"}),(0,r.jsx)(n.td,{children:"Multiple components or expensive ops"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Parameterized"}),(0,r.jsx)(n.td,{children:"ID-based lookups"}),(0,r.jsx)(n.td,{children:"Low"}),(0,r.jsx)(n.td,{children:"List rendering, dynamic IDs"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Combined"}),(0,r.jsx)(n.td,{children:"4+ fields"}),(0,r.jsx)(n.td,{children:"Low"}),(0,r.jsx)(n.td,{children:"Many selectors together"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use primitive selectors"})," as your default (single field)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use shallow comparison"})," when selecting multiple fields as an object"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use memoized selectors"})," for expensive computations used in multiple places"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use parameterized selectors"})," for dynamic lookups by ID in lists"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use combined selectors"})," to compose 4+ pre-built selectors"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Avoid"})," creating selectors inside component renders"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Always measure"})," before optimizing\u2014not all selectors need memoization"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"For complete patterns and examples, see:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"libs/state/docs/performance.md"})," - Detailed performance optimization guide"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"libs/state/stores/src/ui/selectors.ts"})," - Full implementation source code"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},71184:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>c});var s=t(14041);const r={},i=s.createContext(r);function o(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);