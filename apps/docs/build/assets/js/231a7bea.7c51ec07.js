"use strict";(globalThis.webpackChunk_nas_net_docs=globalThis.webpackChunk_nas_net_docs||[]).push([[41857],{70031:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"integrations/a11y-provider","title":"Accessibility (a11y) Provider","description":"The A11y Provider detects and provides user accessibility preferences throughout the application. It implements WCAG 2.1 AAA guidelines and tracks user input method (keyboard vs mouse) for smart focus management.","source":"@site/../../libs/state/docs/integrations/a11y-provider.md","sourceDirName":"integrations","slug":"/integrations/a11y-provider","permalink":"/docs/state/integrations/a11y-provider","draft":false,"unlisted":false,"editUrl":"https://github.com/nasnet-community/nasnet-panel/tree/main/../../libs/state/docs/integrations/a11y-provider.md","tags":[],"version":"current","frontMatter":{},"sidebar":"sidebar","previous":{"title":"Quickstart Guide: State Management in 10 Minutes","permalink":"/docs/state/guides/quickstart"},"next":{"title":"Apollo Client & Zustand Integration","permalink":"/docs/state/integrations/apollo-integration"}}');var r=t(31085),i=t(71184);const o={},a="Accessibility (a11y) Provider",c={},d=[{value:"Overview",id:"overview",level:2},{value:"Setup",id:"setup",level:2},{value:"Wrap App in A11yProvider",id:"wrap-app-in-a11yprovider",level:3},{value:"API Reference",id:"api-reference",level:2},{value:"A11yContextValue Interface",id:"a11ycontextvalue-interface",level:3},{value:"Hooks",id:"hooks",level:2},{value:"useA11y() - Complete Context",id:"usea11y---complete-context",level:3},{value:"useA11yOptional() - Safe Hook",id:"usea11yoptional---safe-hook",level:3},{value:"useReducedMotion() - Optimized Selector",id:"usereducedmotion---optimized-selector",level:3},{value:"useKeyboardUser() - Optimized Selector",id:"usekeyboarduser---optimized-selector",level:3},{value:"useHighContrast() - Optimized Selector",id:"usehighcontrast---optimized-selector",level:3},{value:"useAnnounce() - Optimized Selector",id:"useannounce---optimized-selector",level:3},{value:"Use Cases",id:"use-cases",level:2},{value:"1. Respecting Reduced Motion",id:"1-respecting-reduced-motion",level:3},{value:"2. Smart Focus Rings",id:"2-smart-focus-rings",level:3},{value:"3. High Contrast Styling",id:"3-high-contrast-styling",level:3},{value:"4. Screen Reader Announcements",id:"4-screen-reader-announcements",level:3},{value:"5. Combined Accessibility",id:"5-combined-accessibility",level:3},{value:"How It Works",id:"how-it-works",level:2},{value:"Media Query Detection",id:"media-query-detection",level:3},{value:"Keyboard User Detection",id:"keyboard-user-detection",level:3},{value:"Data Attributes for CSS",id:"data-attributes-for-css",level:3},{value:"Screen Reader Announcements",id:"screen-reader-announcements",level:3},{value:"CSS Integration",id:"css-integration",level:2},{value:"Data Attributes",id:"data-attributes",level:3},{value:"WCAG AAA Compliance",id:"wcag-aaa-compliance",level:2},{value:"Browser Support",id:"browser-support",level:2},{value:"Testing",id:"testing",level:2},{value:"Test Reduced Motion",id:"test-reduced-motion",level:3},{value:"Test Keyboard User Detection",id:"test-keyboard-user-detection",level:3},{value:"Test Screen Reader Announcements",id:"test-screen-reader-announcements",level:3},{value:"Summary",id:"summary",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"accessibility-a11y-provider",children:"Accessibility (a11y) Provider"})}),"\n",(0,r.jsx)(n.p,{children:"The A11y Provider detects and provides user accessibility preferences throughout the application. It implements WCAG 2.1 AAA guidelines and tracks user input method (keyboard vs mouse) for smart focus management."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Source:"})," ",(0,r.jsx)(n.code,{children:"libs/state/stores/src/a11y/a11y-provider.tsx"})]}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The A11y Provider wraps your app and detects:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Reduced Motion"}),": User prefers ",(0,r.jsx)(n.code,{children:"prefers-reduced-motion: reduce"})," (respects motion sensitivity)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"High Contrast"}),": User prefers ",(0,r.jsx)(n.code,{children:"prefers-contrast: more"})," (for accessibility/visibility)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Keyboard User"}),": User navigates with Tab key (for focus ring visibility)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Screen Reader Support"}),": Aria-live announcements for screen readers"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,r.jsx)(n.h3,{id:"wrap-app-in-a11yprovider",children:"Wrap App in A11yProvider"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// apps/connect/src/routes/__root.tsx\nimport { A11yProvider } from '@nasnet/state/stores';\n\nexport function RootLayout() {\n  return (\n    <A11yProvider>\n      <AppHeader />\n      <AppSidebar />\n      <MainContent />\n    </A11yProvider>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,r.jsx)(n.h3,{id:"a11ycontextvalue-interface",children:"A11yContextValue Interface"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"interface A11yContextValue {\n  /**\n   * User prefers reduced motion (true = disable animations)\n   * Based on `prefers-reduced-motion: reduce` media query\n   * @example\n   * if (reducedMotion) {\n   *   disableAnimation();\n   * }\n   */\n  reducedMotion: boolean;\n\n  /**\n   * User prefers high contrast mode (true = use high contrast)\n   * Based on `prefers-contrast: more` media query\n   * @example\n   * className={highContrast ? 'high-contrast' : 'normal-contrast'}\n   */\n  highContrast: boolean;\n\n  /**\n   * User is navigating with keyboard (Tab key)\n   * False when mouse or touch is used\n   * @example\n   * className={keyboardUser ? 'show-focus-ring' : ''}\n   */\n  keyboardUser: boolean;\n\n  /**\n   * Announce a message to screen readers via aria-live region\n   * @param message - Message text\n   * @param priority - 'polite' (waits) or 'assertive' (interrupts)\n   * @example\n   * announce('Loading complete', 'assertive');\n   */\n  announce: (message: string, priority?: 'polite' | 'assertive') => void;\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"hooks",children:"Hooks"}),"\n",(0,r.jsx)(n.h3,{id:"usea11y---complete-context",children:"useA11y() - Complete Context"}),"\n",(0,r.jsx)(n.p,{children:"Access all accessibility state and functions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { useA11y } from '@nasnet/state/stores';\n\nfunction AnimatedButton({ children }) {\n  const { reducedMotion, keyboardUser, announce } = useA11y();\n\n  return (\n    <motion.button\n      whileHover={reducedMotion ? {} : { scale: 1.05 }}\n      whileTap={reducedMotion ? {} : { scale: 0.95 }}\n      className={keyboardUser ? 'show-focus-ring' : ''}\n      onClick={() => announce('Button clicked')}\n    >\n      {children}\n    </motion.button>\n  );\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Throws error if used outside A11yProvider."})," Use ",(0,r.jsx)(n.code,{children:"useA11yOptional()"})," if component might not be wrapped."]}),"\n",(0,r.jsx)(n.h3,{id:"usea11yoptional---safe-hook",children:"useA11yOptional() - Safe Hook"}),"\n",(0,r.jsx)(n.p,{children:"Returns context or null if outside provider:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { useA11yOptional } from '@nasnet/state/stores';\n\nfunction OptionalA11y() {\n  const a11y = useA11yOptional();\n\n  if (!a11y) {\n    return <div>Using default behavior (not wrapped in A11yProvider)</div>;\n  }\n\n  return <div>Reduced motion: {a11y.reducedMotion}</div>;\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"usereducedmotion---optimized-selector",children:"useReducedMotion() - Optimized Selector"}),"\n",(0,r.jsx)(n.p,{children:"Get reduced motion state only (avoids re-render on other changes):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { useReducedMotion } from '@nasnet/state/stores';\n\nfunction SmoothTransition() {\n  const reducedMotion = useReducedMotion();\n\n  return (\n    <div\n      style={{\n        transition: reducedMotion ? 'none' : 'opacity 0.3s ease-in-out',\n      }}\n    >\n      Content\n    </div>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"usekeyboarduser---optimized-selector",children:"useKeyboardUser() - Optimized Selector"}),"\n",(0,r.jsx)(n.p,{children:"Detect keyboard-only navigation:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { useKeyboardUser } from '@nasnet/state/stores';\n\nfunction SmartFocusRing() {\n  const keyboardUser = useKeyboardUser();\n\n  // Focus ring visible only for keyboard users (WCAG AAA)\n  return (\n    <button\n      className={keyboardUser ? 'focus-ring-visible' : 'focus-ring-hidden'}\n    >\n      Click me\n    </button>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"usehighcontrast---optimized-selector",children:"useHighContrast() - Optimized Selector"}),"\n",(0,r.jsx)(n.p,{children:"Detect high contrast mode:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { useHighContrast } from '@nasnet/state/stores';\n\nfunction ContrastAwareText() {\n  const highContrast = useHighContrast();\n\n  return (\n    <span\n      className={highContrast ? 'text-high-contrast' : 'text-normal'}\n    >\n      Accessible text\n    </span>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"useannounce---optimized-selector",children:"useAnnounce() - Optimized Selector"}),"\n",(0,r.jsx)(n.p,{children:"Access screen reader announcements:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { useAnnounce } from '@nasnet/state/stores';\n\nfunction NotificationBadge({ count }) {\n  const announce = useAnnounce();\n\n  useEffect(() => {\n    if (count > 0) {\n      // Announce immediately to screen readers\n      announce(`${count} new notifications`, 'assertive');\n    }\n  }, [count, announce]);\n\n  return <span aria-label={`${count} notifications`}>{count}</span>;\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,r.jsx)(n.h3,{id:"1-respecting-reduced-motion",children:"1. Respecting Reduced Motion"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { useReducedMotion } from '@nasnet/state/stores';\nimport { motion } from 'framer-motion';\n\nfunction LoadingSpinner() {\n  const reducedMotion = useReducedMotion();\n\n  return (\n    <motion.div\n      animate={{ rotate: 360 }}\n      transition={\n        reducedMotion\n          ? { duration: 0 }  // No animation\n          : { duration: 1, repeat: Infinity }\n      }\n    >\n      <Spinner />\n    </motion.div>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"2-smart-focus-rings",children:"2. Smart Focus Rings"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { useKeyboardUser } from '@nasnet/state/stores';\n\nfunction InteractiveButton() {\n  const keyboardUser = useKeyboardUser();\n\n  // Only show focus ring for keyboard users (WCAG AAA)\n  // Avoids \"ugly\" focus ring for mouse users\n  return (\n    <button\n      className={cn(\n        'px-4 py-2 rounded',\n        keyboardUser && 'focus:ring-2 focus:ring-offset-2 focus:ring-blue-500'\n      )}\n    >\n      Action\n    </button>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"3-high-contrast-styling",children:"3. High Contrast Styling"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { useHighContrast } from '@nasnet/state/stores';\nimport { cn } from '@nasnet/ui/utils';\n\nfunction StatusIndicator({ status }) {\n  const highContrast = useHighContrast();\n\n  return (\n    <span\n      className={cn(\n        'px-3 py-1 rounded text-sm font-medium',\n        status === 'online'\n          ? highContrast\n            ? 'bg-black text-lime-300' // High contrast\n            : 'bg-green-100 text-green-800' // Normal contrast\n          : highContrast\n          ? 'bg-black text-red-300'\n          : 'bg-red-100 text-red-800'\n      )}\n    >\n      {status}\n    </span>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"4-screen-reader-announcements",children:"4. Screen Reader Announcements"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { useAnnounce } from '@nasnet/state/stores';\nimport { useEffect } from 'react';\n\nfunction ConfigurationSaved({ isSuccess, message }) {\n  const announce = useAnnounce();\n\n  useEffect(() => {\n    if (isSuccess) {\n      // Immediately announce success to screen readers\n      announce(message, 'assertive');\n    }\n  }, [isSuccess, message, announce]);\n\n  return (\n    <Alert type={isSuccess ? 'success' : 'error'}>\n      {message}\n    </Alert>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"5-combined-accessibility",children:"5. Combined Accessibility"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { useA11y } from '@nasnet/state/stores';\nimport { motion } from 'framer-motion';\n\nfunction DataTable() {\n  const { reducedMotion, keyboardUser, announce } = useA11y();\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      transition={reducedMotion ? { duration: 0 } : { duration: 0.3 }}\n      className={keyboardUser ? 'focus-visible-rows' : ''}\n      role=\"region\"\n      aria-live=\"polite\"\n      aria-label=\"Data table\"\n      onLoad={() => announce('Table loaded with 50 rows', 'polite')}\n    >\n      <table>\n        {/* Table content */}\n      </table>\n    </motion.div>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,r.jsx)(n.h3,{id:"media-query-detection",children:"Media Query Detection"}),"\n",(0,r.jsx)(n.p,{children:"The A11y Provider detects user OS/browser settings:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Reduced motion (respects motion sensitivity)\nconst mq = window.matchMedia('(prefers-reduced-motion: reduce)');\nreducedMotion = mq.matches; // true if user enabled\n\n// High contrast (accessibility/visibility preference)\nconst mq = window.matchMedia('(prefers-contrast: more)');\nhighContrast = mq.matches; // true if user enabled\n"})}),"\n",(0,r.jsx)(n.h3,{id:"keyboard-user-detection",children:"Keyboard User Detection"}),"\n",(0,r.jsx)(n.p,{children:"Tracks user input method:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"window.addEventListener('keydown', (e) => {\n  if (e.key === 'Tab') {\n    setKeyboardUser(true); // User pressed Tab = keyboard navigation\n  }\n});\n\nwindow.addEventListener('mousedown', () => {\n  setKeyboardUser(false); // User clicked mouse = reset to mouse user\n});\n\nwindow.addEventListener('touchstart', () => {\n  setKeyboardUser(false); // User touched = reset to touch user\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"data-attributes-for-css",children:"Data Attributes for CSS"}),"\n",(0,r.jsx)(n.p,{children:"The provider sets document attributes for CSS targeting:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// When keyboard user\ndocument.documentElement.setAttribute('data-keyboard-user', 'true');\n\n// When reduced motion\ndocument.documentElement.setAttribute('data-reduced-motion', 'true');\n\n// When high contrast\n// (managed by media query, CSS reads via prefers-contrast)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"screen-reader-announcements",children:"Screen Reader Announcements"}),"\n",(0,r.jsx)(n.p,{children:"Uses aria-live region for screen readers:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:'<div\n  role="status"\n  aria-live={announcement?.priority ?? \'polite\'}\n  aria-atomic="true"\n  className="sr-only" // Visually hidden\n>\n  {announcement?.message}\n</div>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"css-integration",children:"CSS Integration"}),"\n",(0,r.jsx)(n.h3,{id:"data-attributes",children:"Data Attributes"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"/* Apply styles based on keyboard user */\n[data-keyboard-user='true'] button:focus {\n  outline: 3px solid #4f46e5;\n  outline-offset: 2px;\n}\n\n/* Disable animations for reduced motion users */\n[data-reduced-motion='true'] * {\n  animation-duration: 0.01ms !important;\n  animation-iteration-count: 1 !important;\n  transition-duration: 0.01ms !important;\n}\n\n/* Media queries for high contrast */\n@media (prefers-contrast: more) {\n  .badge {\n    border: 2px solid currentColor;\n  }\n\n  .text {\n    font-weight: 600;\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"wcag-aaa-compliance",children:"WCAG AAA Compliance"}),"\n",(0,r.jsx)(n.p,{children:"The A11y Provider helps achieve WCAG AAA compliance:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Criterion"}),(0,r.jsx)(n.th,{children:"How A11y Provider Helps"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"2.3.3 Animation from Interactions"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"reducedMotion"})," hook disables animations"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"2.4.7 Focus Visible"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"keyboardUser"})," hook shows focus only for keyboard"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"1.4.3 Contrast"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"highContrast"})," hook enables high-contrast styles"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"1.4.11 Non-text Contrast"})}),(0,r.jsxs)(n.td,{children:["Implement using ",(0,r.jsx)(n.code,{children:"highContrast"})," state"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"4.1.3 Status Messages"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"announce()"})," function for aria-live announcements"]})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"browser-support",children:"Browser Support"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"Browser Support"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"prefers-reduced-motion"})}),(0,r.jsx)(n.td,{children:"Modern browsers (Chrome 74+, Firefox 63+, Safari 10.1+)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"prefers-contrast"})}),(0,r.jsx)(n.td,{children:"Modern browsers (Chrome 96+, Firefox 101+, Safari 15.4+)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Media queries API"}),(0,r.jsx)(n.td,{children:"All modern browsers"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Keyboard/mouse detection"}),(0,r.jsx)(n.td,{children:"All modern browsers"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,r.jsx)(n.h3,{id:"test-reduced-motion",children:"Test Reduced Motion"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { renderHook } from '@testing-library/react';\nimport { useReducedMotion } from '@nasnet/state/stores';\nimport { A11yProvider } from '@nasnet/state/stores';\n\ntest('detects reduced motion preference', () => {\n  // Mock matchMedia\n  window.matchMedia = jest.fn((query) => ({\n    matches: query === '(prefers-reduced-motion: reduce)',\n    media: query,\n    addEventListener: jest.fn(),\n    removeEventListener: jest.fn(),\n  }));\n\n  const { result } = renderHook(() => useReducedMotion(), {\n    wrapper: A11yProvider,\n  });\n\n  expect(result.current).toBe(true);\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"test-keyboard-user-detection",children:"Test Keyboard User Detection"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"test('detects keyboard user', () => {\n  const { result } = renderHook(() => useKeyboardUser(), {\n    wrapper: A11yProvider,\n  });\n\n  // Initially not keyboard user\n  expect(result.current).toBe(false);\n\n  // Simulate Tab key\n  fireEvent.keyDown(window, { key: 'Tab' });\n\n  // Now keyboard user\n  expect(result.current).toBe(true);\n\n  // Simulate mouse click\n  fireEvent.mouseDown(window);\n\n  // Back to mouse user\n  expect(result.current).toBe(false);\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"test-screen-reader-announcements",children:"Test Screen Reader Announcements"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"test('announces messages to screen readers', () => {\n  const { result } = renderHook(() => useAnnounce(), {\n    wrapper: A11yProvider,\n  });\n\n  const announce = result.current;\n\n  // Announce message\n  announce('Loading complete', 'assertive');\n\n  // Check aria-live region updated\n  const liveRegion = screen.getByRole('status');\n  expect(liveRegion).toHaveTextContent('Loading complete');\n  expect(liveRegion).toHaveAttribute('aria-live', 'assertive');\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(n.p,{children:"The A11y Provider:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Detects preferences"})," via ",(0,r.jsx)(n.code,{children:"prefers-reduced-motion"})," and ",(0,r.jsx)(n.code,{children:"prefers-contrast"})," media queries"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tracks input method"})," (keyboard vs mouse) for smart focus rings"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Provides hooks"})," (",(0,r.jsx)(n.code,{children:"useA11y"}),", ",(0,r.jsx)(n.code,{children:"useReducedMotion"}),", ",(0,r.jsx)(n.code,{children:"useKeyboardUser"}),", ",(0,r.jsx)(n.code,{children:"useAnnounce"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Enables WCAG AAA compliance"})," through accessible styling and screen reader support"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Respects user choices"})," by integrating with OS/browser accessibility settings"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Use it to build applications that are accessible to users with motion sensitivity, visual impairment, or those who prefer keyboard navigation."})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},71184:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(14041);const r={},i=s.createContext(r);function o(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);