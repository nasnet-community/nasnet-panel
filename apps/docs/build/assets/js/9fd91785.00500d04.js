"use strict";(globalThis.webpackChunk_nas_net_docs=globalThis.webpackChunk_nas_net_docs||[]).push([[58166],{34374:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>o,contentTitle:()=>d,default:()=>a,frontMatter:()=>c,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"testing-and-storybook","title":"Testing and Storybook","description":"This document covers the testing strategy and Storybook documentation practices across the libs/features/ modules.","source":"@site/../../libs/features/docs/testing-and-storybook.md","sourceDirName":".","slug":"/testing-and-storybook","permalink":"/docs/features/testing-and-storybook","draft":false,"unlisted":false,"editUrl":"https://github.com/nasnet-community/nasnet-panel/tree/main/../../libs/features/docs/testing-and-storybook.md","tags":[],"version":"current","frontMatter":{},"sidebar":"sidebar","previous":{"title":"State Management Guide","permalink":"/docs/features/state-management"},"next":{"title":"XState Machines Reference","permalink":"/docs/features/xstate-machines"}}');var r=t(31085),i=t(71184);const c={},d="Testing and Storybook",o={},l=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"1. Testing Strategy Overview",id:"1-testing-strategy-overview",level:2},{value:"2. Test File Inventory",id:"2-test-file-inventory",level:2},{value:"dashboard",id:"dashboard",level:3},{value:"diagnostics",id:"diagnostics",level:3},{value:"network",id:"network",level:3},{value:"firewall",id:"firewall",level:3},{value:"alerts",id:"alerts",level:3},{value:"services",id:"services",level:3},{value:"logs, wireless, router-discovery",id:"logs-wireless-router-discovery",level:3},{value:"3. Unit Test Patterns",id:"3-unit-test-patterns",level:2},{value:"Schema Tests",id:"schema-tests",level:3},{value:"4. Component Test Patterns",id:"4-component-test-patterns",level:2},{value:"QueryClient Wrapper",id:"queryclient-wrapper",level:3},{value:"5. XState Machine Testing",id:"5-xstate-machine-testing",level:2},{value:"Machine Testing Checklist",id:"machine-testing-checklist",level:3},{value:"6. Accessibility Testing",id:"6-accessibility-testing",level:2},{value:"Accessibility Assertions",id:"accessibility-assertions",level:3},{value:"7. Platform Presenter Testing",id:"7-platform-presenter-testing",level:2},{value:"8. Hook Testing Patterns",id:"8-hook-testing-patterns",level:2},{value:"9. Integration Test Patterns",id:"9-integration-test-patterns",level:2},{value:"10. Storybook Setup and Configuration",id:"10-storybook-setup-and-configuration",level:2},{value:"Connect App Storybook Config",id:"connect-app-storybook-config",level:3},{value:"Preview Decorators",id:"preview-decorators",level:3},{value:"Viewport Presets",id:"viewport-presets",level:3},{value:"Global Theme Toggle",id:"global-theme-toggle",level:3},{value:"Accessibility Configuration",id:"accessibility-configuration",level:3},{value:"11. Story File Inventory",id:"11-story-file-inventory",level:2},{value:"dashboard (14 story files)",id:"dashboard-14-story-files",level:3},{value:"diagnostics (14 story files)",id:"diagnostics-14-story-files",level:3},{value:"firewall (24 story files)",id:"firewall-24-story-files",level:3},{value:"network (20 story files)",id:"network-20-story-files",level:3},{value:"alerts (2 story files)",id:"alerts-2-story-files",level:3},{value:"services (20 story files)",id:"services-20-story-files",level:3},{value:"wireless and router-discovery",id:"wireless-and-router-discovery",level:3},{value:"12. Story Writing Patterns",id:"12-story-writing-patterns",level:2},{value:"Meta Configuration",id:"meta-configuration",level:3},{value:"Story Export Pattern",id:"story-export-pattern",level:3},{value:"Mandatory Story Variants",id:"mandatory-story-variants",level:3},{value:"Actions",id:"actions",level:3},{value:"13. Code Coverage Expectations",id:"13-code-coverage-expectations",level:2},{value:"14. CI Integration",id:"14-ci-integration",level:2},{value:"Running Tests Locally",id:"running-tests-locally",level:3},{value:"Storybook Build Verification",id:"storybook-build-verification",level:3},{value:"Cross-References",id:"cross-references",level:2}];function h(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"testing-and-storybook",children:"Testing and Storybook"})}),"\n",(0,r.jsxs)(s.p,{children:["This document covers the testing strategy and Storybook documentation practices across the ",(0,r.jsx)(s.code,{children:"libs/features/"})," modules."]}),"\n",(0,r.jsx)(s.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"#1-testing-strategy-overview",children:"Testing Strategy Overview"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"#2-test-file-inventory",children:"Test File Inventory"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"#3-unit-test-patterns",children:"Unit Test Patterns"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"#4-component-test-patterns",children:"Component Test Patterns"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"#5-xstate-machine-testing",children:"XState Machine Testing"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"#6-accessibility-testing",children:"Accessibility Testing"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"#7-platform-presenter-testing",children:"Platform Presenter Testing"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"#8-hook-testing-patterns",children:"Hook Testing Patterns"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"#9-integration-test-patterns",children:"Integration Test Patterns"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"#10-storybook-setup-and-configuration",children:"Storybook Setup and Configuration"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"#11-story-file-inventory",children:"Story File Inventory"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"#12-story-writing-patterns",children:"Story Writing Patterns"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"#13-code-coverage-expectations",children:"Code Coverage Expectations"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"#14-ci-integration",children:"CI Integration"})}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"1-testing-strategy-overview",children:"1. Testing Strategy Overview"}),"\n",(0,r.jsx)(s.p,{children:"NasNetConnect follows the testing trophy model: a heavy base of unit tests, a solid layer of component tests, and targeted integration/E2E tests."}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Layer"}),(0,r.jsx)(s.th,{children:"Tool"}),(0,r.jsx)(s.th,{children:"Scope"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Unit tests"}),(0,r.jsx)(s.td,{children:"Vitest"}),(0,r.jsx)(s.td,{children:"Pure functions, schemas, utilities, XState machines"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Component tests"}),(0,r.jsx)(s.td,{children:"Vitest + React Testing Library"}),(0,r.jsx)(s.td,{children:"Individual components, hooks, rendering"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Accessibility tests"}),(0,r.jsx)(s.td,{children:"Vitest + vitest-axe + axe-core"}),(0,r.jsx)(s.td,{children:"WCAG AAA compliance, semantic HTML"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Platform presenter tests"}),(0,r.jsxs)(s.td,{children:["Vitest + ",(0,r.jsx)(s.code,{children:"usePlatform"})," mock"]}),(0,r.jsx)(s.td,{children:"Mobile vs Desktop rendering branches"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Integration tests"}),(0,r.jsx)(s.td,{children:"Vitest + Apollo MockProvider"}),(0,r.jsx)(s.td,{children:"Full component tree with mocked GraphQL"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Performance tests"}),(0,r.jsx)(s.td,{children:"Vitest"}),(0,r.jsx)(s.td,{children:"Render performance benchmarks"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"E2E tests"}),(0,r.jsx)(s.td,{children:"Playwright"}),(0,r.jsx)(s.td,{children:"Multi-browser full-stack flows"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Go unit tests"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"go test"})}),(0,r.jsx)(s.td,{children:"Backend services, parsers, adapters"})]})]})]}),"\n",(0,r.jsxs)(s.p,{children:["All frontend test files use Vitest (",(0,r.jsx)(s.code,{children:"vitest"})," package), not Jest. Vitest provides native ESM support and is 4x faster. Test files are co-located with the source files they test."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"2-test-file-inventory",children:"2. Test File Inventory"}),"\n",(0,r.jsxs)(s.p,{children:["The following table lists all test files found across ",(0,r.jsx)(s.code,{children:"libs/features/"}),":"]}),"\n",(0,r.jsx)(s.h3,{id:"dashboard",children:"dashboard"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Test File"}),(0,r.jsx)(s.th,{children:"Type"}),(0,r.jsx)(s.th,{children:"What It Tests"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/logs/LogViewer.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"LogViewer rendering and filtering"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ResourceGauges/CircularGauge.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Circular gauge rendering and props"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/BandwidthChart/utils.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"Chart utility functions"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/BandwidthChart/BandwidthChart.perf.test.tsx"})}),(0,r.jsx)(s.td,{children:"Performance"}),(0,r.jsx)(s.td,{children:"Render performance benchmark"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/BandwidthChart/useBandwidthHistory.test.tsx"})}),(0,r.jsx)(s.td,{children:"Hook"}),(0,r.jsx)(s.td,{children:"Bandwidth history data hook"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/InterfaceGrid/useInterfaces.test.tsx"})}),(0,r.jsx)(s.td,{children:"Hook"}),(0,r.jsx)(s.td,{children:"Interface list data hook"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/RecentLogs/RecentLogs.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"RecentLogs widget rendering"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/RecentLogs/useLogStream.test.tsx"})}),(0,r.jsx)(s.td,{children:"Hook"}),(0,r.jsx)(s.td,{children:"Log streaming hook"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ResourceGauges/useResourceMetrics.test.ts"})}),(0,r.jsx)(s.td,{children:"Hook"}),(0,r.jsx)(s.td,{children:"Resource metrics data hook"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/router-health-summary-card/health-utils.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"Health calculation utilities"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/pages/DashboardPage.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"DashboardPage integration"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/stores/chart-preferences.store.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"Zustand chart preferences store"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"components/ConnectedDevices/ConnectedDevices.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Connected devices widget"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"components/ConnectedDevices/ConnectedDevices.a11y.test.tsx"})}),(0,r.jsx)(s.td,{children:"Accessibility"}),(0,r.jsx)(s.td,{children:"WCAG AAA compliance for all states"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"hooks/useConnectedDevices.test.tsx"})}),(0,r.jsx)(s.td,{children:"Hook"}),(0,r.jsx)(s.td,{children:"Connected devices data hook"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"diagnostics",children:"diagnostics"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Test File"}),(0,r.jsx)(s.th,{children:"Type"}),(0,r.jsx)(s.th,{children:"What It Tests"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/DnsLookupTool/dnsLookup.utils.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"DNS lookup utility functions"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/DnsLookupTool/dnsLookup.schema.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"DNS lookup Zod schema"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/DnsLookupTool/DnsLookupTool.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"DNS lookup tool rendering"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/DnsLookupTool/useDnsLookup.test.tsx"})}),(0,r.jsx)(s.td,{children:"Hook"}),(0,r.jsx)(s.td,{children:"DNS lookup hook"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/PingTool/ping.utils.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"Ping utility functions"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/PingTool/ping.schema.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"Ping Zod schema"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/PingTool/PingTool.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"PingTool rendering"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/PingTool/PingStatistics.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Statistics display"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/PingTool/LatencyGraph.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Latency graph rendering"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/PingTool/usePing.test.ts"})}),(0,r.jsx)(s.td,{children:"Hook"}),(0,r.jsx)(s.td,{children:"Ping execution hook"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/TracerouteTool/traceroute.schema.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"Traceroute Zod schema"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/TracerouteTool/TracerouteTool.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Traceroute tool rendering"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/TroubleshootWizard/StepAnnouncer.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"ARIA announcer behavior"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/TroubleshootWizard/WizardSummary.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Summary rendering"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/DeviceScan/DeviceDetailPanel.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Device detail panel"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/DeviceScan/DeviceDiscoveryTable.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Device table rendering"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/DeviceScan/useDeviceScan.test.tsx"})}),(0,r.jsx)(s.td,{children:"Hook"}),(0,r.jsx)(s.td,{children:"Device scan hook"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/RouteLookupTool/routeLookup.schema.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"Route lookup schema"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/services/diagnostic-executor.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"Diagnostic step execution"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/services/fix-applicator.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"Fix application service"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/utils/network-detection.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"Network detection utilities"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/utils/isp-detection.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"ISP detection utilities"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/hooks/useTraceroute.test.tsx"})}),(0,r.jsx)(s.td,{children:"Hook"}),(0,r.jsx)(s.td,{children:"Traceroute hook"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/machines/ping-machine.test.ts"})}),(0,r.jsx)(s.td,{children:"XState"}),(0,r.jsx)(s.td,{children:"Ping machine state transitions"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"network",children:"network"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Test File"}),(0,r.jsx)(s.th,{children:"Type"}),(0,r.jsx)(s.th,{children:"What It Tests"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/dhcp/utils/pool-calculator.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"DHCP pool calculation"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/dns/utils/dns-utils.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"DNS utility functions"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/dns/schemas/dns-settings.schema.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"DNS settings Zod schema"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/dns/schemas/dns-static-entry.schema.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"DNS static entry schema"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/dns/components/dns-settings-form/DnsSettingsForm.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"DNS form rendering"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/dns/pages/DnsPage.integration.test.tsx"})}),(0,r.jsx)(s.td,{children:"Integration"}),(0,r.jsx)(s.td,{children:"DNS page with mocked GraphQL"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ip-address/validation.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"IP address validation"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ip-address/IPAddressList/IPAddressList.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"IP address list"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/interface-list/InterfaceList.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Interface list rendering"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/interface-list/BatchConfirmDialog.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Batch confirm dialog"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/interface-edit/InterfaceEditForm.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Interface edit form"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/bridges/components/bridge-list/BridgeList.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Bridge list rendering"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/bridges/components/bridge-port-diagram/BridgePortDiagram.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Port diagram rendering"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/wan/components/wan-configuration/DhcpClientForm.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"DHCP client form"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/wan/components/wan-configuration/PppoeWizard.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"PPPoE configuration wizard"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/wan/components/wan-configuration/HealthCheckForm.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"WAN health check form"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/wan/components/wan-configuration/LteModemForm.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"LTE modem form"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/vlans/schemas/vlan.schema.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"VLAN Zod schema"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/vlans/components/vlan-list/VlanList.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"VLAN list rendering"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"firewall",children:"firewall"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Test File"}),(0,r.jsx)(s.th,{children:"Type"}),(0,r.jsx)(s.th,{children:"What It Tests"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/FilterRulesTable.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Filter rules table"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/AddServiceDialog.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Add service dialog"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/hooks/use-rule-navigation.test.ts"})}),(0,r.jsx)(s.td,{children:"Hook"}),(0,r.jsx)(s.td,{children:"Rule navigation hook"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/pages/ServicePortsPage.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Service ports page"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/pages/RateLimitingPage.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Rate limiting page"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/services/__tests__/counterHistoryStorage.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"Counter history storage"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"alerts",children:"alerts"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Test File"}),(0,r.jsx)(s.th,{children:"Type"}),(0,r.jsx)(s.th,{children:"What It Tests"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/InAppNotificationPreferences.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Notification preferences"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/EmailChannelFormDesktop.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Email channel form (desktop)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/EmailChannelForm.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Email channel form (shared)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/alert-templates/AlertTemplateApplyDialog.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Template apply dialog"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/alert-templates/AlertTemplateVariableInputForm.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Variable input form"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/QuietHoursConfig/useQuietHoursConfig.test.ts"})}),(0,r.jsx)(s.td,{children:"Hook"}),(0,r.jsx)(s.td,{children:"Quiet hours config hook"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/QuietHoursConfig/QuietHoursConfig.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Quiet hours config UI"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/QuietHoursConfig/TimezoneSelector.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Timezone selector"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/schemas/alert-rule.schema.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"Alert rule Zod schema"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/schemas/alert-rule-template.schema.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"Alert rule template schema"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/schemas/email-config.schema.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"Email config schema"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/hooks/usePushoverUsage.test.tsx"})}),(0,r.jsx)(s.td,{children:"Hook"}),(0,r.jsx)(s.td,{children:"Pushover usage hook"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"services",children:"services"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Test File"}),(0,r.jsx)(s.th,{children:"Type"}),(0,r.jsx)(s.th,{children:"What It Tests"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/PortRegistryView.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Port registry view"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ChangelogModal.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Changelog modal"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/StopDependentsDialog.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Stop dependents dialog"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ServiceLogViewer/ServiceLogViewer.integration.test.tsx"})}),(0,r.jsx)(s.td,{children:"Integration"}),(0,r.jsx)(s.td,{children:"Log viewer with mock API"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/DiagnosticsPanel/DiagnosticsPanel.integration.test.tsx"})}),(0,r.jsx)(s.td,{children:"Integration"}),(0,r.jsx)(s.td,{children:"Diagnostics panel with mock API"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/storage/StorageSettings.a11y.test.tsx"})}),(0,r.jsx)(s.td,{children:"Accessibility"}),(0,r.jsx)(s.td,{children:"WCAG AAA for storage settings"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ServiceConfigForm/fields/TextField.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Text field component"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ServiceConfigForm/fields/TextArea.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Text area component"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ServiceConfigForm/fields/PasswordField.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Password field component"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ServiceConfigForm/fields/NumberField.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Number field component"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ServiceConfigForm/ServiceConfigForm.platform.test.tsx"})}),(0,r.jsx)(s.td,{children:"Platform"}),(0,r.jsx)(s.td,{children:"Mobile/Desktop presenter switching"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/pages/ServiceDetailPage.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Service detail page"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/pages/ServicesPage.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Services list page"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/pages/DeviceRoutingPage.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Device routing page"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/hooks/useServiceAlertToasts.test.ts"})}),(0,r.jsx)(s.td,{children:"Hook"}),(0,r.jsx)(s.td,{children:"Service alert toasts hook"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"logs-wireless-router-discovery",children:"logs, wireless, router-discovery"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Test File"}),(0,r.jsx)(s.th,{children:"Type"}),(0,r.jsx)(s.th,{children:"What It Tests"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"logs/src/actions/logActionRegistry.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"Log action registry"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"logs/src/correlation/useLogCorrelation.test.ts"})}),(0,r.jsx)(s.td,{children:"Hook"}),(0,r.jsx)(s.td,{children:"Log correlation hook"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"logs/src/bookmarks/useLogBookmarks.test.ts"})}),(0,r.jsx)(s.td,{children:"Hook"}),(0,r.jsx)(s.td,{children:"Log bookmarks hook"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"logs/src/cache/logCache.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"Log cache implementation"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"wireless/src/data/wirelessOptions.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"Wireless option data"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"router-discovery/src/services/scanService.test.ts"})}),(0,r.jsx)(s.td,{children:"Unit"}),(0,r.jsx)(s.td,{children:"Network scan service"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"router-discovery/src/components/NetworkScanner.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Network scanner UI"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"router-discovery/src/components/ManualRouterEntry.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Manual entry form"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"router-discovery/src/components/CredentialDialog.test.tsx"})}),(0,r.jsx)(s.td,{children:"Component"}),(0,r.jsx)(s.td,{children:"Credential dialog"})]})]})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"3-unit-test-patterns",children:"3. Unit Test Patterns"}),"\n",(0,r.jsx)(s.p,{children:"Unit tests target pure functions: schema validators, utility functions, and data transformations. They use no React rendering."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"// Example: libs/features/diagnostics/src/utils/network-detection.test.ts\n\nimport { describe, it, expect } from 'vitest';\nimport { detectNetworkType } from './network-detection';\n\ndescribe('detectNetworkType', () => {\n  it('returns LTE when interface name starts with lte', () => {\n    expect(detectNetworkType('lte1-1')).toBe('lte');\n  });\n\n  it('returns PPPOE when interface is pppoe-out', () => {\n    expect(detectNetworkType('pppoe-out1')).toBe('pppoe');\n  });\n});\n"})}),"\n",(0,r.jsx)(s.h3,{id:"schema-tests",children:"Schema Tests"}),"\n",(0,r.jsx)(s.p,{children:"All Zod schemas have dedicated test files:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"// Example: libs/features/network/src/dns/schemas/dns-settings.schema.test.ts\n\nimport { describe, it, expect } from 'vitest';\nimport { dnsSettingsSchema } from './dns-settings.schema';\n\ndescribe('dnsSettingsSchema', () => {\n  it('accepts valid DNS server IPs', () => {\n    const result = dnsSettingsSchema.safeParse({\n      servers: ['8.8.8.8', '1.1.1.1'],\n      cacheMaxTtl: 3600,\n    });\n    expect(result.success).toBe(true);\n  });\n\n  it('rejects invalid IP addresses', () => {\n    const result = dnsSettingsSchema.safeParse({ servers: ['not-an-ip'] });\n    expect(result.success).toBe(false);\n  });\n});\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"4-component-test-patterns",children:"4. Component Test Patterns"}),"\n",(0,r.jsxs)(s.p,{children:["Component tests use React Testing Library with Vitest. Mocking follows the ",(0,r.jsx)(s.code,{children:"vi.mock()"})," pattern:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"// Example: libs/features/dashboard/components/ConnectedDevices/ConnectedDevices.test.tsx\n\nimport { render, screen } from '@testing-library/react';\nimport { vi, describe, it, expect, beforeEach } from 'vitest';\nimport { ConnectedDevices } from './ConnectedDevices';\nimport * as connectedDevicesHook from '../../hooks/useConnectedDevices';\n\nvi.mock('../../hooks/useConnectedDevices');\n\ndescribe('ConnectedDevices', () => {\n  beforeEach(() => {\n    vi.clearAllMocks();\n  });\n\n  it('shows device count when populated', () => {\n    vi.mocked(connectedDevicesHook.useConnectedDevices).mockReturnValue({\n      devices: mockDevices,\n      totalCount: 3,\n      isLoading: false,\n      error: null,\n      isDhcpEnabled: true,\n      isEmpty: false,\n      lastUpdated: new Date(),\n    });\n\n    render(<ConnectedDevices routerIp=\"192.168.88.1\" />);\n    expect(screen.getByText('3 devices online')).toBeInTheDocument();\n  });\n});\n"})}),"\n",(0,r.jsx)(s.h3,{id:"queryclient-wrapper",children:"QueryClient Wrapper"}),"\n",(0,r.jsx)(s.p,{children:"When components use React Query or Apollo, wrap with a test provider:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:'const createWrapper = () => {\n  const queryClient = new QueryClient({\n    defaultOptions: { queries: { retry: false } },\n  });\n  return ({ children }: { children: React.ReactNode }) => (\n    <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>\n  );\n};\n\nrender(<ConnectedDevices routerIp="192.168.88.1" />, { wrapper: createWrapper() });\n'})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"5-xstate-machine-testing",children:"5. XState Machine Testing"}),"\n",(0,r.jsxs)(s.p,{children:["XState machines are tested with ",(0,r.jsx)(s.code,{children:"createActor"})," from the ",(0,r.jsx)(s.code,{children:"xstate"})," package. Tests verify state transitions and context updates."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"// libs/features/diagnostics/src/machines/ping-machine.test.ts\n\nimport { describe, it, expect } from 'vitest';\nimport { createActor } from 'xstate';\nimport { pingMachine } from './ping-machine';\n\ndescribe('ping-machine', () => {\n  it('starts in idle state', () => {\n    const actor = createActor(pingMachine);\n    actor.start();\n    expect(actor.getSnapshot().value).toBe('idle');\n  });\n\n  it('transitions idle \u2192 running on START', () => {\n    const actor = createActor(pingMachine);\n    actor.start();\n    actor.send({ type: 'START', target: '8.8.8.8', count: 5 });\n    expect(actor.getSnapshot().value).toBe('running');\n    expect(actor.getSnapshot().context.target).toBe('8.8.8.8');\n  });\n\n  it('completes after count results received', () => {\n    const actor = createActor(pingMachine);\n    actor.start();\n    actor.send({ type: 'START', target: '8.8.8.8', count: 2 });\n    actor.send({ type: 'RESULT_RECEIVED', result: mockResult(1, 12.5) });\n    actor.send({ type: 'RESULT_RECEIVED', result: mockResult(2, 14.2) });\n    expect(actor.getSnapshot().value).toBe('complete');\n  });\n\n  it('handles timeout results in statistics', () => {\n    const actor = createActor(pingMachine);\n    actor.start();\n    actor.send({ type: 'START', target: '8.8.8.8', count: 4 });\n    actor.send({ type: 'RESULT_RECEIVED', result: mockResult(1, 12.5) });\n    actor.send({ type: 'RESULT_RECEIVED', result: mockResult(2, null, 'timeout') });\n    actor.send({ type: 'RESULT_RECEIVED', result: mockResult(3, 14.2) });\n    actor.send({ type: 'RESULT_RECEIVED', result: mockResult(4, null, 'timeout') });\n\n    const { statistics } = actor.getSnapshot().context;\n    expect(statistics.lossPercent).toBe(50);\n  });\n});\n"})}),"\n",(0,r.jsx)(s.h3,{id:"machine-testing-checklist",children:"Machine Testing Checklist"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Test initial state value"}),"\n",(0,r.jsx)(s.li,{children:"Test every explicit event transition"}),"\n",(0,r.jsx)(s.li,{children:"Test guard conditions (both branches)"}),"\n",(0,r.jsx)(s.li,{children:"Test context updates on transition"}),"\n",(0,r.jsx)(s.li,{children:"Test terminal state invariants (context preserved)"}),"\n",(0,r.jsx)(s.li,{children:"Test restart from all terminal states"}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"6-accessibility-testing",children:"6. Accessibility Testing"}),"\n",(0,r.jsxs)(s.p,{children:["Accessibility tests use ",(0,r.jsx)(s.code,{children:"vitest-axe"})," which wraps ",(0,r.jsx)(s.code,{children:"axe-core"}),". All feature components that render user-visible UI must pass WCAG AAA (7:1 contrast ratio)."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"// libs/features/dashboard/components/ConnectedDevices/ConnectedDevices.a11y.test.tsx\n\nimport { axe } from 'vitest-axe';\nimport { render } from '@testing-library/react';\n\ndescribe('ConnectedDevices Accessibility', () => {\n  it('has no violations in populated state', async () => {\n    mockReturnValue({ devices: mockDevices, isLoading: false, ... });\n    const { container } = render(<ConnectedDevices routerIp=\"192.168.88.1\" />, { wrapper });\n\n    // @ts-expect-error - vitest-axe extends expect\n    expect(await axe(container)).toHaveNoViolations();\n  });\n\n  it('has no violations in loading state', async () => { ... });\n  it('has no violations in empty state', async () => { ... });\n  it('has no violations in error state', async () => { ... });\n  it('has no violations in DHCP-disabled warning state', async () => { ... });\n\n  it('enforces WCAG AAA color contrast (7:1)', async () => {\n    const { container } = render(<ConnectedDevices routerIp=\"192.168.88.1\" />, { wrapper });\n    // @ts-expect-error\n    const results = await axe(container, {\n      rules: { 'color-contrast-enhanced': { enabled: true } }, // WCAG AAA\n    });\n    expect(results).toHaveNoViolations();\n  });\n});\n"})}),"\n",(0,r.jsx)(s.h3,{id:"accessibility-assertions",children:"Accessibility Assertions"}),"\n",(0,r.jsx)(s.p,{children:"Beyond axe, tests verify semantic structure:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"// role semantics\nexpect(container.querySelector('[role=\"region\"]')).toBeInTheDocument();\nexpect(container.querySelector('[role=\"alert\"]')).toBeInTheDocument();\n\n// heading hierarchy\nexpect(heading.tagName).toMatch(/H[1-6]/);\n\n// ARIA attributes\nexpect(menuButton).toHaveAttribute('aria-haspopup', 'menu');\nexpect(menuButton).toHaveAttribute('aria-expanded', 'false');\n\n// Screen reader text\nexpect(getByText('3 devices online')).toBeInTheDocument(); // aria-live region\nexpect(container.textContent).toContain('5 minutes ago');  // stale data\n\n// Focus management\nbuttons.forEach((button) => {\n  const classes = button.className;\n  expect(classes.includes('focus') || classes.includes('ring') || classes.includes('outline')).toBe(true);\n});\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"7-platform-presenter-testing",children:"7. Platform Presenter Testing"}),"\n",(0,r.jsxs)(s.p,{children:["Platform presenter tests verify that the correct presenter (Mobile/Desktop) is rendered based on the ",(0,r.jsx)(s.code,{children:"usePlatform"})," hook return value."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"// libs/features/services/src/components/ServiceConfigForm/ServiceConfigForm.platform.test.tsx\n\nimport { usePlatform } from '@nasnet/ui/layouts';\n\nvi.mock('@nasnet/ui/layouts', () => ({ usePlatform: vi.fn() }));\nconst mockUsePlatform = vi.mocked(usePlatform);\n\ndescribe('ServiceConfigForm - Platform Presenters', () => {\n  it('uses mobile presenter on mobile platform', () => {\n    mockUsePlatform.mockReturnValue('mobile');\n    const { container } = render(<ServiceConfigForm formState={formState} />);\n    // Mobile: simple centered div\n    expect(container.querySelector('.p-4.text-center')).toBeInTheDocument();\n  });\n\n  it('uses desktop presenter on desktop platform', () => {\n    mockUsePlatform.mockReturnValue('desktop');\n    render(<ServiceConfigForm formState={formState} />);\n    // Desktop: Card component with border class\n    expect(document.querySelector('[class*=\"border\"]')).toBeInTheDocument();\n  });\n\n  it('uses desktop presenter on tablet platform', () => {\n    mockUsePlatform.mockReturnValue('tablet');\n    render(<ServiceConfigForm formState={formState} />);\n    expect(document.querySelector('[class*=\"border\"]')).toBeInTheDocument();\n  });\n\n  it('switches presenter when platform changes', () => {\n    mockUsePlatform.mockReturnValue('mobile');\n    const { rerender } = render(<ServiceConfigForm formState={formState} />);\n    expect(container.querySelector('.p-4')).toBeInTheDocument();\n\n    mockUsePlatform.mockReturnValue('desktop');\n    rerender(<ServiceConfigForm formState={formState} />);\n    expect(document.querySelector('[class*=\"border\"]')).toBeInTheDocument();\n  });\n});\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Pattern:"})," Always test mobile, desktop, and tablet. Verify that tablet maps to the desktop presenter (two-presenter model: mobile and desktop/tablet)."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"8-hook-testing-patterns",children:"8. Hook Testing Patterns"}),"\n",(0,r.jsxs)(s.p,{children:["Hook tests use ",(0,r.jsx)(s.code,{children:"renderHook"})," from React Testing Library or test hooks implicitly through component tests."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"// Example: libs/features/dashboard/src/components/ResourceGauges/useResourceMetrics.test.ts\n\nimport { renderHook } from '@testing-library/react';\nimport { useResourceMetrics } from './useResourceMetrics';\n\ndescribe('useResourceMetrics', () => {\n  it('returns zero values initially', () => {\n    const { result } = renderHook(() => useResourceMetrics({ routerId: 'r1' }));\n    expect(result.current.cpu).toBe(0);\n    expect(result.current.memory).toBe(0);\n  });\n\n  it('calculates memory percentage correctly', () => {\n    mockApolloData({ totalMemory: 128, usedMemory: 64 });\n    const { result } = renderHook(() => useResourceMetrics({ routerId: 'r1' }));\n    expect(result.current.memoryPercent).toBe(50);\n  });\n});\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"9-integration-test-patterns",children:"9. Integration Test Patterns"}),"\n",(0,r.jsx)(s.p,{children:"Integration tests render full component trees with mocked GraphQL responses:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"// libs/features/services/src/components/ServiceLogViewer/ServiceLogViewer.integration.test.tsx\n\nimport { MockedProvider } from '@apollo/client/testing';\nimport { render, screen, waitFor } from '@testing-library/react';\nimport { ServiceLogViewer } from './ServiceLogViewer';\nimport { GET_SERVICE_LOGS } from '@nasnet/api-client/queries';\n\nconst mocks = [\n  {\n    request: { query: GET_SERVICE_LOGS, variables: { serviceId: 'tor-1', limit: 100 } },\n    result: {\n      data: {\n        serviceLogs: {\n          entries: [{ timestamp: '2024-01-01T00:00:00Z', level: 'INFO', message: 'Bootstrapped 100%' }],\n        },\n      },\n    },\n  },\n];\n\ndescribe('ServiceLogViewer Integration', () => {\n  it('renders log entries from GraphQL', async () => {\n    render(\n      <MockedProvider mocks={mocks} addTypename={false}>\n        <ServiceLogViewer serviceId=\"tor-1\" routerId=\"r1\" />\n      </MockedProvider>\n    );\n\n    await waitFor(() => {\n      expect(screen.getByText('Bootstrapped 100%')).toBeInTheDocument();\n    });\n  });\n});\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"10-storybook-setup-and-configuration",children:"10. Storybook Setup and Configuration"}),"\n",(0,r.jsx)(s.p,{children:"NasNetConnect uses Storybook 10.2.7 (ESM-only). Three Storybook instances serve different library layers:"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Instance"}),(0,r.jsx)(s.th,{children:"Command"}),(0,r.jsx)(s.th,{children:"Port"}),(0,r.jsx)(s.th,{children:"Stories Source"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"connect app"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"npx nx run connect:storybook"})}),(0,r.jsx)(s.td,{children:"6006"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"apps/connect/src/**/*.stories.tsx"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"ui-primitives"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"npx nx run ui-primitives:storybook"})}),(0,r.jsx)(s.td,{children:"4400"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"libs/ui/primitives/src/**/*.stories.tsx"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"ui-patterns"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"npx nx run ui-patterns:storybook"})}),(0,r.jsx)(s.td,{children:"4401"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"libs/ui/patterns/src/**/*.stories.tsx"})})]})]})]}),"\n",(0,r.jsxs)(s.p,{children:["Feature module stories are only served by the ",(0,r.jsx)(s.code,{children:"connect"})," app Storybook instance. The features in ",(0,r.jsx)(s.code,{children:"libs/features/"})," do not have their own ",(0,r.jsx)(s.code,{children:".storybook/"})," directories."]}),"\n",(0,r.jsx)(s.h3,{id:"connect-app-storybook-config",children:"Connect App Storybook Config"}),"\n",(0,r.jsxs)(s.p,{children:["File: ",(0,r.jsx)(s.code,{children:"apps/connect/.storybook/main.ts"})]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"const config: StorybookConfig = {\n  stories: ['../src/**/*.stories.@(js|jsx|ts|tsx|mdx)'],\n  addons: [\n    '@storybook/addon-a11y',   // accessibility panel\n    '@storybook/addon-docs',   // autodocs\n  ],\n  framework: { name: '@storybook/react-vite', options: {} },\n};\n"})}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"viteFinal"})," function maps 18 path aliases (all ",(0,r.jsx)(s.code,{children:"@nasnet/*"})," imports) to their source directories so stories can import feature components directly."]}),"\n",(0,r.jsx)(s.h3,{id:"preview-decorators",children:"Preview Decorators"}),"\n",(0,r.jsxs)(s.p,{children:["File: ",(0,r.jsx)(s.code,{children:"apps/connect/.storybook/preview.tsx"})]}),"\n",(0,r.jsx)(s.p,{children:"Every story is automatically wrapped with the full provider tree:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"decorators: [\n  (Story, context) => (\n    <MockApolloProvider>              // mocked GraphQL\n      <QueryClientProvider client={queryClient}>  // React Query\n        <I18nProvider>\n          <PlatformProvider>          // usePlatform hook\n            <AnimationProvider>\n              <ToastProvider>\n                <div className={isDark ? 'dark' : ''}>\n                  <div className=\"p-4 min-h-screen bg-background text-foreground\">\n                    <Story />\n                  </div>\n                </div>\n              </ToastProvider>\n            </AnimationProvider>\n          </PlatformProvider>\n        </I18nProvider>\n      </QueryClientProvider>\n    </MockApolloProvider>\n  ),\n]\n"})}),"\n",(0,r.jsx)(s.h3,{id:"viewport-presets",children:"Viewport Presets"}),"\n",(0,r.jsx)(s.p,{children:"Three viewport presets match the platform breakpoints:"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Preset"}),(0,r.jsx)(s.th,{children:"Width"}),(0,r.jsx)(s.th,{children:"Height"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Mobile"}),(0,r.jsx)(s.td,{children:"375px"}),(0,r.jsx)(s.td,{children:"667px"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Tablet"}),(0,r.jsx)(s.td,{children:"768px"}),(0,r.jsx)(s.td,{children:"1024px"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Desktop"}),(0,r.jsx)(s.td,{children:"1280px"}),(0,r.jsx)(s.td,{children:"800px"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"global-theme-toggle",children:"Global Theme Toggle"}),"\n",(0,r.jsxs)(s.p,{children:["A global theme toolbar control switches between light and dark mode. Dark mode applies the ",(0,r.jsx)(s.code,{children:"dark"})," class to the root wrapper, which activates CSS variable overrides."]}),"\n",(0,r.jsx)(s.h3,{id:"accessibility-configuration",children:"Accessibility Configuration"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"a11y: {\n  config: {\n    rules: [\n      { id: 'color-contrast-enhanced', enabled: true }, // WCAG AAA 7:1\n    ],\n  },\n},\n"})}),"\n",(0,r.jsx)(s.p,{children:"The a11y addon runs axe-core on every story in the Accessibility panel."}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"11-story-file-inventory",children:"11. Story File Inventory"}),"\n",(0,r.jsxs)(s.p,{children:["The following table lists all story files in ",(0,r.jsx)(s.code,{children:"libs/features/"}),":"]}),"\n",(0,r.jsx)(s.h3,{id:"dashboard-14-story-files",children:"dashboard (14 story files)"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Story File"}),(0,r.jsx)(s.th,{children:"Component"}),(0,r.jsx)(s.th,{children:"Stories"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/pages/DashboardPage.stories.tsx"})}),(0,r.jsx)(s.td,{children:"DashboardPage"}),(0,r.jsx)(s.td,{children:"Default, Loading, Error"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/BandwidthChart/BandwidthDataTable.stories.tsx"})}),(0,r.jsx)(s.td,{children:"BandwidthDataTable"}),(0,r.jsx)(s.td,{children:"Default, Empty, Loading"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/BandwidthChart/CustomTooltip.stories.tsx"})}),(0,r.jsx)(s.td,{children:"CustomTooltip"}),(0,r.jsx)(s.td,{children:"Default, WithUnit"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/BandwidthChart/TimeRangeSelector.stories.tsx"})}),(0,r.jsx)(s.td,{children:"TimeRangeSelector"}),(0,r.jsx)(s.td,{children:"Default, AllRanges"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/cached-data-badge/CachedDataBadge.stories.tsx"})}),(0,r.jsx)(s.td,{children:"CachedDataBadge"}),(0,r.jsx)(s.td,{children:"Default, Stale, Fresh"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/InterfaceGrid/InterfaceStatusCard.stories.tsx"})}),(0,r.jsx)(s.td,{children:"InterfaceStatusCard"}),(0,r.jsx)(s.td,{children:"Online, Offline, Loading"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/RecentLogs/LogEntryItem.stories.tsx"})}),(0,r.jsx)(s.td,{children:"LogEntryItem"}),(0,r.jsx)(s.td,{children:"Info, Warning, Error, Debug"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ResourceGauges/CPUBreakdownModal.stories.tsx"})}),(0,r.jsx)(s.td,{children:"CPUBreakdownModal"}),(0,r.jsx)(s.td,{children:"Default, HighUsage"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ResourceGauges/CircularGauge.stories.tsx"})}),(0,r.jsx)(s.td,{children:"CircularGauge"}),(0,r.jsx)(s.td,{children:"Variants, Sizes, Colors"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ResourceGauges/ResourceGauges.stories.tsx"})}),(0,r.jsx)(s.td,{children:"ResourceGauges"}),(0,r.jsx)(s.td,{children:"Default, Loading"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/dashboard-layout/DashboardLayout.stories.tsx"})}),(0,r.jsx)(s.td,{children:"DashboardLayout"}),(0,r.jsx)(s.td,{children:"Desktop, Mobile, Tablet"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/router-health-summary-card/RouterHealthSummaryCard.stories.tsx"})}),(0,r.jsx)(s.td,{children:"RouterHealthSummaryCard"}),(0,r.jsx)(s.td,{children:"Healthy, Degraded, Critical"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"components/ConnectedDevices/ConnectedDevices.stories.tsx"})}),(0,r.jsx)(s.td,{children:"ConnectedDevices"}),(0,r.jsx)(s.td,{children:"Default, Empty, Loading"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"diagnostics-14-story-files",children:"diagnostics (14 story files)"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Story File"}),(0,r.jsx)(s.th,{children:"Component"}),(0,r.jsx)(s.th,{children:"Stories"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/DeviceScan/ScanSummary.stories.tsx"})}),(0,r.jsx)(s.td,{children:"ScanSummary"}),(0,r.jsx)(s.td,{children:"Default, InProgress, Complete"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/DnsLookupTool/DnsLookupTool.stories.tsx"})}),(0,r.jsx)(s.td,{children:"DnsLookupTool"}),(0,r.jsx)(s.td,{children:"Default, Mobile, Desktop"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/DnsLookupTool/DnsResults.stories.tsx"})}),(0,r.jsx)(s.td,{children:"DnsResults"}),(0,r.jsx)(s.td,{children:"A, AAAA, MX, Error"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/DnsLookupTool/DnsServerComparison.stories.tsx"})}),(0,r.jsx)(s.td,{children:"DnsServerComparison"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/DnsLookupTool/DnsError.stories.tsx"})}),(0,r.jsx)(s.td,{children:"DnsError"}),(0,r.jsx)(s.td,{children:"Timeout, NotFound, ServerError"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/PingTool/LatencyGraph.stories.tsx"})}),(0,r.jsx)(s.td,{children:"LatencyGraph"}),(0,r.jsx)(s.td,{children:"Default, WithLoss, Empty"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/PingTool/PingResults.stories.tsx"})}),(0,r.jsx)(s.td,{children:"PingResults"}),(0,r.jsx)(s.td,{children:"Responding, Timeout, Mixed"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/PingTool/PingStatistics.stories.tsx"})}),(0,r.jsx)(s.td,{children:"PingStatistics"}),(0,r.jsx)(s.td,{children:"Default, HighLoss"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/PingTool/PingTool.stories.tsx"})}),(0,r.jsx)(s.td,{children:"PingTool"}),(0,r.jsx)(s.td,{children:"Idle, Running, Complete"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/TracerouteTool/TracerouteHopsList.stories.tsx"})}),(0,r.jsx)(s.td,{children:"TracerouteHopsList"}),(0,r.jsx)(s.td,{children:"Default, WithTimeouts"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/TracerouteTool/TracerouteTool.stories.tsx"})}),(0,r.jsx)(s.td,{children:"TracerouteTool"}),(0,r.jsx)(s.td,{children:"Default, Running, Complete"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/TroubleshootWizard/StepAnnouncer.stories.tsx"})}),(0,r.jsx)(s.td,{children:"StepAnnouncer"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/TroubleshootWizard/WizardSummary.stories.tsx"})}),(0,r.jsx)(s.td,{children:"WizardSummary"}),(0,r.jsx)(s.td,{children:"AllPass, WithFailures"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/TroubleshootWizard/TroubleshootWizard.stories.tsx"})}),(0,r.jsx)(s.td,{children:"TroubleshootWizard"}),(0,r.jsx)(s.td,{children:"Default, AutoStart, WithISPInfo, WithCloseHandler, FullConfig"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"firewall-24-story-files",children:"firewall (24 story files)"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Story File"}),(0,r.jsx)(s.th,{children:"Component"}),(0,r.jsx)(s.th,{children:"Stories"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/AddressListEntryForm.stories.tsx"})}),(0,r.jsx)(s.td,{children:"AddressListEntryForm"}),(0,r.jsx)(s.td,{children:"Default, EditMode"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/AddressListExportDialog.stories.tsx"})}),(0,r.jsx)(s.td,{children:"AddressListExportDialog"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/AddressListImportDialog.stories.tsx"})}),(0,r.jsx)(s.td,{children:"AddressListImportDialog"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/MasqueradeQuickDialog.stories.tsx"})}),(0,r.jsx)(s.td,{children:"MasqueradeQuickDialog"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/PortForwardWizardDialog.stories.tsx"})}),(0,r.jsx)(s.td,{children:"PortForwardWizardDialog"}),(0,r.jsx)(s.td,{children:"Default, Editing"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/PortKnockLogViewer.stories.tsx"})}),(0,r.jsx)(s.td,{children:"PortKnockLogViewer"}),(0,r.jsx)(s.td,{children:"Default, WithEntries"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/PortKnockSequenceManager.stories.tsx"})}),(0,r.jsx)(s.td,{children:"PortKnockSequenceManager"}),(0,r.jsx)(s.td,{children:"Default, Mobile"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ReadOnlyNotice.stories.tsx"})}),(0,r.jsx)(s.td,{children:"ReadOnlyNotice"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/AddToAddressListContextMenu.stories.tsx"})}),(0,r.jsx)(s.td,{children:"AddToAddressListContextMenu"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ConnectionsPage.stories.tsx"})}),(0,r.jsx)(s.td,{children:"ConnectionsPage"}),(0,r.jsx)(s.td,{children:"Default, Loading"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/FilterRulesTable.stories.tsx"})}),(0,r.jsx)(s.td,{children:"FilterRulesTable"}),(0,r.jsx)(s.td,{children:"Default, Desktop, Mobile"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ServicesStatus.stories.tsx"})}),(0,r.jsx)(s.td,{children:"ServicesStatus"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/FirewallDetailTabs.stories.tsx"})}),(0,r.jsx)(s.td,{children:"FirewallDetailTabs"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/FirewallQuickStats.stories.tsx"})}),(0,r.jsx)(s.td,{children:"FirewallQuickStats"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/RecentFirewallActivity.stories.tsx"})}),(0,r.jsx)(s.td,{children:"RecentFirewallActivity"}),(0,r.jsx)(s.td,{children:"Default, Empty"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/RoutingTable.stories.tsx"})}),(0,r.jsx)(s.td,{children:"RoutingTable"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/FirewallStatusHero.stories.tsx"})}),(0,r.jsx)(s.td,{children:"FirewallStatusHero"}),(0,r.jsx)(s.td,{children:"Active, Warning"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ImportTemplateDialog.stories.tsx"})}),(0,r.jsx)(s.td,{children:"ImportTemplateDialog"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/NATRulesTable.stories.tsx"})}),(0,r.jsx)(s.td,{children:"NATRulesTable"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/PortKnockingPage.stories.tsx"})}),(0,r.jsx)(s.td,{children:"PortKnockingPage"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/pages/AddressListView.stories.tsx"})}),(0,r.jsx)(s.td,{children:"AddressListView"}),(0,r.jsx)(s.td,{children:"Default, Loading"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/pages/NATRulesPage.stories.tsx"})}),(0,r.jsx)(s.td,{children:"NATRulesPage"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/pages/ManglePage.stories.tsx"})}),(0,r.jsx)(s.td,{children:"ManglePage"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/pages/RateLimitingPage.stories.tsx"})}),(0,r.jsx)(s.td,{children:"RateLimitingPage"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/pages/FirewallLogsPage.stories.tsx"})}),(0,r.jsx)(s.td,{children:"FirewallLogsPage"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/pages/ServicePortsPage.stories.tsx"})}),(0,r.jsx)(s.td,{children:"ServicePortsPage"}),(0,r.jsx)(s.td,{children:"Default"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"network-20-story-files",children:"network (20 story files)"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Story File"}),(0,r.jsx)(s.th,{children:"Component"}),(0,r.jsx)(s.th,{children:"Stories"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/interface-stats/interface-comparison.stories.tsx"})}),(0,r.jsx)(s.td,{children:"InterfaceComparison"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/interface-stats/bandwidth-chart.stories.tsx"})}),(0,r.jsx)(s.td,{children:"BandwidthChart"}),(0,r.jsx)(s.td,{children:"Default, Loading"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/interface-stats/error-rate-indicator.stories.tsx"})}),(0,r.jsx)(s.td,{children:"ErrorRateIndicator"}),(0,r.jsx)(s.td,{children:"Default, High"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/pages/DnsDiagnosticsPage.stories.tsx"})}),(0,r.jsx)(s.td,{children:"DnsDiagnosticsPage"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/pages/InterfaceListPage.stories.tsx"})}),(0,r.jsx)(s.td,{children:"InterfaceListPage"}),(0,r.jsx)(s.td,{children:"Default, Loading"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/pages/RoutesPage.stories.tsx"})}),(0,r.jsx)(s.td,{children:"RoutesPage"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/interface-detail/InterfaceDetail.stories.tsx"})}),(0,r.jsx)(s.td,{children:"InterfaceDetail"}),(0,r.jsx)(s.td,{children:"Desktop, Mobile"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/interface-detail/InterfaceDetailDesktop.stories.tsx"})}),(0,r.jsx)(s.td,{children:"InterfaceDetailDesktop"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/interface-list/InterfaceList.stories.tsx"})}),(0,r.jsx)(s.td,{children:"InterfaceList"}),(0,r.jsx)(s.td,{children:"Default, Loading"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/bridges/components/bridge-detail/BridgeDetail.stories.tsx"})}),(0,r.jsx)(s.td,{children:"BridgeDetail"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/bridges/components/bridge-port-diagram/AvailableInterfaces.stories.tsx"})}),(0,r.jsx)(s.td,{children:"AvailableInterfaces"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/bridges/components/bridge-port-diagram/PortNode.stories.tsx"})}),(0,r.jsx)(s.td,{children:"PortNode"}),(0,r.jsx)(s.td,{children:"Default, Selected"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/bridges/components/bridge-stp-status/StpPortTable.stories.tsx"})}),(0,r.jsx)(s.td,{children:"StpPortTable"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ip-address/IPAddressForm/IPAddressForm.stories.tsx"})}),(0,r.jsx)(s.td,{children:"IPAddressForm"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/dhcp/pages/dhcp-server-detail.stories.tsx"})}),(0,r.jsx)(s.td,{children:"DHCPServerDetail"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/dhcp/pages/dhcp-server-list.stories.tsx"})}),(0,r.jsx)(s.td,{children:"DHCPServerList"}),(0,r.jsx)(s.td,{children:"Default, Loading"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/wan/pages/WANManagementPage.stories.tsx"})}),(0,r.jsx)(s.td,{children:"WANManagementPage"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/wan/components/wan-card/WANCard.stories.tsx"})}),(0,r.jsx)(s.td,{children:"WANCard"}),(0,r.jsx)(s.td,{children:"Connected, Disconnected"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/wan/components/wan-history/ConnectionEventCard.stories.tsx"})}),(0,r.jsx)(s.td,{children:"ConnectionEventCard"}),(0,r.jsx)(s.td,{children:"Connected, Failed"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/wan/components/wan-history/ConnectionHistoryTable.stories.tsx"})}),(0,r.jsx)(s.td,{children:"ConnectionHistoryTable"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/wan/components/wan-overview/WANOverviewList.stories.tsx"})}),(0,r.jsx)(s.td,{children:"WANOverviewList"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/wan/components/wan-configuration/LteModemForm.stories.tsx"})}),(0,r.jsx)(s.td,{children:"LteModemForm"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/wan/components/wan-configuration/PppoeWizard.stories.tsx"})}),(0,r.jsx)(s.td,{children:"PppoeWizard"}),(0,r.jsx)(s.td,{children:"Default"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"alerts-2-story-files",children:"alerts (2 story files)"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Story File"}),(0,r.jsx)(s.th,{children:"Component"}),(0,r.jsx)(s.th,{children:"Stories"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/pages/NotificationSettingsPage.stories.tsx"})}),(0,r.jsx)(s.td,{children:"NotificationSettingsPage"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/QueuedAlertBadge.stories.tsx"})}),(0,r.jsx)(s.td,{children:"QueuedAlertBadge"}),(0,r.jsx)(s.td,{children:"Default, WithCount"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"services-20-story-files",children:"services (20 story files)"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Story File"}),(0,r.jsx)(s.th,{children:"Component"}),(0,r.jsx)(s.th,{children:"Stories"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/VLANPoolConfig.stories.tsx"})}),(0,r.jsx)(s.td,{children:"VLANPoolConfig"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ServiceConfigForm/fields/ArrayField.stories.tsx"})}),(0,r.jsx)(s.td,{children:"ArrayField"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ServiceConfigForm/fields/TextField.stories.tsx"})}),(0,r.jsx)(s.td,{children:"TextField"}),(0,r.jsx)(s.td,{children:"Default, Error"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ServiceConfigForm/fields/NumberField.stories.tsx"})}),(0,r.jsx)(s.td,{children:"NumberField"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ServiceConfigForm/fields/Select.stories.tsx"})}),(0,r.jsx)(s.td,{children:"Select"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ServiceConfigForm/fields/MultiSelect.stories.tsx"})}),(0,r.jsx)(s.td,{children:"MultiSelect"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ServiceConfigForm/DynamicField.stories.tsx"})}),(0,r.jsx)(s.td,{children:"DynamicField"}),(0,r.jsx)(s.td,{children:"TextField, NumberField, Select"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ServiceConfigForm/ServiceConfigForm.stories.tsx"})}),(0,r.jsx)(s.td,{children:"ServiceConfigForm"}),(0,r.jsx)(s.td,{children:"Default, Loading, Error"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ChangelogModal.stories.tsx"})}),(0,r.jsx)(s.td,{children:"ChangelogModal"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/DiagnosticsPanel/DiagnosticsPanel.stories.tsx"})}),(0,r.jsx)(s.td,{children:"DiagnosticsPanel"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/GatewayStatusCard.stories.tsx"})}),(0,r.jsx)(s.td,{children:"GatewayStatusCard"}),(0,r.jsx)(s.td,{children:"Connected, Disconnected"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/PortRegistryView.stories.tsx"})}),(0,r.jsx)(s.td,{children:"PortRegistryView"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ResourceLimitsForm.stories.tsx"})}),(0,r.jsx)(s.td,{children:"ResourceLimitsForm"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/ServiceAlertsTab.stories.tsx"})}),(0,r.jsx)(s.td,{children:"ServiceAlertsTab"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/UpdateAllPanel.stories.tsx"})}),(0,r.jsx)(s.td,{children:"UpdateAllPanel"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/service-traffic/ServiceTrafficPanel.stories.tsx"})}),(0,r.jsx)(s.td,{children:"ServiceTrafficPanel"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/storage/StorageDisconnectBanner.stories.tsx"})}),(0,r.jsx)(s.td,{children:"StorageDisconnectBanner"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/storage/StorageUsageBar.stories.tsx"})}),(0,r.jsx)(s.td,{children:"StorageUsageBar"}),(0,r.jsx)(s.td,{children:"Default, Full"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/storage/StorageSettings.stories.tsx"})}),(0,r.jsx)(s.td,{children:"StorageSettings"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/components/templates/TemplateFilters.stories.tsx"})}),(0,r.jsx)(s.td,{children:"TemplateFilters"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/pages/DeviceRoutingPage.stories.tsx"})}),(0,r.jsx)(s.td,{children:"DeviceRoutingPage"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/pages/ServiceDetailPage.stories.tsx"})}),(0,r.jsx)(s.td,{children:"ServiceDetailPage"}),(0,r.jsx)(s.td,{children:"Default, Loading"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/pages/ServicesPage.stories.tsx"})}),(0,r.jsx)(s.td,{children:"ServicesPage"}),(0,r.jsx)(s.td,{children:"Default, Loading"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"src/pages/VLANSettingsPage.stories.tsx"})}),(0,r.jsx)(s.td,{children:"VLANSettingsPage"}),(0,r.jsx)(s.td,{children:"Default"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"wireless-and-router-discovery",children:"wireless and router-discovery"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Story File"}),(0,r.jsx)(s.th,{children:"Component"}),(0,r.jsx)(s.th,{children:"Stories"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"wireless/src/components/SecurityLevelBadge.stories.tsx"})}),(0,r.jsx)(s.td,{children:"SecurityLevelBadge"}),(0,r.jsx)(s.td,{children:"WPA3, WPA2, Open"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"wireless/src/components/SecurityProfileSection.stories.tsx"})}),(0,r.jsx)(s.td,{children:"SecurityProfileSection"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"wireless/src/components/WirelessInterfaceDetail.stories.tsx"})}),(0,r.jsx)(s.td,{children:"WirelessInterfaceDetail"}),(0,r.jsx)(s.td,{children:"Default"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"router-discovery/src/components/ManualRouterEntry.stories.tsx"})}),(0,r.jsx)(s.td,{children:"ManualRouterEntry"}),(0,r.jsx)(s.td,{children:"Default, Error"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"router-discovery/src/components/RouterCard.stories.tsx"})}),(0,r.jsx)(s.td,{children:"RouterCard"}),(0,r.jsx)(s.td,{children:"Default, Connecting"})]})]})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"12-story-writing-patterns",children:"12. Story Writing Patterns"}),"\n",(0,r.jsx)(s.h3,{id:"meta-configuration",children:"Meta Configuration"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"import type { Meta, StoryObj } from '@storybook/react';\nimport { TroubleshootWizard } from './TroubleshootWizard';\n\nconst meta: Meta<typeof TroubleshootWizard> = {\n  title: 'Features/Diagnostics/TroubleshootWizard',\n  component: TroubleshootWizard,\n  tags: ['autodocs'],           // enable automatic docs page\n  parameters: {\n    layout: 'fullscreen',       // or 'centered' for compact components\n    docs: {\n      description: {\n        component: 'Describe the component and its platform behavior.',\n      },\n    },\n  },\n  argTypes: {\n    routerId: { control: 'text' },\n    autoStart: { control: 'boolean' },\n    onClose: { action: 'onClose' },  // action logger\n  },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof TroubleshootWizard>;\n"})}),"\n",(0,r.jsx)(s.h3,{id:"story-export-pattern",children:"Story Export Pattern"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"export const Default: Story = {\n  args: {\n    routerId: 'router-00000000-0000-0000-0000-000000000001',\n    autoStart: false,\n  },\n  parameters: {\n    docs: { description: { story: 'Description of this specific story.' } },\n    viewport: { defaultViewport: 'desktop' },\n  },\n};\n\nexport const MobileView: Story = {\n  ...Default,\n  parameters: {\n    viewport: { defaultViewport: 'mobile' },\n  },\n};\n"})}),"\n",(0,r.jsx)(s.h3,{id:"mandatory-story-variants",children:"Mandatory Story Variants"}),"\n",(0,r.jsx)(s.p,{children:"Every component should have stories for:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Default"})," - normal operating state with realistic data"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Loading"})," - skeleton or spinner state"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Empty"})," - zero data state"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Error"})," - error state with message"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Mobile"})," - ",(0,r.jsx)(s.code,{children:"viewport: { defaultViewport: 'mobile' }"})," (for platform-adaptive components)"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"actions",children:"Actions"}),"\n",(0,r.jsxs)(s.p,{children:["Use ",(0,r.jsx)(s.code,{children:"{ action: 'handlerName' }"})," in argTypes for all callback props. This logs calls to the Storybook Actions panel without needing manual ",(0,r.jsx)(s.code,{children:"vi.fn()"}),"."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"argTypes: {\n  onClose: { action: 'onClose' },\n  onSuccess: { action: 'onSuccess' },\n  onChange: { action: 'onChange' },\n}\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"13-code-coverage-expectations",children:"13. Code Coverage Expectations"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Feature Module"}),(0,r.jsx)(s.th,{children:"Target Coverage"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Schema validators"}),(0,r.jsx)(s.td,{children:"90%+ line coverage"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Utility functions"}),(0,r.jsx)(s.td,{children:"85%+ line coverage"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"XState machines"}),(0,r.jsx)(s.td,{children:"80%+ state/transition coverage"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Component rendering"}),(0,r.jsx)(s.td,{children:"70%+ branch coverage"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Accessibility"}),(0,r.jsx)(s.td,{children:"100% of user-facing components"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Platform presenter"}),(0,r.jsx)(s.td,{children:"100% of presenter-switching components"})]})]})]}),"\n",(0,r.jsxs)(s.p,{children:["Coverage is collected via Vitest's built-in coverage reporter (",(0,r.jsx)(s.code,{children:"@vitest/coverage-v8"}),")."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"14-ci-integration",children:"14. CI Integration"}),"\n",(0,r.jsx)(s.p,{children:"Tests run in the following order in CI:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-yaml",children:"# .github/workflows/main.yml\n- Lint (ESLint + Biome)\n- TypeScript typecheck\n- Unit + Component tests (Vitest)\n- Accessibility checks (Pa11y CLI)\n- Build (Vite)\n- E2E tests (Playwright, all browsers)\n- Go tests (go test ./...)\n- Go lint (golangci-lint, scoped)\n- Docker build + size check\n"})}),"\n",(0,r.jsxs)(s.p,{children:["The accessibility check (",(0,r.jsx)(s.code,{children:"Pa11y"}),") is a ",(0,r.jsx)(s.strong,{children:"blocking gate"})," - any WCAG violation fails the build. This runs against a production build of the connect app."]}),"\n",(0,r.jsx)(s.h3,{id:"running-tests-locally",children:"Running Tests Locally"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# All frontend tests\nnpx nx run-many -t test\n\n# Specific feature module\nnpx nx test features-diagnostics\n\n# With coverage\nnpx nx test features-network --coverage\n\n# Watch mode\nnpx nx test connect --watch\n\n# Go tests\nnpx nx run backend:test\ngo test ./internal/specific_package/...   # scoped (preferred)\n\n# E2E tests\nnpx nx e2e connect-e2e\nnpx nx e2e connect-e2e --headed           # with browser UI\n"})}),"\n",(0,r.jsx)(s.h3,{id:"storybook-build-verification",children:"Storybook Build Verification"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Build all Storybooks (verifies stories don't break)\nnpx nx run-many -t build-storybook\n\n# Health check\nnpx storybook doctor\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"cross-references",children:"Cross-References"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Component architecture (3-layer model): ",(0,r.jsx)(s.code,{children:"Docs/design/ux-design/6-component-library.md"})]}),"\n",(0,r.jsxs)(s.li,{children:["Platform presenter implementation: ",(0,r.jsx)(s.code,{children:"Docs/design/PLATFORM_PRESENTER_GUIDE.md"})]}),"\n",(0,r.jsxs)(s.li,{children:["Accessibility requirements (WCAG AAA): ",(0,r.jsx)(s.code,{children:"Docs/design/ux-design/8-responsive-design-accessibility.md"})]}),"\n",(0,r.jsxs)(s.li,{children:["Backend testing strategy: ",(0,r.jsx)(s.code,{children:"Docs/architecture/implementation-patterns/testing-strategy-patterns.md"})]}),"\n",(0,r.jsxs)(s.li,{children:["Feature module overview: ",(0,r.jsx)(s.code,{children:"libs/features/docs/intro.md"})]}),"\n"]})]})}function a(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},71184:(e,s,t)=>{t.d(s,{R:()=>c,x:()=>d});var n=t(14041);const r={},i=n.createContext(r);function c(e){const s=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);