// Code generated by ent, DO NOT EDIT.

package ent

import (
	"backend/generated/ent/internal"
	"backend/generated/ent/predicate"
	"backend/generated/ent/routercapability"
	"context"
	"errors"
	"fmt"
	"time"

	"entgo.io/ent/dialect/sql"
	"entgo.io/ent/dialect/sql/sqlgraph"
	"entgo.io/ent/dialect/sql/sqljson"
	"entgo.io/ent/schema/field"
)

// RouterCapabilityUpdate is the builder for updating RouterCapability entities.
type RouterCapabilityUpdate struct {
	config
	hooks    []Hook
	mutation *RouterCapabilityMutation
}

// Where appends a list predicates to the RouterCapabilityUpdate builder.
func (_u *RouterCapabilityUpdate) Where(ps ...predicate.RouterCapability) *RouterCapabilityUpdate {
	_u.mutation.Where(ps...)
	return _u
}

// SetArchitecture sets the "architecture" field.
func (_u *RouterCapabilityUpdate) SetArchitecture(v string) *RouterCapabilityUpdate {
	_u.mutation.SetArchitecture(v)
	return _u
}

// SetNillableArchitecture sets the "architecture" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableArchitecture(v *string) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetArchitecture(*v)
	}
	return _u
}

// SetModel sets the "model" field.
func (_u *RouterCapabilityUpdate) SetModel(v string) *RouterCapabilityUpdate {
	_u.mutation.SetModel(v)
	return _u
}

// SetNillableModel sets the "model" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableModel(v *string) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetModel(*v)
	}
	return _u
}

// ClearModel clears the value of the "model" field.
func (_u *RouterCapabilityUpdate) ClearModel() *RouterCapabilityUpdate {
	_u.mutation.ClearModel()
	return _u
}

// SetBoardName sets the "board_name" field.
func (_u *RouterCapabilityUpdate) SetBoardName(v string) *RouterCapabilityUpdate {
	_u.mutation.SetBoardName(v)
	return _u
}

// SetNillableBoardName sets the "board_name" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableBoardName(v *string) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetBoardName(*v)
	}
	return _u
}

// ClearBoardName clears the value of the "board_name" field.
func (_u *RouterCapabilityUpdate) ClearBoardName() *RouterCapabilityUpdate {
	_u.mutation.ClearBoardName()
	return _u
}

// SetTotalMemory sets the "total_memory" field.
func (_u *RouterCapabilityUpdate) SetTotalMemory(v int64) *RouterCapabilityUpdate {
	_u.mutation.ResetTotalMemory()
	_u.mutation.SetTotalMemory(v)
	return _u
}

// SetNillableTotalMemory sets the "total_memory" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableTotalMemory(v *int64) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetTotalMemory(*v)
	}
	return _u
}

// AddTotalMemory adds value to the "total_memory" field.
func (_u *RouterCapabilityUpdate) AddTotalMemory(v int64) *RouterCapabilityUpdate {
	_u.mutation.AddTotalMemory(v)
	return _u
}

// SetAvailableStorage sets the "available_storage" field.
func (_u *RouterCapabilityUpdate) SetAvailableStorage(v int64) *RouterCapabilityUpdate {
	_u.mutation.ResetAvailableStorage()
	_u.mutation.SetAvailableStorage(v)
	return _u
}

// SetNillableAvailableStorage sets the "available_storage" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableAvailableStorage(v *int64) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetAvailableStorage(*v)
	}
	return _u
}

// AddAvailableStorage adds value to the "available_storage" field.
func (_u *RouterCapabilityUpdate) AddAvailableStorage(v int64) *RouterCapabilityUpdate {
	_u.mutation.AddAvailableStorage(v)
	return _u
}

// SetCPUCount sets the "cpu_count" field.
func (_u *RouterCapabilityUpdate) SetCPUCount(v int) *RouterCapabilityUpdate {
	_u.mutation.ResetCPUCount()
	_u.mutation.SetCPUCount(v)
	return _u
}

// SetNillableCPUCount sets the "cpu_count" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableCPUCount(v *int) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetCPUCount(*v)
	}
	return _u
}

// AddCPUCount adds value to the "cpu_count" field.
func (_u *RouterCapabilityUpdate) AddCPUCount(v int) *RouterCapabilityUpdate {
	_u.mutation.AddCPUCount(v)
	return _u
}

// SetHasWirelessChip sets the "has_wireless_chip" field.
func (_u *RouterCapabilityUpdate) SetHasWirelessChip(v bool) *RouterCapabilityUpdate {
	_u.mutation.SetHasWirelessChip(v)
	return _u
}

// SetNillableHasWirelessChip sets the "has_wireless_chip" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableHasWirelessChip(v *bool) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetHasWirelessChip(*v)
	}
	return _u
}

// SetHasLteModule sets the "has_lte_module" field.
func (_u *RouterCapabilityUpdate) SetHasLteModule(v bool) *RouterCapabilityUpdate {
	_u.mutation.SetHasLteModule(v)
	return _u
}

// SetNillableHasLteModule sets the "has_lte_module" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableHasLteModule(v *bool) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetHasLteModule(*v)
	}
	return _u
}

// SetVersionRaw sets the "version_raw" field.
func (_u *RouterCapabilityUpdate) SetVersionRaw(v string) *RouterCapabilityUpdate {
	_u.mutation.SetVersionRaw(v)
	return _u
}

// SetNillableVersionRaw sets the "version_raw" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableVersionRaw(v *string) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetVersionRaw(*v)
	}
	return _u
}

// SetVersionMajor sets the "version_major" field.
func (_u *RouterCapabilityUpdate) SetVersionMajor(v int) *RouterCapabilityUpdate {
	_u.mutation.ResetVersionMajor()
	_u.mutation.SetVersionMajor(v)
	return _u
}

// SetNillableVersionMajor sets the "version_major" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableVersionMajor(v *int) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetVersionMajor(*v)
	}
	return _u
}

// AddVersionMajor adds value to the "version_major" field.
func (_u *RouterCapabilityUpdate) AddVersionMajor(v int) *RouterCapabilityUpdate {
	_u.mutation.AddVersionMajor(v)
	return _u
}

// SetVersionMinor sets the "version_minor" field.
func (_u *RouterCapabilityUpdate) SetVersionMinor(v int) *RouterCapabilityUpdate {
	_u.mutation.ResetVersionMinor()
	_u.mutation.SetVersionMinor(v)
	return _u
}

// SetNillableVersionMinor sets the "version_minor" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableVersionMinor(v *int) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetVersionMinor(*v)
	}
	return _u
}

// AddVersionMinor adds value to the "version_minor" field.
func (_u *RouterCapabilityUpdate) AddVersionMinor(v int) *RouterCapabilityUpdate {
	_u.mutation.AddVersionMinor(v)
	return _u
}

// SetVersionPatch sets the "version_patch" field.
func (_u *RouterCapabilityUpdate) SetVersionPatch(v int) *RouterCapabilityUpdate {
	_u.mutation.ResetVersionPatch()
	_u.mutation.SetVersionPatch(v)
	return _u
}

// SetNillableVersionPatch sets the "version_patch" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableVersionPatch(v *int) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetVersionPatch(*v)
	}
	return _u
}

// AddVersionPatch adds value to the "version_patch" field.
func (_u *RouterCapabilityUpdate) AddVersionPatch(v int) *RouterCapabilityUpdate {
	_u.mutation.AddVersionPatch(v)
	return _u
}

// SetInstalledPackages sets the "installed_packages" field.
func (_u *RouterCapabilityUpdate) SetInstalledPackages(v []string) *RouterCapabilityUpdate {
	_u.mutation.SetInstalledPackages(v)
	return _u
}

// AppendInstalledPackages appends value to the "installed_packages" field.
func (_u *RouterCapabilityUpdate) AppendInstalledPackages(v []string) *RouterCapabilityUpdate {
	_u.mutation.AppendInstalledPackages(v)
	return _u
}

// SetLicenseLevel sets the "license_level" field.
func (_u *RouterCapabilityUpdate) SetLicenseLevel(v int) *RouterCapabilityUpdate {
	_u.mutation.ResetLicenseLevel()
	_u.mutation.SetLicenseLevel(v)
	return _u
}

// SetNillableLicenseLevel sets the "license_level" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableLicenseLevel(v *int) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetLicenseLevel(*v)
	}
	return _u
}

// AddLicenseLevel adds value to the "license_level" field.
func (_u *RouterCapabilityUpdate) AddLicenseLevel(v int) *RouterCapabilityUpdate {
	_u.mutation.AddLicenseLevel(v)
	return _u
}

// SetUpdateChannel sets the "update_channel" field.
func (_u *RouterCapabilityUpdate) SetUpdateChannel(v string) *RouterCapabilityUpdate {
	_u.mutation.SetUpdateChannel(v)
	return _u
}

// SetNillableUpdateChannel sets the "update_channel" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableUpdateChannel(v *string) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetUpdateChannel(*v)
	}
	return _u
}

// ClearUpdateChannel clears the value of the "update_channel" field.
func (_u *RouterCapabilityUpdate) ClearUpdateChannel() *RouterCapabilityUpdate {
	_u.mutation.ClearUpdateChannel()
	return _u
}

// SetContainerPackageInstalled sets the "container_package_installed" field.
func (_u *RouterCapabilityUpdate) SetContainerPackageInstalled(v bool) *RouterCapabilityUpdate {
	_u.mutation.SetContainerPackageInstalled(v)
	return _u
}

// SetNillableContainerPackageInstalled sets the "container_package_installed" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableContainerPackageInstalled(v *bool) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetContainerPackageInstalled(*v)
	}
	return _u
}

// SetContainerEnabled sets the "container_enabled" field.
func (_u *RouterCapabilityUpdate) SetContainerEnabled(v bool) *RouterCapabilityUpdate {
	_u.mutation.SetContainerEnabled(v)
	return _u
}

// SetNillableContainerEnabled sets the "container_enabled" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableContainerEnabled(v *bool) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetContainerEnabled(*v)
	}
	return _u
}

// SetContainerRegistryConfigured sets the "container_registry_configured" field.
func (_u *RouterCapabilityUpdate) SetContainerRegistryConfigured(v bool) *RouterCapabilityUpdate {
	_u.mutation.SetContainerRegistryConfigured(v)
	return _u
}

// SetNillableContainerRegistryConfigured sets the "container_registry_configured" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableContainerRegistryConfigured(v *bool) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetContainerRegistryConfigured(*v)
	}
	return _u
}

// SetContainerStorageAvailable sets the "container_storage_available" field.
func (_u *RouterCapabilityUpdate) SetContainerStorageAvailable(v int64) *RouterCapabilityUpdate {
	_u.mutation.ResetContainerStorageAvailable()
	_u.mutation.SetContainerStorageAvailable(v)
	return _u
}

// SetNillableContainerStorageAvailable sets the "container_storage_available" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableContainerStorageAvailable(v *int64) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetContainerStorageAvailable(*v)
	}
	return _u
}

// AddContainerStorageAvailable adds value to the "container_storage_available" field.
func (_u *RouterCapabilityUpdate) AddContainerStorageAvailable(v int64) *RouterCapabilityUpdate {
	_u.mutation.AddContainerStorageAvailable(v)
	return _u
}

// SetSupportsNetworkNamespace sets the "supports_network_namespace" field.
func (_u *RouterCapabilityUpdate) SetSupportsNetworkNamespace(v bool) *RouterCapabilityUpdate {
	_u.mutation.SetSupportsNetworkNamespace(v)
	return _u
}

// SetNillableSupportsNetworkNamespace sets the "supports_network_namespace" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableSupportsNetworkNamespace(v *bool) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetSupportsNetworkNamespace(*v)
	}
	return _u
}

// SetMaxContainers sets the "max_containers" field.
func (_u *RouterCapabilityUpdate) SetMaxContainers(v int) *RouterCapabilityUpdate {
	_u.mutation.ResetMaxContainers()
	_u.mutation.SetMaxContainers(v)
	return _u
}

// SetNillableMaxContainers sets the "max_containers" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableMaxContainers(v *int) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetMaxContainers(*v)
	}
	return _u
}

// AddMaxContainers adds value to the "max_containers" field.
func (_u *RouterCapabilityUpdate) AddMaxContainers(v int) *RouterCapabilityUpdate {
	_u.mutation.AddMaxContainers(v)
	return _u
}

// SetCapabilityEntries sets the "capability_entries" field.
func (_u *RouterCapabilityUpdate) SetCapabilityEntries(v map[string]interface{}) *RouterCapabilityUpdate {
	_u.mutation.SetCapabilityEntries(v)
	return _u
}

// SetDetectedAt sets the "detected_at" field.
func (_u *RouterCapabilityUpdate) SetDetectedAt(v time.Time) *RouterCapabilityUpdate {
	_u.mutation.SetDetectedAt(v)
	return _u
}

// SetNillableDetectedAt sets the "detected_at" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableDetectedAt(v *time.Time) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetDetectedAt(*v)
	}
	return _u
}

// SetExpiresAt sets the "expires_at" field.
func (_u *RouterCapabilityUpdate) SetExpiresAt(v time.Time) *RouterCapabilityUpdate {
	_u.mutation.SetExpiresAt(v)
	return _u
}

// SetNillableExpiresAt sets the "expires_at" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableExpiresAt(v *time.Time) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetExpiresAt(*v)
	}
	return _u
}

// SetIsRefreshing sets the "is_refreshing" field.
func (_u *RouterCapabilityUpdate) SetIsRefreshing(v bool) *RouterCapabilityUpdate {
	_u.mutation.SetIsRefreshing(v)
	return _u
}

// SetNillableIsRefreshing sets the "is_refreshing" field if the given value is not nil.
func (_u *RouterCapabilityUpdate) SetNillableIsRefreshing(v *bool) *RouterCapabilityUpdate {
	if v != nil {
		_u.SetIsRefreshing(*v)
	}
	return _u
}

// SetUpdatedAt sets the "updated_at" field.
func (_u *RouterCapabilityUpdate) SetUpdatedAt(v time.Time) *RouterCapabilityUpdate {
	_u.mutation.SetUpdatedAt(v)
	return _u
}

// Mutation returns the RouterCapabilityMutation object of the builder.
func (_u *RouterCapabilityUpdate) Mutation() *RouterCapabilityMutation {
	return _u.mutation
}

// Save executes the query and returns the number of nodes affected by the update operation.
func (_u *RouterCapabilityUpdate) Save(ctx context.Context) (int, error) {
	_u.defaults()
	return withHooks(ctx, _u.sqlSave, _u.mutation, _u.hooks)
}

// SaveX is like Save, but panics if an error occurs.
func (_u *RouterCapabilityUpdate) SaveX(ctx context.Context) int {
	affected, err := _u.Save(ctx)
	if err != nil {
		panic(err)
	}
	return affected
}

// Exec executes the query.
func (_u *RouterCapabilityUpdate) Exec(ctx context.Context) error {
	_, err := _u.Save(ctx)
	return err
}

// ExecX is like Exec, but panics if an error occurs.
func (_u *RouterCapabilityUpdate) ExecX(ctx context.Context) {
	if err := _u.Exec(ctx); err != nil {
		panic(err)
	}
}

// defaults sets the default values of the builder before save.
func (_u *RouterCapabilityUpdate) defaults() {
	if _, ok := _u.mutation.UpdatedAt(); !ok {
		v := routercapability.UpdateDefaultUpdatedAt()
		_u.mutation.SetUpdatedAt(v)
	}
}

// check runs all checks and user-defined validators on the builder.
func (_u *RouterCapabilityUpdate) check() error {
	if v, ok := _u.mutation.Architecture(); ok {
		if err := routercapability.ArchitectureValidator(v); err != nil {
			return &ValidationError{Name: "architecture", err: fmt.Errorf(`ent: validator failed for field "RouterCapability.architecture": %w`, err)}
		}
	}
	if v, ok := _u.mutation.Model(); ok {
		if err := routercapability.ModelValidator(v); err != nil {
			return &ValidationError{Name: "model", err: fmt.Errorf(`ent: validator failed for field "RouterCapability.model": %w`, err)}
		}
	}
	if v, ok := _u.mutation.BoardName(); ok {
		if err := routercapability.BoardNameValidator(v); err != nil {
			return &ValidationError{Name: "board_name", err: fmt.Errorf(`ent: validator failed for field "RouterCapability.board_name": %w`, err)}
		}
	}
	if v, ok := _u.mutation.VersionRaw(); ok {
		if err := routercapability.VersionRawValidator(v); err != nil {
			return &ValidationError{Name: "version_raw", err: fmt.Errorf(`ent: validator failed for field "RouterCapability.version_raw": %w`, err)}
		}
	}
	if v, ok := _u.mutation.LicenseLevel(); ok {
		if err := routercapability.LicenseLevelValidator(v); err != nil {
			return &ValidationError{Name: "license_level", err: fmt.Errorf(`ent: validator failed for field "RouterCapability.license_level": %w`, err)}
		}
	}
	if v, ok := _u.mutation.UpdateChannel(); ok {
		if err := routercapability.UpdateChannelValidator(v); err != nil {
			return &ValidationError{Name: "update_channel", err: fmt.Errorf(`ent: validator failed for field "RouterCapability.update_channel": %w`, err)}
		}
	}
	return nil
}

func (_u *RouterCapabilityUpdate) sqlSave(ctx context.Context) (_node int, err error) {
	if err := _u.check(); err != nil {
		return _node, err
	}
	_spec := sqlgraph.NewUpdateSpec(routercapability.Table, routercapability.Columns, sqlgraph.NewFieldSpec(routercapability.FieldID, field.TypeString))
	if ps := _u.mutation.predicates; len(ps) > 0 {
		_spec.Predicate = func(selector *sql.Selector) {
			for i := range ps {
				ps[i](selector)
			}
		}
	}
	if value, ok := _u.mutation.Architecture(); ok {
		_spec.SetField(routercapability.FieldArchitecture, field.TypeString, value)
	}
	if value, ok := _u.mutation.Model(); ok {
		_spec.SetField(routercapability.FieldModel, field.TypeString, value)
	}
	if _u.mutation.ModelCleared() {
		_spec.ClearField(routercapability.FieldModel, field.TypeString)
	}
	if value, ok := _u.mutation.BoardName(); ok {
		_spec.SetField(routercapability.FieldBoardName, field.TypeString, value)
	}
	if _u.mutation.BoardNameCleared() {
		_spec.ClearField(routercapability.FieldBoardName, field.TypeString)
	}
	if value, ok := _u.mutation.TotalMemory(); ok {
		_spec.SetField(routercapability.FieldTotalMemory, field.TypeInt64, value)
	}
	if value, ok := _u.mutation.AddedTotalMemory(); ok {
		_spec.AddField(routercapability.FieldTotalMemory, field.TypeInt64, value)
	}
	if value, ok := _u.mutation.AvailableStorage(); ok {
		_spec.SetField(routercapability.FieldAvailableStorage, field.TypeInt64, value)
	}
	if value, ok := _u.mutation.AddedAvailableStorage(); ok {
		_spec.AddField(routercapability.FieldAvailableStorage, field.TypeInt64, value)
	}
	if value, ok := _u.mutation.CPUCount(); ok {
		_spec.SetField(routercapability.FieldCPUCount, field.TypeInt, value)
	}
	if value, ok := _u.mutation.AddedCPUCount(); ok {
		_spec.AddField(routercapability.FieldCPUCount, field.TypeInt, value)
	}
	if value, ok := _u.mutation.HasWirelessChip(); ok {
		_spec.SetField(routercapability.FieldHasWirelessChip, field.TypeBool, value)
	}
	if value, ok := _u.mutation.HasLteModule(); ok {
		_spec.SetField(routercapability.FieldHasLteModule, field.TypeBool, value)
	}
	if value, ok := _u.mutation.VersionRaw(); ok {
		_spec.SetField(routercapability.FieldVersionRaw, field.TypeString, value)
	}
	if value, ok := _u.mutation.VersionMajor(); ok {
		_spec.SetField(routercapability.FieldVersionMajor, field.TypeInt, value)
	}
	if value, ok := _u.mutation.AddedVersionMajor(); ok {
		_spec.AddField(routercapability.FieldVersionMajor, field.TypeInt, value)
	}
	if value, ok := _u.mutation.VersionMinor(); ok {
		_spec.SetField(routercapability.FieldVersionMinor, field.TypeInt, value)
	}
	if value, ok := _u.mutation.AddedVersionMinor(); ok {
		_spec.AddField(routercapability.FieldVersionMinor, field.TypeInt, value)
	}
	if value, ok := _u.mutation.VersionPatch(); ok {
		_spec.SetField(routercapability.FieldVersionPatch, field.TypeInt, value)
	}
	if value, ok := _u.mutation.AddedVersionPatch(); ok {
		_spec.AddField(routercapability.FieldVersionPatch, field.TypeInt, value)
	}
	if value, ok := _u.mutation.InstalledPackages(); ok {
		_spec.SetField(routercapability.FieldInstalledPackages, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedInstalledPackages(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, routercapability.FieldInstalledPackages, value)
		})
	}
	if value, ok := _u.mutation.LicenseLevel(); ok {
		_spec.SetField(routercapability.FieldLicenseLevel, field.TypeInt, value)
	}
	if value, ok := _u.mutation.AddedLicenseLevel(); ok {
		_spec.AddField(routercapability.FieldLicenseLevel, field.TypeInt, value)
	}
	if value, ok := _u.mutation.UpdateChannel(); ok {
		_spec.SetField(routercapability.FieldUpdateChannel, field.TypeString, value)
	}
	if _u.mutation.UpdateChannelCleared() {
		_spec.ClearField(routercapability.FieldUpdateChannel, field.TypeString)
	}
	if value, ok := _u.mutation.ContainerPackageInstalled(); ok {
		_spec.SetField(routercapability.FieldContainerPackageInstalled, field.TypeBool, value)
	}
	if value, ok := _u.mutation.ContainerEnabled(); ok {
		_spec.SetField(routercapability.FieldContainerEnabled, field.TypeBool, value)
	}
	if value, ok := _u.mutation.ContainerRegistryConfigured(); ok {
		_spec.SetField(routercapability.FieldContainerRegistryConfigured, field.TypeBool, value)
	}
	if value, ok := _u.mutation.ContainerStorageAvailable(); ok {
		_spec.SetField(routercapability.FieldContainerStorageAvailable, field.TypeInt64, value)
	}
	if value, ok := _u.mutation.AddedContainerStorageAvailable(); ok {
		_spec.AddField(routercapability.FieldContainerStorageAvailable, field.TypeInt64, value)
	}
	if value, ok := _u.mutation.SupportsNetworkNamespace(); ok {
		_spec.SetField(routercapability.FieldSupportsNetworkNamespace, field.TypeBool, value)
	}
	if value, ok := _u.mutation.MaxContainers(); ok {
		_spec.SetField(routercapability.FieldMaxContainers, field.TypeInt, value)
	}
	if value, ok := _u.mutation.AddedMaxContainers(); ok {
		_spec.AddField(routercapability.FieldMaxContainers, field.TypeInt, value)
	}
	if value, ok := _u.mutation.CapabilityEntries(); ok {
		_spec.SetField(routercapability.FieldCapabilityEntries, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.DetectedAt(); ok {
		_spec.SetField(routercapability.FieldDetectedAt, field.TypeTime, value)
	}
	if value, ok := _u.mutation.ExpiresAt(); ok {
		_spec.SetField(routercapability.FieldExpiresAt, field.TypeTime, value)
	}
	if value, ok := _u.mutation.IsRefreshing(); ok {
		_spec.SetField(routercapability.FieldIsRefreshing, field.TypeBool, value)
	}
	if value, ok := _u.mutation.UpdatedAt(); ok {
		_spec.SetField(routercapability.FieldUpdatedAt, field.TypeTime, value)
	}
	_spec.Node.Schema = _u.schemaConfig.RouterCapability
	ctx = internal.NewSchemaConfigContext(ctx, _u.schemaConfig)
	if _node, err = sqlgraph.UpdateNodes(ctx, _u.driver, _spec); err != nil {
		if _, ok := err.(*sqlgraph.NotFoundError); ok {
			err = &NotFoundError{routercapability.Label}
		} else if sqlgraph.IsConstraintError(err) {
			err = &ConstraintError{msg: err.Error(), wrap: err}
		}
		return 0, err
	}
	_u.mutation.done = true
	return _node, nil
}

// RouterCapabilityUpdateOne is the builder for updating a single RouterCapability entity.
type RouterCapabilityUpdateOne struct {
	config
	fields   []string
	hooks    []Hook
	mutation *RouterCapabilityMutation
}

// SetArchitecture sets the "architecture" field.
func (_u *RouterCapabilityUpdateOne) SetArchitecture(v string) *RouterCapabilityUpdateOne {
	_u.mutation.SetArchitecture(v)
	return _u
}

// SetNillableArchitecture sets the "architecture" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableArchitecture(v *string) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetArchitecture(*v)
	}
	return _u
}

// SetModel sets the "model" field.
func (_u *RouterCapabilityUpdateOne) SetModel(v string) *RouterCapabilityUpdateOne {
	_u.mutation.SetModel(v)
	return _u
}

// SetNillableModel sets the "model" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableModel(v *string) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetModel(*v)
	}
	return _u
}

// ClearModel clears the value of the "model" field.
func (_u *RouterCapabilityUpdateOne) ClearModel() *RouterCapabilityUpdateOne {
	_u.mutation.ClearModel()
	return _u
}

// SetBoardName sets the "board_name" field.
func (_u *RouterCapabilityUpdateOne) SetBoardName(v string) *RouterCapabilityUpdateOne {
	_u.mutation.SetBoardName(v)
	return _u
}

// SetNillableBoardName sets the "board_name" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableBoardName(v *string) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetBoardName(*v)
	}
	return _u
}

// ClearBoardName clears the value of the "board_name" field.
func (_u *RouterCapabilityUpdateOne) ClearBoardName() *RouterCapabilityUpdateOne {
	_u.mutation.ClearBoardName()
	return _u
}

// SetTotalMemory sets the "total_memory" field.
func (_u *RouterCapabilityUpdateOne) SetTotalMemory(v int64) *RouterCapabilityUpdateOne {
	_u.mutation.ResetTotalMemory()
	_u.mutation.SetTotalMemory(v)
	return _u
}

// SetNillableTotalMemory sets the "total_memory" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableTotalMemory(v *int64) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetTotalMemory(*v)
	}
	return _u
}

// AddTotalMemory adds value to the "total_memory" field.
func (_u *RouterCapabilityUpdateOne) AddTotalMemory(v int64) *RouterCapabilityUpdateOne {
	_u.mutation.AddTotalMemory(v)
	return _u
}

// SetAvailableStorage sets the "available_storage" field.
func (_u *RouterCapabilityUpdateOne) SetAvailableStorage(v int64) *RouterCapabilityUpdateOne {
	_u.mutation.ResetAvailableStorage()
	_u.mutation.SetAvailableStorage(v)
	return _u
}

// SetNillableAvailableStorage sets the "available_storage" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableAvailableStorage(v *int64) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetAvailableStorage(*v)
	}
	return _u
}

// AddAvailableStorage adds value to the "available_storage" field.
func (_u *RouterCapabilityUpdateOne) AddAvailableStorage(v int64) *RouterCapabilityUpdateOne {
	_u.mutation.AddAvailableStorage(v)
	return _u
}

// SetCPUCount sets the "cpu_count" field.
func (_u *RouterCapabilityUpdateOne) SetCPUCount(v int) *RouterCapabilityUpdateOne {
	_u.mutation.ResetCPUCount()
	_u.mutation.SetCPUCount(v)
	return _u
}

// SetNillableCPUCount sets the "cpu_count" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableCPUCount(v *int) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetCPUCount(*v)
	}
	return _u
}

// AddCPUCount adds value to the "cpu_count" field.
func (_u *RouterCapabilityUpdateOne) AddCPUCount(v int) *RouterCapabilityUpdateOne {
	_u.mutation.AddCPUCount(v)
	return _u
}

// SetHasWirelessChip sets the "has_wireless_chip" field.
func (_u *RouterCapabilityUpdateOne) SetHasWirelessChip(v bool) *RouterCapabilityUpdateOne {
	_u.mutation.SetHasWirelessChip(v)
	return _u
}

// SetNillableHasWirelessChip sets the "has_wireless_chip" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableHasWirelessChip(v *bool) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetHasWirelessChip(*v)
	}
	return _u
}

// SetHasLteModule sets the "has_lte_module" field.
func (_u *RouterCapabilityUpdateOne) SetHasLteModule(v bool) *RouterCapabilityUpdateOne {
	_u.mutation.SetHasLteModule(v)
	return _u
}

// SetNillableHasLteModule sets the "has_lte_module" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableHasLteModule(v *bool) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetHasLteModule(*v)
	}
	return _u
}

// SetVersionRaw sets the "version_raw" field.
func (_u *RouterCapabilityUpdateOne) SetVersionRaw(v string) *RouterCapabilityUpdateOne {
	_u.mutation.SetVersionRaw(v)
	return _u
}

// SetNillableVersionRaw sets the "version_raw" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableVersionRaw(v *string) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetVersionRaw(*v)
	}
	return _u
}

// SetVersionMajor sets the "version_major" field.
func (_u *RouterCapabilityUpdateOne) SetVersionMajor(v int) *RouterCapabilityUpdateOne {
	_u.mutation.ResetVersionMajor()
	_u.mutation.SetVersionMajor(v)
	return _u
}

// SetNillableVersionMajor sets the "version_major" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableVersionMajor(v *int) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetVersionMajor(*v)
	}
	return _u
}

// AddVersionMajor adds value to the "version_major" field.
func (_u *RouterCapabilityUpdateOne) AddVersionMajor(v int) *RouterCapabilityUpdateOne {
	_u.mutation.AddVersionMajor(v)
	return _u
}

// SetVersionMinor sets the "version_minor" field.
func (_u *RouterCapabilityUpdateOne) SetVersionMinor(v int) *RouterCapabilityUpdateOne {
	_u.mutation.ResetVersionMinor()
	_u.mutation.SetVersionMinor(v)
	return _u
}

// SetNillableVersionMinor sets the "version_minor" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableVersionMinor(v *int) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetVersionMinor(*v)
	}
	return _u
}

// AddVersionMinor adds value to the "version_minor" field.
func (_u *RouterCapabilityUpdateOne) AddVersionMinor(v int) *RouterCapabilityUpdateOne {
	_u.mutation.AddVersionMinor(v)
	return _u
}

// SetVersionPatch sets the "version_patch" field.
func (_u *RouterCapabilityUpdateOne) SetVersionPatch(v int) *RouterCapabilityUpdateOne {
	_u.mutation.ResetVersionPatch()
	_u.mutation.SetVersionPatch(v)
	return _u
}

// SetNillableVersionPatch sets the "version_patch" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableVersionPatch(v *int) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetVersionPatch(*v)
	}
	return _u
}

// AddVersionPatch adds value to the "version_patch" field.
func (_u *RouterCapabilityUpdateOne) AddVersionPatch(v int) *RouterCapabilityUpdateOne {
	_u.mutation.AddVersionPatch(v)
	return _u
}

// SetInstalledPackages sets the "installed_packages" field.
func (_u *RouterCapabilityUpdateOne) SetInstalledPackages(v []string) *RouterCapabilityUpdateOne {
	_u.mutation.SetInstalledPackages(v)
	return _u
}

// AppendInstalledPackages appends value to the "installed_packages" field.
func (_u *RouterCapabilityUpdateOne) AppendInstalledPackages(v []string) *RouterCapabilityUpdateOne {
	_u.mutation.AppendInstalledPackages(v)
	return _u
}

// SetLicenseLevel sets the "license_level" field.
func (_u *RouterCapabilityUpdateOne) SetLicenseLevel(v int) *RouterCapabilityUpdateOne {
	_u.mutation.ResetLicenseLevel()
	_u.mutation.SetLicenseLevel(v)
	return _u
}

// SetNillableLicenseLevel sets the "license_level" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableLicenseLevel(v *int) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetLicenseLevel(*v)
	}
	return _u
}

// AddLicenseLevel adds value to the "license_level" field.
func (_u *RouterCapabilityUpdateOne) AddLicenseLevel(v int) *RouterCapabilityUpdateOne {
	_u.mutation.AddLicenseLevel(v)
	return _u
}

// SetUpdateChannel sets the "update_channel" field.
func (_u *RouterCapabilityUpdateOne) SetUpdateChannel(v string) *RouterCapabilityUpdateOne {
	_u.mutation.SetUpdateChannel(v)
	return _u
}

// SetNillableUpdateChannel sets the "update_channel" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableUpdateChannel(v *string) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetUpdateChannel(*v)
	}
	return _u
}

// ClearUpdateChannel clears the value of the "update_channel" field.
func (_u *RouterCapabilityUpdateOne) ClearUpdateChannel() *RouterCapabilityUpdateOne {
	_u.mutation.ClearUpdateChannel()
	return _u
}

// SetContainerPackageInstalled sets the "container_package_installed" field.
func (_u *RouterCapabilityUpdateOne) SetContainerPackageInstalled(v bool) *RouterCapabilityUpdateOne {
	_u.mutation.SetContainerPackageInstalled(v)
	return _u
}

// SetNillableContainerPackageInstalled sets the "container_package_installed" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableContainerPackageInstalled(v *bool) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetContainerPackageInstalled(*v)
	}
	return _u
}

// SetContainerEnabled sets the "container_enabled" field.
func (_u *RouterCapabilityUpdateOne) SetContainerEnabled(v bool) *RouterCapabilityUpdateOne {
	_u.mutation.SetContainerEnabled(v)
	return _u
}

// SetNillableContainerEnabled sets the "container_enabled" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableContainerEnabled(v *bool) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetContainerEnabled(*v)
	}
	return _u
}

// SetContainerRegistryConfigured sets the "container_registry_configured" field.
func (_u *RouterCapabilityUpdateOne) SetContainerRegistryConfigured(v bool) *RouterCapabilityUpdateOne {
	_u.mutation.SetContainerRegistryConfigured(v)
	return _u
}

// SetNillableContainerRegistryConfigured sets the "container_registry_configured" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableContainerRegistryConfigured(v *bool) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetContainerRegistryConfigured(*v)
	}
	return _u
}

// SetContainerStorageAvailable sets the "container_storage_available" field.
func (_u *RouterCapabilityUpdateOne) SetContainerStorageAvailable(v int64) *RouterCapabilityUpdateOne {
	_u.mutation.ResetContainerStorageAvailable()
	_u.mutation.SetContainerStorageAvailable(v)
	return _u
}

// SetNillableContainerStorageAvailable sets the "container_storage_available" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableContainerStorageAvailable(v *int64) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetContainerStorageAvailable(*v)
	}
	return _u
}

// AddContainerStorageAvailable adds value to the "container_storage_available" field.
func (_u *RouterCapabilityUpdateOne) AddContainerStorageAvailable(v int64) *RouterCapabilityUpdateOne {
	_u.mutation.AddContainerStorageAvailable(v)
	return _u
}

// SetSupportsNetworkNamespace sets the "supports_network_namespace" field.
func (_u *RouterCapabilityUpdateOne) SetSupportsNetworkNamespace(v bool) *RouterCapabilityUpdateOne {
	_u.mutation.SetSupportsNetworkNamespace(v)
	return _u
}

// SetNillableSupportsNetworkNamespace sets the "supports_network_namespace" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableSupportsNetworkNamespace(v *bool) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetSupportsNetworkNamespace(*v)
	}
	return _u
}

// SetMaxContainers sets the "max_containers" field.
func (_u *RouterCapabilityUpdateOne) SetMaxContainers(v int) *RouterCapabilityUpdateOne {
	_u.mutation.ResetMaxContainers()
	_u.mutation.SetMaxContainers(v)
	return _u
}

// SetNillableMaxContainers sets the "max_containers" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableMaxContainers(v *int) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetMaxContainers(*v)
	}
	return _u
}

// AddMaxContainers adds value to the "max_containers" field.
func (_u *RouterCapabilityUpdateOne) AddMaxContainers(v int) *RouterCapabilityUpdateOne {
	_u.mutation.AddMaxContainers(v)
	return _u
}

// SetCapabilityEntries sets the "capability_entries" field.
func (_u *RouterCapabilityUpdateOne) SetCapabilityEntries(v map[string]interface{}) *RouterCapabilityUpdateOne {
	_u.mutation.SetCapabilityEntries(v)
	return _u
}

// SetDetectedAt sets the "detected_at" field.
func (_u *RouterCapabilityUpdateOne) SetDetectedAt(v time.Time) *RouterCapabilityUpdateOne {
	_u.mutation.SetDetectedAt(v)
	return _u
}

// SetNillableDetectedAt sets the "detected_at" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableDetectedAt(v *time.Time) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetDetectedAt(*v)
	}
	return _u
}

// SetExpiresAt sets the "expires_at" field.
func (_u *RouterCapabilityUpdateOne) SetExpiresAt(v time.Time) *RouterCapabilityUpdateOne {
	_u.mutation.SetExpiresAt(v)
	return _u
}

// SetNillableExpiresAt sets the "expires_at" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableExpiresAt(v *time.Time) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetExpiresAt(*v)
	}
	return _u
}

// SetIsRefreshing sets the "is_refreshing" field.
func (_u *RouterCapabilityUpdateOne) SetIsRefreshing(v bool) *RouterCapabilityUpdateOne {
	_u.mutation.SetIsRefreshing(v)
	return _u
}

// SetNillableIsRefreshing sets the "is_refreshing" field if the given value is not nil.
func (_u *RouterCapabilityUpdateOne) SetNillableIsRefreshing(v *bool) *RouterCapabilityUpdateOne {
	if v != nil {
		_u.SetIsRefreshing(*v)
	}
	return _u
}

// SetUpdatedAt sets the "updated_at" field.
func (_u *RouterCapabilityUpdateOne) SetUpdatedAt(v time.Time) *RouterCapabilityUpdateOne {
	_u.mutation.SetUpdatedAt(v)
	return _u
}

// Mutation returns the RouterCapabilityMutation object of the builder.
func (_u *RouterCapabilityUpdateOne) Mutation() *RouterCapabilityMutation {
	return _u.mutation
}

// Where appends a list predicates to the RouterCapabilityUpdate builder.
func (_u *RouterCapabilityUpdateOne) Where(ps ...predicate.RouterCapability) *RouterCapabilityUpdateOne {
	_u.mutation.Where(ps...)
	return _u
}

// Select allows selecting one or more fields (columns) of the returned entity.
// The default is selecting all fields defined in the entity schema.
func (_u *RouterCapabilityUpdateOne) Select(field string, fields ...string) *RouterCapabilityUpdateOne {
	_u.fields = append([]string{field}, fields...)
	return _u
}

// Save executes the query and returns the updated RouterCapability entity.
func (_u *RouterCapabilityUpdateOne) Save(ctx context.Context) (*RouterCapability, error) {
	_u.defaults()
	return withHooks(ctx, _u.sqlSave, _u.mutation, _u.hooks)
}

// SaveX is like Save, but panics if an error occurs.
func (_u *RouterCapabilityUpdateOne) SaveX(ctx context.Context) *RouterCapability {
	node, err := _u.Save(ctx)
	if err != nil {
		panic(err)
	}
	return node
}

// Exec executes the query on the entity.
func (_u *RouterCapabilityUpdateOne) Exec(ctx context.Context) error {
	_, err := _u.Save(ctx)
	return err
}

// ExecX is like Exec, but panics if an error occurs.
func (_u *RouterCapabilityUpdateOne) ExecX(ctx context.Context) {
	if err := _u.Exec(ctx); err != nil {
		panic(err)
	}
}

// defaults sets the default values of the builder before save.
func (_u *RouterCapabilityUpdateOne) defaults() {
	if _, ok := _u.mutation.UpdatedAt(); !ok {
		v := routercapability.UpdateDefaultUpdatedAt()
		_u.mutation.SetUpdatedAt(v)
	}
}

// check runs all checks and user-defined validators on the builder.
func (_u *RouterCapabilityUpdateOne) check() error {
	if v, ok := _u.mutation.Architecture(); ok {
		if err := routercapability.ArchitectureValidator(v); err != nil {
			return &ValidationError{Name: "architecture", err: fmt.Errorf(`ent: validator failed for field "RouterCapability.architecture": %w`, err)}
		}
	}
	if v, ok := _u.mutation.Model(); ok {
		if err := routercapability.ModelValidator(v); err != nil {
			return &ValidationError{Name: "model", err: fmt.Errorf(`ent: validator failed for field "RouterCapability.model": %w`, err)}
		}
	}
	if v, ok := _u.mutation.BoardName(); ok {
		if err := routercapability.BoardNameValidator(v); err != nil {
			return &ValidationError{Name: "board_name", err: fmt.Errorf(`ent: validator failed for field "RouterCapability.board_name": %w`, err)}
		}
	}
	if v, ok := _u.mutation.VersionRaw(); ok {
		if err := routercapability.VersionRawValidator(v); err != nil {
			return &ValidationError{Name: "version_raw", err: fmt.Errorf(`ent: validator failed for field "RouterCapability.version_raw": %w`, err)}
		}
	}
	if v, ok := _u.mutation.LicenseLevel(); ok {
		if err := routercapability.LicenseLevelValidator(v); err != nil {
			return &ValidationError{Name: "license_level", err: fmt.Errorf(`ent: validator failed for field "RouterCapability.license_level": %w`, err)}
		}
	}
	if v, ok := _u.mutation.UpdateChannel(); ok {
		if err := routercapability.UpdateChannelValidator(v); err != nil {
			return &ValidationError{Name: "update_channel", err: fmt.Errorf(`ent: validator failed for field "RouterCapability.update_channel": %w`, err)}
		}
	}
	return nil
}

func (_u *RouterCapabilityUpdateOne) sqlSave(ctx context.Context) (_node *RouterCapability, err error) {
	if err := _u.check(); err != nil {
		return _node, err
	}
	_spec := sqlgraph.NewUpdateSpec(routercapability.Table, routercapability.Columns, sqlgraph.NewFieldSpec(routercapability.FieldID, field.TypeString))
	id, ok := _u.mutation.ID()
	if !ok {
		return nil, &ValidationError{Name: "id", err: errors.New(`ent: missing "RouterCapability.id" for update`)}
	}
	_spec.Node.ID.Value = id
	if fields := _u.fields; len(fields) > 0 {
		_spec.Node.Columns = make([]string, 0, len(fields))
		_spec.Node.Columns = append(_spec.Node.Columns, routercapability.FieldID)
		for _, f := range fields {
			if !routercapability.ValidColumn(f) {
				return nil, &ValidationError{Name: f, err: fmt.Errorf("ent: invalid field %q for query", f)}
			}
			if f != routercapability.FieldID {
				_spec.Node.Columns = append(_spec.Node.Columns, f)
			}
		}
	}
	if ps := _u.mutation.predicates; len(ps) > 0 {
		_spec.Predicate = func(selector *sql.Selector) {
			for i := range ps {
				ps[i](selector)
			}
		}
	}
	if value, ok := _u.mutation.Architecture(); ok {
		_spec.SetField(routercapability.FieldArchitecture, field.TypeString, value)
	}
	if value, ok := _u.mutation.Model(); ok {
		_spec.SetField(routercapability.FieldModel, field.TypeString, value)
	}
	if _u.mutation.ModelCleared() {
		_spec.ClearField(routercapability.FieldModel, field.TypeString)
	}
	if value, ok := _u.mutation.BoardName(); ok {
		_spec.SetField(routercapability.FieldBoardName, field.TypeString, value)
	}
	if _u.mutation.BoardNameCleared() {
		_spec.ClearField(routercapability.FieldBoardName, field.TypeString)
	}
	if value, ok := _u.mutation.TotalMemory(); ok {
		_spec.SetField(routercapability.FieldTotalMemory, field.TypeInt64, value)
	}
	if value, ok := _u.mutation.AddedTotalMemory(); ok {
		_spec.AddField(routercapability.FieldTotalMemory, field.TypeInt64, value)
	}
	if value, ok := _u.mutation.AvailableStorage(); ok {
		_spec.SetField(routercapability.FieldAvailableStorage, field.TypeInt64, value)
	}
	if value, ok := _u.mutation.AddedAvailableStorage(); ok {
		_spec.AddField(routercapability.FieldAvailableStorage, field.TypeInt64, value)
	}
	if value, ok := _u.mutation.CPUCount(); ok {
		_spec.SetField(routercapability.FieldCPUCount, field.TypeInt, value)
	}
	if value, ok := _u.mutation.AddedCPUCount(); ok {
		_spec.AddField(routercapability.FieldCPUCount, field.TypeInt, value)
	}
	if value, ok := _u.mutation.HasWirelessChip(); ok {
		_spec.SetField(routercapability.FieldHasWirelessChip, field.TypeBool, value)
	}
	if value, ok := _u.mutation.HasLteModule(); ok {
		_spec.SetField(routercapability.FieldHasLteModule, field.TypeBool, value)
	}
	if value, ok := _u.mutation.VersionRaw(); ok {
		_spec.SetField(routercapability.FieldVersionRaw, field.TypeString, value)
	}
	if value, ok := _u.mutation.VersionMajor(); ok {
		_spec.SetField(routercapability.FieldVersionMajor, field.TypeInt, value)
	}
	if value, ok := _u.mutation.AddedVersionMajor(); ok {
		_spec.AddField(routercapability.FieldVersionMajor, field.TypeInt, value)
	}
	if value, ok := _u.mutation.VersionMinor(); ok {
		_spec.SetField(routercapability.FieldVersionMinor, field.TypeInt, value)
	}
	if value, ok := _u.mutation.AddedVersionMinor(); ok {
		_spec.AddField(routercapability.FieldVersionMinor, field.TypeInt, value)
	}
	if value, ok := _u.mutation.VersionPatch(); ok {
		_spec.SetField(routercapability.FieldVersionPatch, field.TypeInt, value)
	}
	if value, ok := _u.mutation.AddedVersionPatch(); ok {
		_spec.AddField(routercapability.FieldVersionPatch, field.TypeInt, value)
	}
	if value, ok := _u.mutation.InstalledPackages(); ok {
		_spec.SetField(routercapability.FieldInstalledPackages, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedInstalledPackages(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, routercapability.FieldInstalledPackages, value)
		})
	}
	if value, ok := _u.mutation.LicenseLevel(); ok {
		_spec.SetField(routercapability.FieldLicenseLevel, field.TypeInt, value)
	}
	if value, ok := _u.mutation.AddedLicenseLevel(); ok {
		_spec.AddField(routercapability.FieldLicenseLevel, field.TypeInt, value)
	}
	if value, ok := _u.mutation.UpdateChannel(); ok {
		_spec.SetField(routercapability.FieldUpdateChannel, field.TypeString, value)
	}
	if _u.mutation.UpdateChannelCleared() {
		_spec.ClearField(routercapability.FieldUpdateChannel, field.TypeString)
	}
	if value, ok := _u.mutation.ContainerPackageInstalled(); ok {
		_spec.SetField(routercapability.FieldContainerPackageInstalled, field.TypeBool, value)
	}
	if value, ok := _u.mutation.ContainerEnabled(); ok {
		_spec.SetField(routercapability.FieldContainerEnabled, field.TypeBool, value)
	}
	if value, ok := _u.mutation.ContainerRegistryConfigured(); ok {
		_spec.SetField(routercapability.FieldContainerRegistryConfigured, field.TypeBool, value)
	}
	if value, ok := _u.mutation.ContainerStorageAvailable(); ok {
		_spec.SetField(routercapability.FieldContainerStorageAvailable, field.TypeInt64, value)
	}
	if value, ok := _u.mutation.AddedContainerStorageAvailable(); ok {
		_spec.AddField(routercapability.FieldContainerStorageAvailable, field.TypeInt64, value)
	}
	if value, ok := _u.mutation.SupportsNetworkNamespace(); ok {
		_spec.SetField(routercapability.FieldSupportsNetworkNamespace, field.TypeBool, value)
	}
	if value, ok := _u.mutation.MaxContainers(); ok {
		_spec.SetField(routercapability.FieldMaxContainers, field.TypeInt, value)
	}
	if value, ok := _u.mutation.AddedMaxContainers(); ok {
		_spec.AddField(routercapability.FieldMaxContainers, field.TypeInt, value)
	}
	if value, ok := _u.mutation.CapabilityEntries(); ok {
		_spec.SetField(routercapability.FieldCapabilityEntries, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.DetectedAt(); ok {
		_spec.SetField(routercapability.FieldDetectedAt, field.TypeTime, value)
	}
	if value, ok := _u.mutation.ExpiresAt(); ok {
		_spec.SetField(routercapability.FieldExpiresAt, field.TypeTime, value)
	}
	if value, ok := _u.mutation.IsRefreshing(); ok {
		_spec.SetField(routercapability.FieldIsRefreshing, field.TypeBool, value)
	}
	if value, ok := _u.mutation.UpdatedAt(); ok {
		_spec.SetField(routercapability.FieldUpdatedAt, field.TypeTime, value)
	}
	_spec.Node.Schema = _u.schemaConfig.RouterCapability
	ctx = internal.NewSchemaConfigContext(ctx, _u.schemaConfig)
	_node = &RouterCapability{config: _u.config}
	_spec.Assign = _node.assignValues
	_spec.ScanValues = _node.scanValues
	if err = sqlgraph.UpdateNode(ctx, _u.driver, _spec); err != nil {
		if _, ok := err.(*sqlgraph.NotFoundError); ok {
			err = &NotFoundError{routercapability.Label}
		} else if sqlgraph.IsConstraintError(err) {
			err = &ConstraintError{msg: err.Error(), wrap: err}
		}
		return nil, err
	}
	_u.mutation.done = true
	return _node, nil
}
