# ============================================
# DEVICE ROUTING MUTATIONS
# ============================================

extend type Mutation {
  """
  Assign a device to route through a specific service instance.
  Creates a MikroTik mangle rule for Policy-Based Routing (PBR).
  """
  assignDeviceRouting(input: AssignDeviceRoutingInput!): DeviceRouting!

  """
  Remove a device routing assignment.
  Deletes the MikroTik mangle rule and database record.
  """
  removeDeviceRouting(
    """Router ID"""
    routerID: ID!

    """Device ID to unroute"""
    deviceID: String!
  ): Boolean!

  """
  Assign multiple devices to routing in a single operation.
  Each assignment is processed independently (partial success allowed).
  """
  bulkAssignRouting(input: BulkAssignRoutingInput!): BulkRoutingResult!
}
