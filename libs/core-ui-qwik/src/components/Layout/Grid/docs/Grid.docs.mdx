import { Meta, Primary, Controls, Story } from "@storybook/blocks";
import * as GridStories from "./Grid.stories";

<Meta of={GridStories} />

# Grid

The Grid component is a layout primitive for creating two-dimensional grid layouts with CSS Grid.

## Overview

Grid is a versatile layout component that makes it easy to create:

- Responsive grid layouts that adapt to different screen sizes
- Complex layouts with precise item placement
- Auto-fit and auto-fill responsive grids
- Grid layouts with consistent spacing and alignment

The component provides a simple, declarative API that abstracts away the complexity of CSS Grid while providing access to its powerful features.

## Usage

```tsx
import { Grid, GridItem } from '@connect/Core/Layout/Grid';

// Basic 3-column grid
<Grid columns="3" gap="md">
  <div>Item 1</div>
  <div>Item 2</div>
  <div>Item 3</div>
  <div>Item 4</div>
  <div>Item 5</div>
  <div>Item 6</div>
</Grid>

// Responsive grid
<Grid
  columns={{
    base: '1',
    sm: '2',
    md: '3',
    lg: '4'
  }}
  gap="md"
>
  <div>Item 1</div>
  <div>Item 2</div>
  <div>Item 3</div>
  <div>Item 4</div>
</Grid>

// Grid with items that span multiple cells
<Grid columns="3" gap="md">
  <GridItem colSpan={3}>
    <div>Full width item</div>
  </GridItem>
  <GridItem colSpan={2}>
    <div>Item spanning 2 columns</div>
  </GridItem>
  <div>Regular item</div>
</Grid>
```

## Examples

### Basic Grid

<Primary />

A simple 3-column grid with consistent spacing.

### Responsive Columns

<Story of={GridStories.ResponsiveColumns} />

Grids can adapt to different screen sizes using the responsive columns API.

### Auto-fit Grid

<Story of={GridStories.AutofitGrid} />

Auto-fit grids automatically adjust the number of columns based on the available space and minimum column width.

### Column and Row Spans

<Story of={GridStories.ColumnAndRowSpans} />

Items can span multiple columns or rows to create more complex layouts.

### Explicit Grid Positioning

<Story of={GridStories.GridPositioning} />

For complete control, you can specify exactly where each item should be placed in the grid.

### Gap Sizes

<Story of={GridStories.GapSizes} />

Control the spacing between grid items with various gap sizes.

### Different Column and Row Gaps

<Story of={GridStories.DifferentColRowGaps} />

Column and row gaps can be configured independently for more flexibility.

### Auto Flow Behavior

<Story of={GridStories.AutoFlowExamples} />

Control how the auto-placement algorithm works with different auto-flow settings.

### Alignment Options

<Story of={GridStories.AlignmentExamples} />

Grid items can be aligned horizontally and vertically within their cells.

### Custom Templates

<Story of={GridStories.CustomTemplate} />

For advanced layouts, you can provide custom grid templates using CSS Grid's syntax.

## Grid Props

<Controls />

## GridItem Props

The `GridItem` component accepts the following props:

| Prop       | Type                | Default | Description                                            |
| ---------- | ------------------- | ------- | ------------------------------------------------------ |
| `colStart` | `number \| 'auto'`  | -       | The column the grid item should start at (1-13)        |
| `colEnd`   | `number \| 'auto'`  | -       | The column the grid item should end at (1-13)          |
| `rowStart` | `number \| 'auto'`  | -       | The row the grid item should start at (1-7)            |
| `rowEnd`   | `number \| 'auto'`  | -       | The row the grid item should end at (1-7)              |
| `colSpan`  | `number \| 'full'`  | -       | The number of columns the grid item should span (1-12) |
| `rowSpan`  | `number \| 'full'`  | -       | The number of rows the grid item should span (1-6)     |
| `children` | `JSXNode \| string` | -       | The content of the grid item                           |
| `class`    | `string`            | -       | Additional CSS classes to apply to the grid item       |

## Accessibility

The Grid component includes several features to ensure accessibility:

- Semantic HTML structure with appropriate ARIA attributes
- Configurable `role` and `aria-label` for proper screen reader support
- Follows a logical source order by default, which is important for keyboard navigation

## Best Practices

1. **Choose the right layout primitive**: Use Grid when you need to create two-dimensional layouts. For one-dimensional layouts, consider using Stack instead.

2. **Start with responsive presets**: Begin with the responsive column presets before resorting to custom templates.

3. **Be mindful of content order**: The visual order in a grid can differ from the DOM order, which can affect keyboard navigation. Ensure the content flows logically.

4. **Consider auto-fit/auto-fill for dynamic content**: When dealing with variable amounts of content, use auto-fit or auto-fill for a responsive layout that handles different screen sizes well.

5. **Use gap consistently**: Maintain consistent gap sizes across your application to create a cohesive feel.

6. **Combine with GridItem for complex layouts**: For precise control over cell placement and spanning, combine Grid with GridItem components.

## Related Components

- **Box**: A foundational layout component for creating containers with consistent styling
- **Stack**: A one-dimensional layout component for arranging elements vertically or horizontally
- **Flex**: A more advanced component with full flexbox capabilities (coming soon)
- **Container**: A component for constraining content width and applying consistent page margins
