import { Meta, Title, Controls, Canvas, Story } from "@storybook/blocks";
import * as DatePickerStories from "./DatePicker.stories";

<Meta of={DatePickerStories} />

# DatePicker

The DatePicker component provides a comprehensive solution for selecting dates, date ranges, and date-time combinations with a user-friendly calendar interface.

## Overview

DatePicker supports three main modes: single date selection, date range selection, and date-time selection. The component is highly customizable, supports internationalization, and follows accessibility best practices.

## Features

- **Multiple Selection Modes**:

  - Single date selection
  - Date range selection
  - Date and time selection

- **Flexible Configuration**:

  - Three size options (sm, md, lg)
  - Various date formats
  - Support for multiple languages
  - Customizable calendar appearance

- **Advanced Functionality**:

  - Min/max date constraints
  - Disabled date exclusions
  - Week start options (Sunday/Monday/etc.)
  - Week number display
  - Time increments and formats (12/24 hour)

- **Accessibility**:
  - Keyboard navigation
  - ARIA attributes
  - Screen reader support
  - Focus management

## Basic Usage

### Single Date Selection

<Canvas of={DatePickerStories.SingleDatePicker} />

### Date Range Selection

<Canvas of={DatePickerStories.DateRangePicker} />

### Date Time Selection

<Canvas of={DatePickerStories.DateTimePicker} />

## Size Variants

The DatePicker comes in three different sizes to match different UI contexts.

<Canvas of={DatePickerStories.Sizes} />

## States

DatePicker supports various states including default, error, and disabled.

<Canvas of={DatePickerStories.States} />

## Date Format Options

Customize how dates are displayed and parsed.

<Canvas of={DatePickerStories.FormatOptions} />

## Week Start Options

Configure which day of the week should appear first in the calendar.

<Canvas of={DatePickerStories.WeekStartOptions} />

## Min/Max Date Constraints

Restrict date selection to certain ranges.

<Canvas of={DatePickerStories.MinMaxDates} />

## Controlled DatePicker

Use the DatePicker in controlled mode for more complex interactions.

<Canvas of={DatePickerStories.Controlled} />

## Controlled Range Selection

Handle range selection in controlled mode.

<Canvas of={DatePickerStories.ControlledRange} />

## Controlled DateTime Selection

Handle date and time selection in controlled mode.

<Canvas of={DatePickerStories.ControlledDateTime} />

## Inline Calendar

Display the calendar permanently without a popup.

<Canvas of={DatePickerStories.InlineCalendar} />

## DateTime Options

Various configuration options for time selection.

<Canvas of={DatePickerStories.DateTimeOptions} />

## Localized DatePickers

Support for different languages and locales.

<Canvas of={DatePickerStories.LocalizedDatePickers} />

## Form Integration

Example of DatePicker components used in a form with validation.

<Canvas of={DatePickerStories.FormIntegration} />

## Props

<Controls />

## Accessibility

The DatePicker component follows accessibility best practices:

- Uses semantic HTML with proper ARIA attributes
- Supports keyboard navigation
- Calendar days are focusable and selectable via keyboard
- Announces state changes and selection to screen readers
- Calendar popup is implemented as a dialog with proper aria-modal
- Date format is clearly communicated to the user

## Usage Guidelines

1. **Selection Mode**: Choose the appropriate mode (single, range, datetime) based on your use case.

2. **Localization**: For international applications, ensure the locale prop is set correctly to display day and month names in the user's language.

3. **Date Constraints**: Use minDate and maxDate props to restrict date selection to valid ranges for your application.

4. **Format**: Select a date format that is familiar to your users based on their region.

5. **Inline vs. Popup**: Use inline mode for UIs where the calendar should be always visible, and popup mode for space-constrained UIs.

6. **Size Selection**: Match the component size to other form elements in your UI for consistency.

7. **Time Selection**: For datetime mode, choose appropriate time increments (e.g., 15 minutes for general scheduling, 5 minutes for more precise timing).

## Implementation Notes

- The component uses Qwik's `useSignal` and `useComputed$` for managing state.
- Calendar rendering is optimized to only re-render when necessary.
- Date manipulation is done using native JavaScript Date objects.
- The component is implemented in three parts: DatePicker (main component), CalendarView (calendar UI), and TimeSelector (time selection UI).

## Related Components

- Input: For text input fields
- TextArea: For multi-line text input
- Select: For selection from options
- Form: For grouping form elements
