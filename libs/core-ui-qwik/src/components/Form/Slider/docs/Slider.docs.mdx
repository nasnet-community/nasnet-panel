import { Meta, Title, Controls, Canvas, Story } from "@storybook/blocks";
import * as SliderStories from "./Slider.stories";

<Meta of={SliderStories} />

# Slider

The Slider component allows users to select a value or range by dragging a thumb along a track. It's useful for adjusting settings with a visual representation.

## Overview

The Slider component provides an intuitive interface for selecting numeric values within a specified range. It supports both single-value selection and range selection with multiple configuration options.

## Features

- **Value Selection Types**:
  - Single value slider
  - Range slider with two thumbs
- **Visual Customization**:
  - Three size variants (sm, md, lg)
  - Multiple visual styles (default, filled)
  - Horizontal and vertical orientations
  - Customizable track and thumb appearance
- **Interactive Elements**:
  - Draggable thumbs
  - Optional marks and tick marks
  - Value display
- **Accessibility**:
  - Keyboard navigation support
  - ARIA attributes for screen readers
  - Focus management
- **Form Integration**:
  - Supports form submission
  - Controlled and uncontrolled modes
  - Validation states

## Basic Usage

<Canvas of={SliderStories.Default} />

## Range Slider

<Canvas of={SliderStories.Range} />

## With Marks

<Canvas of={SliderStories.WithMarks} />

## With Custom Marks

<Canvas of={SliderStories.WithCustomMarks} />

## Vertical Orientation

<Canvas of={SliderStories.Vertical} />

## Size Variants

<Canvas of={SliderStories.Sizes} />

## Visual Variants

<Canvas of={SliderStories.Variants} />

## States

<Canvas of={SliderStories.States} />

## Range with Constraints

<Canvas of={SliderStories.RangeWithConstraints} />

## Controlled Slider

<Canvas of={SliderStories.Controlled} />

## Form Integration

<Canvas of={SliderStories.FormIntegration} />

## Props

<Controls />

## Accessibility

The Slider component follows accessibility best practices:

- Uses semantic HTML with proper ARIA roles and attributes
- Supports keyboard navigation:
  - Arrow keys: Increase/decrease value by step amount
  - Page Up/Down: Increase/decrease value by larger step amount
  - Home/End: Move to minimum/maximum values
  - Shift + Arrow keys: Increase/decrease by larger increments
- Provides visual feedback for focus, hover, and active states
- Includes descriptive labels and value announcements for screen readers
- Supports disabled and read-only states

## Keyboard Support

| Key                         | Function                               |
| --------------------------- | -------------------------------------- |
| `Arrow Right` / `Arrow Up`  | Increase value by one step             |
| `Arrow Left` / `Arrow Down` | Decrease value by one step             |
| `Page Up`                   | Increase value by multiple steps       |
| `Page Down`                 | Decrease value by multiple steps       |
| `Home`                      | Set to minimum value                   |
| `End`                       | Set to maximum value                   |
| `Shift + Arrow keys`        | Increase/decrease by larger increments |

## Usage Guidelines

1. **Choose the Right Type**: Use the single-value slider for simple selections and the range slider when users need to define a span between two values.

2. **Set Appropriate Step Size**: Choose a step size that makes sense for your data. Smaller steps provide more precision but can make large value changes tedious.

3. **Show Values When Helpful**: Enable `showValue` when precision is important or when the visual position alone isn't clear enough.

4. **Use Marks for Context**: Add marks to provide context about significant points on the scale. For example, mark "Low," "Medium," and "High" on a volume control.

5. **Vertical vs. Horizontal**: Use the horizontal orientation (default) for most cases. Vertical orientation works well for volume controls or other level indicators where vertical metaphors are common.

6. **Consider Range Constraints**: When using a range slider, consider setting `minRange` and `maxRange` to prevent inappropriate ranges (e.g., date spans that are too short or too long).

7. **Provide Clear Labels**: Always include a clear label and helper text to explain what the slider controls.

## Implementation Notes

The Slider component is built with Qwik's reactivity system:

- Uses `useSignal` for internal state management
- Handles mouse, touch, and keyboard interactions
- Provides controlled and uncontrolled usage modes
- Efficiently updates the DOM with minimal re-renders

## Related Components

- Input: For direct numeric input
- Switch: For binary on/off selections
- RadioGroup: For selecting from predefined options
- Select: For selecting from a list of predefined options
- FormLabel: For providing accessible labels
- FormHelperText: For additional descriptive text
- FormErrorMessage: For validation error messages
